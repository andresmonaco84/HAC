create or replace procedure PRC_ATD_PME_PRESC_MEDICA_L
(
     pATD_PME_ID IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_ID%type DEFAULT NULL,
     pATD_ATE_ID IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_ATE_ID%type DEFAULT NULL,
     pATD_PME_FL_STATUS IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_FL_STATUS%type DEFAULT NULL,
     pATD_PME_TP_PRESCRICAO IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_TP_PRESCRICAO%type DEFAULT NULL,
     pATD_PME_QT_PESO IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_QT_PESO%type DEFAULT NULL,
     pATD_PME_FL_PESO_AFERIDO IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_FL_PESO_AFERIDO%type DEFAULT NULL,
     pATD_PME_FL_PESO_REFERIDO IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_FL_PESO_REFERIDO%type DEFAULT NULL,
     pATD_PME_QT_ALTURA IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_QT_ALTURA%type DEFAULT NULL,
     pATD_PME_QT_PESO_CALORICO IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_QT_PESO_CALORICO%type DEFAULT NULL,
     pATD_PME_FL_ALERGIA IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_FL_ALERGIA%type DEFAULT NULL,
     pATD_PME_DS_ALERGIA IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_DS_ALERGIA%type DEFAULT NULL,
     pATD_PME_DT_HR_CRIACAO IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_DT_HR_CRIACAO%type DEFAULT NULL,
     pATD_PME_ID_USU_CRIACAO IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_ID_USU_CRIACAO%type DEFAULT NULL,
     pATD_PME_DT_ULT_ATUALIZ IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_DT_ULT_ATUALIZ%type DEFAULT NULL,
     pATD_PME_ID_USU_ULT_ATUALIZ IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_ID_USU_ULT_ATUALIZ%type DEFAULT NULL,
     pATD_PME_FL_RN IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_FL_RN%type DEFAULT NULL,
     pATD_IDR_ID IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_IDR_ID%type DEFAULT NULL,
     pATD_PME_DT_HEMODIALISE IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_DT_HEMODIALISE%type DEFAULT NULL,
     pATD_PME_HR_H_INI IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_HR_H_INI%type DEFAULT NULL,
     pATD_PME_HR_H_FIM IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_HR_H_FIM%type DEFAULT NULL,
     pATD_PME_FL_H_PESO IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_FL_H_PESO%type DEFAULT NULL,
     pATD_PME_VL_H_PESO IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_VL_H_PESO%type DEFAULT NULL,
     pATD_PME_FL_H_ISOLAMENTO IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_FL_H_ISOLAMENTO%type DEFAULT NULL,
     pATD_PME_VL_H_ISOLAMENTO IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_VL_H_ISOLAMENTO%type DEFAULT NULL,
     pATD_PME_FL_H_SOROLOGIA IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_FL_H_SOROLOGIA%type DEFAULT NULL,
     pATD_PME_FL_H_HBSAG IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_FL_H_HBSAG%type DEFAULT NULL,
     pATD_PME_FL_H_ANTIHCV IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_FL_H_ANTIHCV%type DEFAULT NULL,
     pATD_PME_FL_H_ANTIHIV IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_FL_H_ANTIHIV%type DEFAULT NULL,
     pATD_PME_VL_H_PESOSECOPRE IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_VL_H_PESOSECOPRE%type DEFAULT NULL,
     pATD_PME_VL_H_PESOSECOPOS IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_VL_H_PESOSECOPOS%type DEFAULT NULL,
     pATD_PME_VL_H_PAMINPRE IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_VL_H_PAMINPRE%type DEFAULT NULL,
     pATD_PME_VL_H_PAMAXPRE IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_VL_H_PAMAXPRE%type DEFAULT NULL,
     pATD_PME_VL_H_PAMINPOS IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_VL_H_PAMINPOS%type DEFAULT NULL,
     pATD_PME_VL_H_PAMAXPOS IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_VL_H_PAMAXPOS%type DEFAULT NULL,
     pATD_PME_VL_H_PULSOPRE IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_VL_H_PULSOPRE%type DEFAULT NULL,
     pATD_PME_VL_H_PULSOPOS IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_VL_H_PULSOPOS%type DEFAULT NULL,
     pATD_PME_HR_H_DURACAO IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_HR_H_DURACAO%type DEFAULT NULL,
     pATD_PME_VL_H_DIALISATONA IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_VL_H_DIALISATONA%type DEFAULT NULL,
     pATD_PME_VL_H_DIALISATOCA IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_VL_H_DIALISATOCA%type DEFAULT NULL,
     pATD_PME_VL_H_ADICAODEK IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_VL_H_ADICAODEK%type DEFAULT NULL,
     pATD_PME_VL_H_HEPARINA IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_VL_H_HEPARINA%type DEFAULT NULL,
     pATD_PME_VL_H_TEMPERATURA IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_VL_H_TEMPERATURA%type DEFAULT NULL,
     pATD_PME_VL_H_FLUXODIALISAT IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_VL_H_FLUXODIALISAT%type DEFAULT NULL,
     pATD_PME_VL_H_FLUXOSANGUE IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_VL_H_FLUXOSANGUE%type DEFAULT NULL,
     pATD_PME_VL_H_ULTRAFILTRACAO IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_VL_H_ULTRAFILTRACAO%type DEFAULT NULL,
     pATD_PME_VL_H_GLICEMIACAPILA IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_VL_H_GLICEMIACAPILA%type DEFAULT NULL,
     pATD_PME_DS_H_OBSERVACAO_MED IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_DS_H_OBSERVACAO_MED%type DEFAULT NULL,
     pATD_PME_CD_H_E_VIAACESSO IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_CD_H_E_VIAACESSO%type DEFAULT NULL,

     pATD_PME_DS_H_E_OBSERVACAO IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_DS_H_E_OBSERVACAO%type DEFAULT NULL,

     pATD_PME_FL_H_ENCAMINHAM IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_FL_H_ENCAMINHAM%type default NULL ,
     pATD_PME_FL_H_E_STATUS IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_FL_H_E_STATUS%type default NULL ,
     pATD_PME_FL_TEV_AVALIACAO IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_FL_TEV_AVALIACAO%type DEFAULT NULL,
     pATD_PME_FL_TEV_CONTR_IND IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_FL_TEV_CONTR_IND%type DEFAULT NULL,
     pATD_PME_DS_TEV_OBSERVACAO IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_DS_TEV_OBSERVACAO%type DEFAULT NULL,
     pATD_PME_ID_H_E_USU_CRIACAO IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_ID_H_E_USU_CRIACAO%type DEFAULT NULL,
     pATD_PME_DT_H_E_CRIACAO IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_DT_H_E_CRIACAO%type DEFAULT NULL,
     pATD_PME_ID_H_E_USU_ATUALIZ IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_ID_H_E_USU_ATUALIZ%type DEFAULT NULL,
     pATD_PME_DT_H_E_ULT_ATUALIZ IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_DT_H_E_ULT_ATUALIZ%type DEFAULT NULL,
     pATD_PME_FL_H_STATUS IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_FL_H_STATUS%type DEFAULT NULL,
     pATD_PME_DS_OBS_FARMACIA IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_DS_OBS_FARMACIA%type DEFAULT NULL,
     pATD_PME_DS_JUSTIF IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_DS_JUSTIF%type DEFAULT NULL,
     pATD_PME_DS_OBS_FARMAC_ANT IN TB_ATD_PME_PRESCRICAO_MEDICA.ATD_PME_DS_OBS_FARMAC_ANT%type DEFAULT NULL,
     pSEG_USU_ID_INTERV_ANT IN TB_ATD_PME_PRESCRICAO_MEDICA.SEG_USU_ID_INTERV_ANT%type DEFAULT NULL,
     pSEG_USU_ID_INTERV IN TB_ATD_PME_PRESCRICAO_MEDICA.SEG_USU_ID_INTERV%type DEFAULT NULL,
     
     io_cursor OUT PKG_CURSOR.t_cursor
)
is
/********************************************************************
*    Procedure: PRC_ATD_PME_PRESCRICAO_MEDICA_L
*
*    Data Criacao:   data da  cria??o   Por: Nome do Analista
*    Data Alteracao:  data da altera??o  Por: Nome do Analista
*
*    Funcao: Descri??o da funcionalidade da Stored Procedure
*
*******************************************************************/
 v_cursor PKG_CURSOR.t_cursor;
  V_WHERE  varchar2(5000);
  V_SELECT  varchar2(5000);
begin
  V_WHERE := NULL;
  IF pATD_PME_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_ID = ' || pATD_PME_ID; END IF;
IF pATD_ATE_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_ATE_ID = ' || pATD_ATE_ID; END IF;
IF pATD_PME_FL_STATUS IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_FL_STATUS = ' || CHR(39) || pATD_PME_FL_STATUS || CHR(39); END IF;
IF pATD_PME_TP_PRESCRICAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_TP_PRESCRICAO = ' || pATD_PME_TP_PRESCRICAO; END IF;
IF pATD_PME_QT_PESO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_QT_PESO = ' || pATD_PME_QT_PESO; END IF;
IF pATD_PME_FL_PESO_AFERIDO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_FL_PESO_AFERIDO = ' || CHR(39) || pATD_PME_FL_PESO_AFERIDO || CHR(39); END IF;
IF pATD_PME_FL_PESO_REFERIDO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_FL_PESO_REFERIDO = ' || CHR(39) || pATD_PME_FL_PESO_REFERIDO || CHR(39); END IF;
IF pATD_PME_QT_ALTURA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_QT_ALTURA = ' || pATD_PME_QT_ALTURA; END IF;
IF pATD_PME_QT_PESO_CALORICO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_QT_PESO_CALORICO = ' || pATD_PME_QT_PESO_CALORICO; END IF;
IF pATD_PME_FL_ALERGIA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_FL_ALERGIA = ' || CHR(39) || pATD_PME_FL_ALERGIA || CHR(39); END IF;
IF pATD_PME_DS_ALERGIA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_DS_ALERGIA = ' || CHR(39) || pATD_PME_DS_ALERGIA || CHR(39); END IF;
IF pATD_PME_DT_HR_CRIACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND TRUNC(ATD_PME_DT_HR_CRIACAO) = ' || CHR(39) || TRUNC(pATD_PME_DT_HR_CRIACAO) || CHR(39); END IF;
IF pATD_PME_ID_USU_CRIACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_ID_USU_CRIACAO = ' || pATD_PME_ID_USU_CRIACAO; END IF;
IF pATD_PME_DT_ULT_ATUALIZ IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND TRUNC(ATD_PME_DT_ULT_ATUALIZ) = ' || CHR(39) || TRUNC(pATD_PME_DT_ULT_ATUALIZ) || CHR(39); END IF;
IF pATD_PME_ID_USU_ULT_ATUALIZ IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_ID_USU_ULT_ATUALIZ = ' || pATD_PME_ID_USU_ULT_ATUALIZ; END IF;
IF pATD_PME_FL_RN IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_FL_RN = ' || CHR(39) || pATD_PME_FL_RN || CHR(39); END IF;
IF pATD_IDR_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_IDR_ID = ' || pATD_IDR_ID; END IF;
IF pATD_PME_DT_HEMODIALISE IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_DT_HEMODIALISE = ' || CHR(39) || pATD_PME_DT_HEMODIALISE || CHR(39); END IF;
IF pATD_PME_HR_H_INI IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_HR_H_INI = ' || pATD_PME_HR_H_INI; END IF;
IF pATD_PME_HR_H_FIM IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_HR_H_FIM = ' || pATD_PME_HR_H_FIM; END IF;
IF pATD_PME_FL_H_PESO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_FL_H_PESO = ' || CHR(39) || pATD_PME_FL_H_PESO || CHR(39); END IF;
IF pATD_PME_VL_H_PESO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_VL_H_PESO = ' || pATD_PME_VL_H_PESO; END IF;
IF pATD_PME_FL_H_ISOLAMENTO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_FL_H_ISOLAMENTO = ' || CHR(39) || pATD_PME_FL_H_ISOLAMENTO || CHR(39); END IF;
IF pATD_PME_VL_H_ISOLAMENTO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_VL_H_ISOLAMENTO = ' || CHR(39) ||  pATD_PME_VL_H_ISOLAMENTO || CHR(39); END IF;
IF pATD_PME_FL_H_SOROLOGIA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_FL_H_SOROLOGIA = ' || CHR(39) || pATD_PME_FL_H_SOROLOGIA || CHR(39); END IF;
IF pATD_PME_FL_H_HBSAG IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_FL_H_HBSAG = ' || CHR(39) || pATD_PME_FL_H_HBSAG || CHR(39); END IF;
IF pATD_PME_FL_H_ANTIHCV IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_FL_H_ANTIHCV = ' || CHR(39) || pATD_PME_FL_H_ANTIHCV || CHR(39); END IF;
IF pATD_PME_FL_H_ANTIHIV IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_FL_H_ANTIHIV = ' || CHR(39) || pATD_PME_FL_H_ANTIHIV || CHR(39); END IF;
IF pATD_PME_VL_H_PESOSECOPRE IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_VL_H_PESOSECOPRE = ' || pATD_PME_VL_H_PESOSECOPRE; END IF;
IF pATD_PME_VL_H_PESOSECOPOS IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_VL_H_PESOSECOPOS = ' || pATD_PME_VL_H_PESOSECOPOS; END IF;
IF pATD_PME_VL_H_PAMINPRE IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_VL_H_PAMINPRE = ' || pATD_PME_VL_H_PAMINPRE; END IF;
IF pATD_PME_VL_H_PAMAXPRE IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_VL_H_PAMAXPRE = ' || pATD_PME_VL_H_PAMAXPRE; END IF;
IF pATD_PME_VL_H_PAMINPOS IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_VL_H_PAMINPOS = ' || pATD_PME_VL_H_PAMINPOS; END IF;
IF pATD_PME_VL_H_PAMAXPOS IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_VL_H_PAMAXPOS = ' || pATD_PME_VL_H_PAMAXPOS; END IF;
IF pATD_PME_VL_H_PULSOPRE IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_VL_H_PULSOPRE = ' || pATD_PME_VL_H_PULSOPRE; END IF;
IF pATD_PME_VL_H_PULSOPOS IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_VL_H_PULSOPOS = ' || pATD_PME_VL_H_PULSOPOS; END IF;
IF pATD_PME_HR_H_DURACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_HR_H_DURACAO = ' || pATD_PME_HR_H_DURACAO; END IF;
IF pATD_PME_VL_H_DIALISATONA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_VL_H_DIALISATONA = ' || pATD_PME_VL_H_DIALISATONA; END IF;
IF pATD_PME_VL_H_DIALISATOCA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_VL_H_DIALISATOCA = ' || pATD_PME_VL_H_DIALISATOCA; END IF;
IF pATD_PME_VL_H_ADICAODEK IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_VL_H_ADICAODEK = ' || pATD_PME_VL_H_ADICAODEK; END IF;
IF pATD_PME_VL_H_HEPARINA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_VL_H_HEPARINA = ' || pATD_PME_VL_H_HEPARINA; END IF;
IF pATD_PME_VL_H_TEMPERATURA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_VL_H_TEMPERATURA = ' || pATD_PME_VL_H_TEMPERATURA; END IF;
IF pATD_PME_VL_H_FLUXODIALISAT IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_VL_H_FLUXODIALISAT = ' || pATD_PME_VL_H_FLUXODIALISAT; END IF;
IF pATD_PME_VL_H_FLUXOSANGUE IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_VL_H_FLUXOSANGUE = ' || pATD_PME_VL_H_FLUXOSANGUE; END IF;
IF pATD_PME_VL_H_ULTRAFILTRACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_VL_H_ULTRAFILTRACAO = ' || pATD_PME_VL_H_ULTRAFILTRACAO; END IF;
IF pATD_PME_VL_H_GLICEMIACAPILA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_VL_H_GLICEMIACAPILA = ' || pATD_PME_VL_H_GLICEMIACAPILA; END IF;
IF pATD_PME_DS_H_OBSERVACAO_MED IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_DS_H_OBSERVACAO_MED = ' || CHR(39) || pATD_PME_DS_H_OBSERVACAO_MED || CHR(39); END IF;
IF pATD_PME_CD_H_E_VIAACESSO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_CD_H_E_VIAACESSO = ' || CHR(39) || pATD_PME_CD_H_E_VIAACESSO || CHR(39); END IF;
IF pATD_PME_DS_H_E_OBSERVACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_DS_H_E_OBSERVACAO = ' || CHR(39) || pATD_PME_DS_H_E_OBSERVACAO || CHR(39); END IF;
IF pATD_PME_FL_H_ENCAMINHAM IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_FL_H_ENCAMINHAM = ' || CHR(39) || pATD_PME_FL_H_ENCAMINHAM || CHR(39); END IF;
IF pATD_PME_FL_H_E_STATUS IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_FL_H_E_STATUS = ' || CHR(39) || pATD_PME_FL_H_E_STATUS || CHR(39); END IF;
IF pATD_PME_FL_TEV_AVALIACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_FL_TEV_AVALIACAO = ' || CHR(39) || pATD_PME_FL_TEV_AVALIACAO || CHR(39); END IF;
IF pATD_PME_FL_TEV_CONTR_IND IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_FL_TEV_CONTR_IND = ' || CHR(39) || pATD_PME_FL_TEV_CONTR_IND || CHR(39); END IF;
IF pATD_PME_DS_TEV_OBSERVACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_DS_TEV_OBSERVACAO = ' || CHR(39) || pATD_PME_DS_TEV_OBSERVACAO || CHR(39); END IF;
 IF pATD_PME_ID_H_E_USU_CRIACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_ID_H_E_USU_CRIACAO = ' || pATD_PME_ID_H_E_USU_CRIACAO; END IF;
IF pATD_PME_DT_H_E_CRIACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_DT_H_E_CRIACAO = ' || CHR(39) || pATD_PME_DT_H_E_CRIACAO || CHR(39); END IF;
IF pATD_PME_ID_H_E_USU_ATUALIZ IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_ID_H_E_USU_ATUALIZ = ' || pATD_PME_ID_H_E_USU_ATUALIZ; END IF;
IF pATD_PME_DT_H_E_ULT_ATUALIZ IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_DT_H_E_ULT_ATUALIZ = ' || CHR(39) || pATD_PME_DT_H_E_ULT_ATUALIZ || CHR(39); END IF;
 IF pATD_PME_FL_H_STATUS IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_FL_H_STATUS = ' || CHR(39) || pATD_PME_FL_H_STATUS || CHR(39); END IF;
IF pATD_PME_DS_OBS_FARMACIA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_DS_OBS_FARMACIA = ' || CHR(39) || pATD_PME_DS_OBS_FARMACIA || CHR(39); END IF;
IF pATD_PME_DS_OBS_FARMAC_ANT IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_DS_OBS_FARMAC_ANT = ' || CHR(39) || pATD_PME_DS_OBS_FARMAC_ANT || CHR(39); END IF;
IF pATD_PME_DS_JUSTIF IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_PME_DS_JUSTIF = ' || CHR(39) || pATD_PME_DS_JUSTIF || CHR(39); END IF;

IF pSEG_USU_ID_INTERV_ANT IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_ID_INTERV_ANT = ' || pSEG_USU_ID_INTERV_ANT; END IF;
IF pSEG_USU_ID_INTERV IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_ID_INTERV = ' || pSEG_USU_ID_INTERV; END IF;

   V_SELECT := '
SELECT
       ATD_PME_ID,
       ATD_ATE_ID,
       ATD_PME_FL_STATUS,
       ATD_PME_TP_PRESCRICAO,
       ATD_PME_QT_PESO,
       ATD_PME_FL_PESO_AFERIDO,
       ATD_PME_FL_PESO_REFERIDO,
       ATD_PME_QT_ALTURA,
       ATD_PME_QT_PESO_CALORICO,
       ATD_PME_FL_ALERGIA,
       ATD_PME_DS_ALERGIA,
       ATD_PME_DT_HR_CRIACAO,
       ATD_PME_ID_USU_CRIACAO,
       ATD_PME_DT_ULT_ATUALIZ,
       ATD_PME_ID_USU_ULT_ATUALIZ,
       ATD_PME_FL_RN,
       ATD_IDR_ID,
       ATD_PME_DT_HEMODIALISE,
       ATD_PME_HR_H_INI,
       ATD_PME_HR_H_FIM,
       ATD_PME_FL_H_PESO,
       ATD_PME_VL_H_PESO,
       ATD_PME_FL_H_ISOLAMENTO,
       ATD_PME_VL_H_ISOLAMENTO,
       ATD_PME_FL_H_SOROLOGIA,
       ATD_PME_FL_H_HBSAG,
       ATD_PME_FL_H_ANTIHCV,
       ATD_PME_FL_H_ANTIHIV,
       ATD_PME_VL_H_PESOSECOPRE,
       ATD_PME_VL_H_PESOSECOPOS,
       ATD_PME_VL_H_PAMINPRE,
       ATD_PME_VL_H_PAMAXPRE,
       ATD_PME_VL_H_PAMINPOS,
       ATD_PME_VL_H_PAMAXPOS,
       ATD_PME_VL_H_PULSOPRE,
       ATD_PME_VL_H_PULSOPOS,
       ATD_PME_HR_H_DURACAO,
       ATD_PME_VL_H_DIALISATONA,
       ATD_PME_VL_H_DIALISATOCA,
       ATD_PME_VL_H_ADICAODEK,
       ATD_PME_VL_H_HEPARINA,
       ATD_PME_VL_H_TEMPERATURA,
       ATD_PME_VL_H_FLUXODIALISAT,
       ATD_PME_VL_H_FLUXOSANGUE,
       ATD_PME_VL_H_ULTRAFILTRACAO,
       ATD_PME_VL_H_GLICEMIACAPILA,
       ATD_PME_DS_H_OBSERVACAO_MED,
       ATD_PME_CD_H_E_VIAACESSO,

       ATD_PME_DS_H_E_OBSERVACAO,

       ATD_PME_FL_H_ENCAMINHAM,
       ATD_PME_FL_H_E_STATUS,
       ATD_PME_FL_TEV_AVALIACAO,
       ATD_PME_FL_TEV_CONTR_IND,
       ATD_PME_DS_TEV_OBSERVACAO,
       ATD_PME_ID_H_E_USU_CRIACAO,
       ATD_PME_DT_H_E_CRIACAO,
       ATD_PME_ID_H_E_USU_ATUALIZ,
       ATD_PME_DT_H_E_ULT_ATUALIZ,
       ATD_PME_FL_H_STATUS,
       ATD_PME_DS_OBS_FARMACIA,
       ATD_PME_DS_OBS_FARMAC_ANT,
       ATD_PME_DS_JUSTIF,
       SEG_USU_ID_INTERV_ANT,
       SEG_USU_ID_INTERV

FROM TB_ATD_PME_PRESCRICAO_MEDICA
WHERE null is null  '    ;

OPEN v_cursor FOR
  V_SELECT || V_WHERE ;
  io_cursor := v_cursor;
end PRC_ATD_PME_PRESC_MEDICA_L;
