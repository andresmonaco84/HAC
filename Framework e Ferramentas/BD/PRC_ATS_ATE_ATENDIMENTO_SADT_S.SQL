create or replace procedure PRC_ATS_ATE_ATENDIMENTO_SADT_S
   (
     pATS_ATE_CD_INTLIB IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_CD_INTLIB%type DEFAULT NULL,
     pATS_ATE_IN_INTLIB IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_IN_INTLIB%type DEFAULT NULL,
     pATS_ATE_ID IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_ID%type DEFAULT NULL,
     pCAD_PRD_ID IN TB_ATS_ATE_ATENDIMENTO_SADT.CAD_PRD_ID%type DEFAULT NULL,
     pATS_ATE_QT_PESO IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_QT_PESO%type DEFAULT NULL,
     pATS_ATE_QT_ALTURA IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_QT_ALTURA%type DEFAULT NULL,
     pCAD_SET_ID IN TB_ATS_ATE_ATENDIMENTO_SADT.CAD_SET_ID%type DEFAULT NULL,
     pATS_ATE_TP_PROCED IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_TP_PROCED%type DEFAULT NULL,
     pATS_ATE_DS_OBSERVACAO IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_DS_OBSERVACAO%type DEFAULT NULL,
     pATS_ATE_DT_ULTIMA_ATUALIZACAO IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_DT_ULTIMA_ATUALIZACAO%type DEFAULT NULL,
     pSEG_USU_ID_USUARIO IN TB_ATS_ATE_ATENDIMENTO_SADT.SEG_USU_ID_USUARIO%type DEFAULT NULL,
     pATS_ATE_FL_EQUIP_INT_EXT IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_FL_EQUIP_INT_EXT%type DEFAULT NULL,
     pAGE_SAU_ID IN TB_ATS_ATE_ATENDIMENTO_SADT.AGE_SAU_ID%type DEFAULT NULL,
     pCAD_CLC_ID IN TB_ATS_ATE_ATENDIMENTO_SADT.CAD_CLC_ID%type DEFAULT NULL,
     pATS_ATE_FL_RN IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_FL_RN%type DEFAULT NULL,
     pATS_ATE_FL_RESULT_INTERNET IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_FL_RESULT_INTERNET%type DEFAULT NULL,
     pATS_ATE_CD_ACESSO_INTERNET IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_CD_ACESSO_INTERNET%type DEFAULT NULL,
     pATS_ATE_CD_SENHA_INTERNET IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_CD_SENHA_INTERNET%type DEFAULT NULL,
     pAUX_EPP_CD_ESPECPROC IN TB_ATS_ATE_ATENDIMENTO_SADT.AUX_EPP_CD_ESPECPROC%type DEFAULT NULL,
     pATS_ATE_SG_UF_CONSELHO_SOLIC IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_SG_UF_CONSELHO_SOLIC%type DEFAULT NULL,
     pATS_ATE_TP_CONSELHO_SOLIC IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_TP_CONSELHO_SOLIC%type DEFAULT NULL,
     pATS_ATE_NR_CONSELHO_SOLIC IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_NR_CONSELHO_SOLIC%type DEFAULT NULL,
     pCAD_PRO_ID_PROF_EXECUTANTE IN TB_ATS_ATE_ATENDIMENTO_SADT.CAD_PRO_ID_PROF_EXECUTANTE%type DEFAULT NULL,
     pATS_ATE_DT_REALIZ_PROCED IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_DT_REALIZ_PROCED%type DEFAULT NULL,
     pATS_ATE_HR_REALIZ_PROCED IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_HR_REALIZ_PROCED%type DEFAULT NULL,
     pATS_ATE_FL_STATUS IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_FL_STATUS%type DEFAULT NULL,
     pCAD_SET_ID_ATEN IN TB_ATS_ATE_ATENDIMENTO_SADT.CAD_SET_ID_ATEN%type DEFAULT NULL,
     pCAD_PAC_ID_PACIENTE_INT IN TB_ATS_ATE_ATENDIMENTO_SADT.CAD_PAC_ID_PACIENTE_INT%type DEFAULT NULL,
     pATS_ATE_NR_QUARTO IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_NR_QUARTO%type DEFAULT NULL,
     pATS_ATE_NR_LEITO IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_NR_LEITO%type DEFAULT NULL,
     pATS_ATE_ATU_INTERF_LEGADO IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_ATU_INTERF_LEGADO%type DEFAULT NULL,
     pCAD_UNI_ID_UNIDADE_LIBERACAO IN TB_ATS_ATE_ATENDIMENTO_SADT.CAD_UNI_ID_UNIDADE_LIBERACAO%type DEFAULT NULL,
     pCAD_UNI_ID_LOCAL_LIBERACAO IN TB_ATS_ATE_ATENDIMENTO_SADT.CAD_UNI_ID_LOCAL_LIBERACAO%type DEFAULT NULL,
     pATS_ATE_FL_ANESTESIA IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_FL_ANESTESIA%type DEFAULT NULL,
     pCAD_PRO_ID_PROF_ANEST IN TB_ATS_ATE_ATENDIMENTO_SADT.CAD_PRO_ID_PROF_ANEST%type DEFAULT NULL,
     pATS_ATE_FL_PROC_JUSTIFICADO IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_FL_PROC_JUSTIFICADO%type DEFAULT NULL,
     pTIS_MED_CD_TABELAMEDICA IN TB_ATS_ATE_ATENDIMENTO_SADT.TIS_MED_CD_TABELAMEDICA%type DEFAULT NULL,
     pATS_NUM_CONTROLE IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_NUM_CONTROLE%type DEFAULT NULL,
     pATS_INCIDENCIAS IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_INCIDENCIAS%type DEFAULT NULL,
     pATS_ATE_SEXO_RN IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_SEXO_RN%type DEFAULT NULL,
     pATS_ATE_ID_RN IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_ID_RN%type DEFAULT NULL,
     pATS_ATE_FL_REPETICAO IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_FL_REPETICAO%type DEFAULT NULL,
     pATS_ATE_FL_BAIXA_ATEND IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_FL_BAIXA_ATEND%type DEFAULT NULL,
     pATS_ATE_FL_EXAME_COM_LAUDO IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_FL_EXAME_COM_LAUDO%type DEFAULT NULL,
     pATS_ATE_DT_HR_BAIXA_ATEND IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_DT_HR_BAIXA_ATEND%type DEFAULT NULL,
     pSEG_USU_ID_USUARIO_BAIXA IN TB_ATS_ATE_ATENDIMENTO_SADT.SEG_USU_ID_USUARIO_BAIXA%type DEFAULT NULL,
     pATS_ATE_NR_ANDAR_ATEND IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_NR_ANDAR_ATEND%type DEFAULT NULL,
     pATS_ATE_FL_EXAME_COM_BIOPSIA IN TB_ATS_ATE_ATENDIMENTO_SADT.ATS_ATE_FL_EXAME_COM_BIOPSIA%type DEFAULT NULL,
     io_cursor OUT PKG_CURSOR.t_cursor
)
is
/********************************************************************
*    Procedure: PRC_ATS_ATE_ATENDIMENTO_SADT_L
*
*    Data Criacao:   data da  criai??i??o   Por: Nome do Analista
*    Data Alteracao:  data da alterai??i??o  Por: Nome do Analista
*
*    Funcao: Descrii??i??o da funcionalidade da Stored Procedure
*
*******************************************************************/
 v_cursor PKG_CURSOR.t_cursor;
  V_WHERE  varchar2(5000);
  V_SELECT  varchar2(5000);
begin
  V_WHERE := NULL;
  IF pATS_ATE_CD_INTLIB IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_CD_INTLIB = ' || pATS_ATE_CD_INTLIB; END IF;
IF pATS_ATE_IN_INTLIB IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_IN_INTLIB = ' || CHR(39) || pATS_ATE_IN_INTLIB || CHR(39); END IF;
IF pATS_ATE_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_ID = ' || pATS_ATE_ID; END IF;
IF pCAD_PRD_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PRD_ID = ' || pCAD_PRD_ID; END IF;
IF pATS_ATE_QT_PESO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_QT_PESO = ' || pATS_ATE_QT_PESO; END IF;
IF pATS_ATE_QT_ALTURA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_QT_ALTURA = ' || pATS_ATE_QT_ALTURA; END IF;
IF pCAD_SET_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_SET_ID = ' || pCAD_SET_ID; END IF;
IF pATS_ATE_TP_PROCED IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_TP_PROCED = ' || CHR(39) || pATS_ATE_TP_PROCED || CHR(39); END IF;
IF pATS_ATE_DS_OBSERVACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_DS_OBSERVACAO = ' || CHR(39) || pATS_ATE_DS_OBSERVACAO || CHR(39); END IF;
IF pATS_ATE_DT_ULTIMA_ATUALIZACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_DT_ULTIMA_ATUALIZACAO = ' || CHR(39) || pATS_ATE_DT_ULTIMA_ATUALIZACAO || CHR(39); END IF;
IF pSEG_USU_ID_USUARIO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_ID_USUARIO = ' || pSEG_USU_ID_USUARIO; END IF;
IF pATS_ATE_FL_EQUIP_INT_EXT IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_FL_EQUIP_INT_EXT = ' || CHR(39) || pATS_ATE_FL_EQUIP_INT_EXT || CHR(39); END IF;
IF pAGE_SAU_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND AGE_SAU_ID = ' || pAGE_SAU_ID; END IF;
IF pCAD_CLC_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CLC_ID = ' || pCAD_CLC_ID; END IF;
IF pATS_ATE_FL_RN IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_FL_RN = ' || CHR(39) || pATS_ATE_FL_RN || CHR(39); END IF;
IF pATS_ATE_FL_RESULT_INTERNET IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_FL_RESULT_INTERNET = ' || CHR(39) || pATS_ATE_FL_RESULT_INTERNET || CHR(39); END IF;
IF pATS_ATE_CD_ACESSO_INTERNET IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_CD_ACESSO_INTERNET = ' || CHR(39) || pATS_ATE_CD_ACESSO_INTERNET || CHR(39); END IF;
IF pATS_ATE_CD_SENHA_INTERNET IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_CD_SENHA_INTERNET = ' || CHR(39) || pATS_ATE_CD_SENHA_INTERNET || CHR(39); END IF;
IF pAUX_EPP_CD_ESPECPROC IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND AUX_EPP_CD_ESPECPROC = ' || CHR(39) || pAUX_EPP_CD_ESPECPROC || CHR(39); END IF;
IF pATS_ATE_SG_UF_CONSELHO_SOLIC IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_SG_UF_CONSELHO_SOLIC = ' || CHR(39) || pATS_ATE_SG_UF_CONSELHO_SOLIC || CHR(39); END IF;
IF pATS_ATE_TP_CONSELHO_SOLIC IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_TP_CONSELHO_SOLIC = ' || CHR(39) || pATS_ATE_TP_CONSELHO_SOLIC || CHR(39); END IF;
IF pATS_ATE_NR_CONSELHO_SOLIC IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_NR_CONSELHO_SOLIC = ' || CHR(39) || pATS_ATE_NR_CONSELHO_SOLIC || CHR(39); END IF;
IF pCAD_PRO_ID_PROF_EXECUTANTE IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PRO_ID_PROF_EXECUTANTE = ' || pCAD_PRO_ID_PROF_EXECUTANTE; END IF;
IF pATS_ATE_DT_REALIZ_PROCED IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_DT_REALIZ_PROCED = ' || CHR(39) || pATS_ATE_DT_REALIZ_PROCED || CHR(39); END IF;
IF pATS_ATE_HR_REALIZ_PROCED IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_HR_REALIZ_PROCED = ' || pATS_ATE_HR_REALIZ_PROCED; END IF;
IF pATS_ATE_FL_STATUS IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_FL_STATUS = ' || CHR(39) || pATS_ATE_FL_STATUS || CHR(39); END IF;
IF pCAD_SET_ID_ATEN IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_SET_ID_ATEN = ' || pCAD_SET_ID_ATEN; END IF;
IF pCAD_PAC_ID_PACIENTE_INT IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PAC_ID_PACIENTE_INT = ' || pCAD_PAC_ID_PACIENTE_INT; END IF;
IF pATS_ATE_NR_QUARTO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_NR_QUARTO = ' || pATS_ATE_NR_QUARTO; END IF;
IF pATS_ATE_NR_LEITO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_NR_LEITO = ' || pATS_ATE_NR_LEITO; END IF;
IF pATS_ATE_ATU_INTERF_LEGADO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_ATU_INTERF_LEGADO = ' || CHR(39) || pATS_ATE_ATU_INTERF_LEGADO || CHR(39); END IF;
IF pCAD_UNI_ID_UNIDADE_LIBERACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_UNI_ID_UNIDADE_LIBERACAO = ' || pCAD_UNI_ID_UNIDADE_LIBERACAO; END IF;
IF pCAD_UNI_ID_LOCAL_LIBERACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_UNI_ID_LOCAL_LIBERACAO = ' || pCAD_UNI_ID_LOCAL_LIBERACAO; END IF;
IF pATS_ATE_FL_ANESTESIA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_FL_ANESTESIA = ' || CHR(39) || pATS_ATE_FL_ANESTESIA || CHR(39); END IF;
IF pCAD_PRO_ID_PROF_ANEST IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PRO_ID_PROF_ANEST = ' || pCAD_PRO_ID_PROF_ANEST; END IF;
IF pATS_ATE_FL_PROC_JUSTIFICADO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_FL_PROC_JUSTIFICADO = ' || CHR(39) || pATS_ATE_FL_PROC_JUSTIFICADO || CHR(39); END IF;
IF pTIS_MED_CD_TABELAMEDICA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND TIS_MED_CD_TABELAMEDICA = ' || CHR(39) || pTIS_MED_CD_TABELAMEDICA || CHR(39); END IF;
IF pATS_NUM_CONTROLE IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_NUM_CONTROLE = ' || CHR(39) || pATS_NUM_CONTROLE || CHR(39); END IF;
IF pATS_INCIDENCIAS IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_INCIDENCIAS = ' || pATS_INCIDENCIAS; END IF;
IF pATS_ATE_SEXO_RN IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_SEXO_RN = ' || CHR(39) || pATS_ATE_SEXO_RN || CHR(39); END IF;
IF pATS_ATE_ID_RN IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_ID_RN = ' || pATS_ATE_ID_RN; END IF;
IF pATS_ATE_FL_REPETICAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_FL_REPETICAO = ' || CHR(39) || pATS_ATE_FL_REPETICAO || CHR(39); END IF;
IF pATS_ATE_FL_BAIXA_ATEND IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_FL_BAIXA_ATEND = ' || CHR(39) || pATS_ATE_FL_BAIXA_ATEND || CHR(39); END IF;
IF pATS_ATE_FL_EXAME_COM_LAUDO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_FL_EXAME_COM_LAUDO = ' || CHR(39) || pATS_ATE_FL_EXAME_COM_LAUDO || CHR(39); END IF;
IF pATS_ATE_DT_HR_BAIXA_ATEND IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_DT_HR_BAIXA_ATEND = ' || CHR(39) || pATS_ATE_DT_HR_BAIXA_ATEND || CHR(39); END IF;
IF pSEG_USU_ID_USUARIO_BAIXA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_ID_USUARIO_BAIXA = ' || pSEG_USU_ID_USUARIO_BAIXA; END IF;
IF pATS_ATE_NR_ANDAR_ATEND IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_NR_ANDAR_ATEND = ' || pATS_ATE_NR_ANDAR_ATEND; END IF;
IF pATS_ATE_FL_EXAME_COM_BIOPSIA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_ATE_FL_EXAME_COM_BIOPSIA = ' || CHR(39) || pATS_ATE_FL_EXAME_COM_BIOPSIA || CHR(39); END IF;
 
   V_SELECT := '
SELECT
       ATS_ATE_CD_INTLIB,
       ATS_ATE_IN_INTLIB,
       ATS_ATE_ID,
       CAD_PRD_ID,
       ATS_ATE_QT_PESO,
       ATS_ATE_QT_ALTURA,
       CAD_SET_ID,
       ATS_ATE_TP_PROCED,
       ATS_ATE_DS_OBSERVACAO,
       ATS_ATE_DT_ULTIMA_ATUALIZACAO,
       SEG_USU_ID_USUARIO,
       ATS_ATE_FL_EQUIP_INT_EXT,
       AGE_SAU_ID,
       CAD_CLC_ID,
       ATS_ATE_FL_RN,
       ATS_ATE_FL_RESULT_INTERNET,
       ATS_ATE_CD_ACESSO_INTERNET,
       ATS_ATE_CD_SENHA_INTERNET,
       AUX_EPP_CD_ESPECPROC,
       ATS_ATE_SG_UF_CONSELHO_SOLIC,
       ATS_ATE_TP_CONSELHO_SOLIC,
       ATS_ATE_NR_CONSELHO_SOLIC,
       CAD_PRO_ID_PROF_EXECUTANTE,
       ATS_ATE_DT_REALIZ_PROCED,
       ATS_ATE_HR_REALIZ_PROCED,
       ATS_ATE_FL_STATUS,
       CAD_SET_ID_ATEN,
       CAD_PAC_ID_PACIENTE_INT,
       ATS_ATE_NR_QUARTO,
       ATS_ATE_NR_LEITO,
       ATS_ATE_ATU_INTERF_LEGADO,
       CAD_UNI_ID_UNIDADE_LIBERACAO,
       CAD_UNI_ID_LOCAL_LIBERACAO,
       ATS_ATE_FL_ANESTESIA,
       CAD_PRO_ID_PROF_ANEST,
       ATS_ATE_FL_PROC_JUSTIFICADO,
       TIS_MED_CD_TABELAMEDICA,
       ATS_NUM_CONTROLE,
       ATS_INCIDENCIAS,
       ATS_ATE_SEXO_RN,
       ATS_ATE_ID_RN,
       ATS_ATE_FL_REPETICAO,
       ATS_ATE_FL_BAIXA_ATEND,
       ATS_ATE_FL_EXAME_COM_LAUDO,
       ATS_ATE_DT_HR_BAIXA_ATEND,
       SEG_USU_ID_USUARIO_BAIXA,
       ATS_ATE_NR_ANDAR_ATEND,
       ATS_ATE_FL_EXAME_COM_BIOPSIA
       
FROM TB_ATS_ATE_ATENDIMENTO_SADT
WHERE null is null  '    ;

OPEN v_cursor FOR
  V_SELECT || V_WHERE ;
  io_cursor := v_cursor;
  end PRC_ATS_ATE_ATENDIMENTO_SADT_S;
