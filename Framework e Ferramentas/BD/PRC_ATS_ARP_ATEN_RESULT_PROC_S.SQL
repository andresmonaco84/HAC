create or replace procedure PRC_ATS_ARP_ATEN_RESULT_PROC_S
 (
     pATS_ARP_DT_RESULTADO IN TB_ATS_ARP_ATEN_RESULT_PROCED.ATS_ARP_DT_RESULTADO%type DEFAULT NULL,
     pCAD_SET_ID_SETOR IN TB_ATS_ARP_ATEN_RESULT_PROCED.CAD_SET_ID_SETOR%type DEFAULT NULL,
     pATS_APR_FL_STATUS IN TB_ATS_ARP_ATEN_RESULT_PROCED.ATS_APR_FL_STATUS%type DEFAULT NULL,
     pATS_APR_DT_ENTREGA_RESP IN TB_ATS_ARP_ATEN_RESULT_PROCED.ATS_APR_DT_ENTREGA_RESP%type DEFAULT NULL,
     pATS_APR_HR_ENTREGA_RESP IN TB_ATS_ARP_ATEN_RESULT_PROCED.ATS_APR_HR_ENTREGA_RESP%type DEFAULT NULL,
     pATS_APR_NM_NOME_RESP_RECEB IN TB_ATS_ARP_ATEN_RESULT_PROCED.ATS_APR_NM_NOME_RESP_RECEB%type DEFAULT NULL,
     pATS_APR_DT_ULTIMA_ATUALIZACAO IN TB_ATS_ARP_ATEN_RESULT_PROCED.ATS_APR_DT_ULTIMA_ATUALIZACAO%type DEFAULT NULL,
     pSEG_USU_ID_USUARIO IN TB_ATS_ARP_ATEN_RESULT_PROCED.SEG_USU_ID_USUARIO%type DEFAULT NULL,
     pATS_ATE_CD_INTLIB IN TB_ATS_ARP_ATEN_RESULT_PROCED.ATS_ATE_CD_INTLIB%type DEFAULT NULL,
     pATS_ATE_IN_INTLIB IN TB_ATS_ARP_ATEN_RESULT_PROCED.ATS_ATE_IN_INTLIB%type DEFAULT NULL,
     pATS_EPP_CD_ESPECPROC IN TB_ATS_ARP_ATEN_RESULT_PROCED.ATS_EPP_CD_ESPECPROC%type DEFAULT NULL,
     pATS_ATE_ID IN TB_ATS_ARP_ATEN_RESULT_PROCED.ATS_ATE_ID%type DEFAULT NULL,
     pCAD_PRD_ID IN TB_ATS_ARP_ATEN_RESULT_PROCED.CAD_PRD_ID%type DEFAULT NULL,
     pCAD_UNI_ID_UNIDADE IN TB_ATS_ARP_ATEN_RESULT_PROCED.CAD_UNI_ID_UNIDADE%type DEFAULT NULL,
     pATS_APR_DT_PROTOCOLO IN TB_ATS_ARP_ATEN_RESULT_PROCED.ATS_APR_DT_PROTOCOLO%type DEFAULT NULL,
     pATS_APR_HR_PROTOCOLO IN TB_ATS_ARP_ATEN_RESULT_PROCED.ATS_APR_HR_PROTOCOLO%type DEFAULT NULL,
     pSEG_USU_ID_PROTOCOLO IN TB_ATS_ARP_ATEN_RESULT_PROCED.SEG_USU_ID_PROTOCOLO%type DEFAULT NULL,
     pATS_APR_DS_OBSERVACAO IN TB_ATS_ARP_ATEN_RESULT_PROCED.ATS_APR_DS_OBSERVACAO%type DEFAULT NULL,
     pATS_APR_NR_SEQ_LOTE IN TB_ATS_ARP_ATEN_RESULT_PROCED.ATS_APR_NR_SEQ_LOTE%type default NULL,
     pATS_APR_NR_SEQ_DIGITACAO IN TB_ATS_ARP_ATEN_RESULT_PROCED.ATS_APR_NR_SEQ_DIGITACAO%TYPE DEFAULT NULL,
 
     io_cursor OUT PKG_CURSOR.t_cursor
  ) 
  is
  /********************************************************************
  *    Procedure: PRC_ATS_ARP_ATEN_RESULT_PROC_S
  * 
  *    Data Criacao: 	04/11/2008		   Por: Fabiola Lopes
  *    Data Alteracao:	17/03/2009     Por: Pedro
  *    Alteracao:  inclusao do pATS_APR_NR_SEQ_DIGITACAO
  *   
  *    Funcao: Recupera os dados do resultado do precedimento do SADT
  *
  *******************************************************************/
  v_cursor PKG_CURSOR.t_cursor;
  begin
    OPEN v_cursor FOR
   SELECT	
       ATS_ARP_DT_RESULTADO,
       CAD_SET_ID_SETOR,
       ATS_APR_FL_STATUS,
       ATS_APR_DT_ENTREGA_RESP,
       ATS_APR_HR_ENTREGA_RESP,
       ATS_APR_NM_NOME_RESP_RECEB,
       ATS_APR_DT_ULTIMA_ATUALIZACAO,
       SEG_USU_ID_USUARIO,
       ATS_ATE_CD_INTLIB,
       ATS_ATE_IN_INTLIB,
       ATS_EPP_CD_ESPECPROC,
       ATS_ATE_ID,
       CAD_PRD_ID,
       CAD_UNI_ID_UNIDADE,
       ATS_APR_DT_PROTOCOLO,
       ATS_APR_HR_PROTOCOLO,
       SEG_USU_ID_PROTOCOLO,
       ATS_APR_DS_OBSERVACAO,
       ATS_APR_NR_SEQ_LOTE,
       ATS_APR_NR_SEQ_DIGITACAO
    FROM TB_ATS_ARP_ATEN_RESULT_PROCED
    WHERE
        (pATS_ARP_DT_RESULTADO is null OR ATS_ARP_DT_RESULTADO = pATS_ARP_DT_RESULTADO) AND 
        (pCAD_SET_ID_SETOR is null OR CAD_SET_ID_SETOR = pCAD_SET_ID_SETOR) AND 
        (pATS_APR_FL_STATUS is null OR ATS_APR_FL_STATUS = pATS_APR_FL_STATUS) AND 
        (pATS_APR_DT_ENTREGA_RESP is null OR ATS_APR_DT_ENTREGA_RESP = pATS_APR_DT_ENTREGA_RESP) AND 
        (pATS_APR_HR_ENTREGA_RESP is null OR ATS_APR_HR_ENTREGA_RESP = pATS_APR_HR_ENTREGA_RESP) AND 
        (pATS_APR_NM_NOME_RESP_RECEB is null OR ATS_APR_NM_NOME_RESP_RECEB = pATS_APR_NM_NOME_RESP_RECEB) AND 
        (pATS_APR_DT_ULTIMA_ATUALIZACAO is null OR ATS_APR_DT_ULTIMA_ATUALIZACAO = pATS_APR_DT_ULTIMA_ATUALIZACAO) AND 
        (pSEG_USU_ID_USUARIO is null OR SEG_USU_ID_USUARIO = pSEG_USU_ID_USUARIO) AND 
        (pATS_ATE_CD_INTLIB is null OR ATS_ATE_CD_INTLIB = pATS_ATE_CD_INTLIB) AND 
        (pATS_ATE_IN_INTLIB is null OR ATS_ATE_IN_INTLIB = pATS_ATE_IN_INTLIB) AND 
        (pATS_EPP_CD_ESPECPROC is null OR ATS_EPP_CD_ESPECPROC = pATS_EPP_CD_ESPECPROC) AND 
        (pATS_ATE_ID is null OR ATS_ATE_ID = pATS_ATE_ID) AND 
        (pCAD_PRD_ID is null OR CAD_PRD_ID = pCAD_PRD_ID) AND 
        (pCAD_UNI_ID_UNIDADE is null OR CAD_UNI_ID_UNIDADE = pCAD_UNI_ID_UNIDADE) AND 
        (pATS_APR_DT_PROTOCOLO is null OR ATS_APR_DT_PROTOCOLO = pATS_APR_DT_PROTOCOLO) AND 
        (pATS_APR_HR_PROTOCOLO is null OR ATS_APR_HR_PROTOCOLO = pATS_APR_HR_PROTOCOLO) AND 
        (pSEG_USU_ID_PROTOCOLO is null OR SEG_USU_ID_PROTOCOLO = pSEG_USU_ID_PROTOCOLO) AND 
        (pATS_APR_DS_OBSERVACAO is null OR ATS_APR_DS_OBSERVACAO = pATS_APR_DS_OBSERVACAO) AND
        (pATS_APR_NR_SEQ_LOTE is null OR ATS_APR_NR_SEQ_LOTE = pATS_APR_NR_SEQ_LOTE) AND
        (pATS_APR_NR_SEQ_DIGITACAO is null OR ATS_APR_NR_SEQ_DIGITACAO = pATS_APR_NR_SEQ_DIGITACAO)
        order by 20
        ;          
    io_cursor := v_cursor;
    
  end PRC_ATS_ARP_ATEN_RESULT_PROC_S;
/
