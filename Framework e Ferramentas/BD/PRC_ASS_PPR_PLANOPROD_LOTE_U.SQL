CREATE OR REPLACE PROCEDURE PRC_ASS_PPR_PLANOPROD_LOTE_U
(
     pCAD_CNV_ID_CONVENIO IN TB_ASS_PPR_PLANOPRODUTO.CAD_CNV_ID_CONVENIO%type,
     pCAD_PLA_ID_PLANO IN TB_ASS_PPR_PLANOPRODUTO.CAD_PLA_ID_PLANO%type default null,
     pCAD_PRD_ID IN TB_ASS_PPR_PLANOPRODUTO.CAD_PRD_ID%type default null,
     pASS_PPR_FL_EXIGEGUIA_OK IN TB_ASS_PPR_PLANOPRODUTO.ASS_PPR_FL_EXIGEGUIA_OK%type,
     pASS_PPR_FL_EXIGESENHA_OK IN TB_ASS_PPR_PLANOPRODUTO.ASS_PPR_FL_EXIGESENHA_OK%type,
     pASS_PPR_FL_EXIGEAUTOR_OK IN TB_ASS_PPR_PLANOPRODUTO.ASS_PPR_FL_EXIGEAUTOR_OK%type,
     pASS_PPR_FL_ANTECIPASENHA_OK IN TB_ASS_PPR_PLANOPRODUTO.ASS_PPR_FL_ANTECIPASENHA_OK%type,
     pASS_PPR_FL_AUTORIZATEL_OK IN TB_ASS_PPR_PLANOPRODUTO.ASS_PPR_FL_AUTORIZATEL_OK%type,
     pASS_PPR_FL_AUTORIZAFAX_OK IN TB_ASS_PPR_PLANOPRODUTO.ASS_PPR_FL_AUTORIZAFAX_OK%type,
     pASS_PPR_FL_AUTORIZAPES_OK IN TB_ASS_PPR_PLANOPRODUTO.ASS_PPR_FL_AUTORIZAPES_OK%type,
     pASS_PPR_FL_AUTORIZAWEB_OK IN TB_ASS_PPR_PLANOPRODUTO.ASS_PPR_FL_AUTORIZAWEB_OK%type,
     pASS_PPR_QT_DIASAUTORIZACAO IN TB_ASS_PPR_PLANOPRODUTO.ASS_PPR_QT_DIASAUTORIZACAO%type default NULL,
     pTIS_MED_CD_TABELAMEDICA IN TB_ASS_PPR_PLANOPRODUTO.TIS_MED_CD_TABELAMEDICA%type,
     pSEG_USU_ID_USUARIO IN TB_ASS_PPR_PLANOPRODUTO.SEG_USU_ID_USUARIO%type,
     pASS_PPR_FL_STATUS IN TB_ASS_PPR_PLANOPRODUTO.ASS_PPR_FL_STATUS%TYPE,
     pASS_PPR_FL_COBERTO_OK IN TB_ASS_PPR_PLANOPRODUTO.ASS_PPR_FL_AUTORIZA_ASS_OK%TYPE,
     pASS_PPR_FL_EXIGEGUIAPS_OK  IN TB_ASS_PPR_PLANOPRODUTO.ASS_PPR_FL_EXIGEGUIAPS_OK%TYPE,
     pASS_PPR_FL_EXIGESENHAPS_OK IN TB_ASS_PPR_PLANOPRODUTO.ASS_PPR_FL_EXIGESENHAPS_OK%TYPE,
     pASS_PPR_FL_PROCDOPLER_OK IN TB_ASS_PPR_PLANOPRODUTO.ASS_PPR_FL_PROCDOPLER_OK%TYPE
) is

BEGIN

    UPDATE TB_ASS_PPR_PLANOPRODUTO PPR
    SET PPR.ASS_PPR_FL_EXIGEGUIA_OK = pASS_PPR_FL_EXIGEGUIA_OK,
     PPR.ASS_PPR_FL_EXIGESENHA_OK = pASS_PPR_FL_EXIGESENHA_OK,
     PPR.SEG_USU_ID_USUARIO = pSEG_USU_ID_USUARIO,
     PPR.ASS_PPR_FL_EXIGEAUTOR_OK = pASS_PPR_FL_EXIGEAUTOR_OK,
     PPR.ASS_PPR_DT_ULTIMA_ATUALIZACAO = SYSDATE,
     PPR.ASS_PPR_FL_STATUS = pASS_PPR_FL_STATUS,
     PPR.ASS_PPR_FL_AUTORIZATEL_OK = pASS_PPR_FL_AUTORIZATEL_OK,
     PPR.ASS_PPR_FL_AUTORIZAFAX_OK = pASS_PPR_FL_AUTORIZAFAX_OK,
     PPR.ASS_PPR_FL_ANTECIPASENHA_OK = pASS_PPR_FL_ANTECIPASENHA_OK,
     PPR.ASS_PPR_QT_DIASAUTORIZACAO = pASS_PPR_QT_DIASAUTORIZACAO,
     PPR.ASS_PPR_FL_AUTORIZAPES_OK = pASS_PPR_FL_AUTORIZAPES_OK,
     PPR.ASS_PPR_FL_AUTORIZA_ASS_OK = pASS_PPR_FL_COBERTO_OK,
     PPR.ASS_PPR_FL_AUTORIZAWEB_OK = pASS_PPR_FL_AUTORIZAWEB_OK,
     PPR.ASS_PPR_FL_EXIGESENHAPS_OK = pASS_PPR_FL_EXIGESENHAPS_OK,
     PPR.ASS_PPR_FL_EXIGEGUIAPS_OK = pASS_PPR_FL_EXIGEGUIAPS_OK,
     ASS_PPR_FL_PROCDOPLER_OK = pASS_PPR_FL_PROCDOPLER_OK
    WHERE
        PPR.CAD_CNV_ID_CONVENIO = pCAD_CNV_ID_CONVENIO
    AND (pCAD_PLA_ID_PLANO IS NULL OR PPR.CAD_PLA_ID_PLANO = pCAD_PLA_ID_PLANO)
    AND PPR.CAD_PRD_ID = pCAD_PRD_ID
    AND PPR.TIS_MED_CD_TABELAMEDICA = pTIS_MED_CD_TABELAMEDICA;


END PRC_ASS_PPR_PLANOPROD_LOTE_U;
