CREATE OR REPLACE PROCEDURE "PRC_CAD_PAC_PACIENTE_RMT_S"
  (    
     pCAD_PAC_ID_PACIENTE IN TB_CAD_PAC_PACIENTE.CAD_PAC_ID_PACIENTE%type DEFAULT NULL,
     pCAD_CNV_ID_CONVENIO IN TB_CAD_PAC_PACIENTE.CAD_CNV_ID_CONVENIO%type DEFAULT NULL,
     pCAD_PLA_ID_PLANO IN TB_CAD_PAC_PACIENTE.CAD_PLA_ID_PLANO%type DEFAULT NULL,
     pCAD_PAC_CD_CREDENCIAL IN TB_CAD_PAC_PACIENTE.CAD_PAC_CD_CREDENCIAL%type DEFAULT NULL,
     pCAD_EMP_ID_EMPRESA IN TB_CAD_PAC_PACIENTE.CAD_EMP_ID_EMPRESA%type DEFAULT NULL,
     pCAD_PAC_NR_PRONTUARIO IN TB_CAD_PAC_PACIENTE.CAD_PAC_NR_PRONTUARIO%type DEFAULT NULL,
     pCAD_PAC_NM_TITULAR IN TB_CAD_PAC_PACIENTE.CAD_PAC_NM_TITULAR%type DEFAULT NULL,
     pCAD_PAC_DT_VALIDADECREDENCIAL IN TB_CAD_PAC_PACIENTE.CAD_PAC_DT_VALIDADECREDENCIAL%type DEFAULT NULL,
     pCAD_PAC_CD_CNS IN TB_CAD_PAC_PACIENTE.CAD_PAC_CD_CNS%type DEFAULT NULL,
     pCAD_PAC_DS_OBSERVACAO IN TB_CAD_PAC_PACIENTE.CAD_PAC_DS_OBSERVACAO%type DEFAULT NULL,
     pCAD_PAC_FL_VIP_OK IN TB_CAD_PAC_PACIENTE.CAD_PAC_FL_VIP_OK%type DEFAULT NULL,
     pCAD_PAC_CD_CODCIP IN TB_CAD_PAC_PACIENTE.CAD_PAC_CD_CODCIP%type DEFAULT NULL,
     pCAD_PAC_CD_CODBEN IN TB_CAD_PAC_PACIENTE.CAD_PAC_CD_CODBEN%type DEFAULT NULL,
     pCAD_PAC_CD_CODBENSEQ IN TB_CAD_PAC_PACIENTE.CAD_PAC_CD_CODBENSEQ%type DEFAULT NULL,
     pSEG_USU_ID_USUARIO IN TB_CAD_PAC_PACIENTE.SEG_USU_ID_USUARIO%type DEFAULT NULL,
     pCAD_PAC_DT_ULTIMA_ATUALIZACAO IN TB_CAD_PAC_PACIENTE.CAD_PAC_DT_ULTIMA_ATUALIZACAO%type DEFAULT NULL,
     pCAD_PES_ID_PESSOA IN TB_CAD_PAC_PACIENTE.CAD_PES_ID_PESSOA%type DEFAULT NULL,
     pCAD_PAC_CD_SUBPLANO IN TB_CAD_PAC_PACIENTE.CAD_PAC_CD_SUBPLANO%type DEFAULT NULL,
     pCAD_PAC_TP_SANGUINEO IN TB_CAD_PAC_PACIENTE.CAD_PAC_TP_SANGUINEO%type DEFAULT NULL,
     pAUX_PRF_CD_CODIGO IN TB_CAD_PAC_PACIENTE.AUX_PRF_CD_CODIGO%type DEFAULT NULL,
     pAUX_NAC_CD_CODIGO IN TB_CAD_PAC_PACIENTE.AUX_NAC_CD_CODIGO%type DEFAULT NULL,
     pCAD_PAC_FL_DOADORORGAOS_OK IN TB_CAD_PAC_PACIENTE.CAD_PAC_FL_DOADORORGAOS_OK%type DEFAULT NULL,
     pCAD_PAC_FL_RESTRICAO_PA_OK IN TB_CAD_PAC_PACIENTE.CAD_PAC_FL_RESTRICAO_PA_OK%type DEFAULT NULL,
      pCAD_PAC_IDT_RN IN TB_CAD_PAC_PACIENTE.CAD_PAC_IDT_RN%type DEFAULT NULL,
     pCAD_PES_RESP_RN IN TB_CAD_PAC_PACIENTE.CAD_PES_RESP_RN%type DEFAULT NULL,
     pCAD_PAC_FL_PRE_ATENDIMENTO IN TB_CAD_PAC_PACIENTE.CAD_PAC_FL_PRE_ATENDIMENTO%type DEFAULT NULL,
      pCAD_PAC_FL_ATIVO_OK IN TB_CAD_PAC_PACIENTE.CAD_PAC_FL_ATIVO_OK%type DEFAULT NULL,
     pCAD_PAC_CD_AUTORIZADOR IN TB_CAD_PAC_PACIENTE.CAD_PAC_CD_AUTORIZADOR%type DEFAULT NULL,
     io_cursor OUT PKG_CURSOR.t_cursor
) 
is
/********************************************************************
*    Procedure: PRC_CAD_PAC_PACIENTE_L
* 
*    Data Criacao:   data da  criac?o   Por: Nome do Analista
*    Data Alteracao:  data da alterac?o  Por: Nome do Analista
*
*    Funcao: Descric?o da funcionalidade da Stored Procedure
*
*******************************************************************/
 v_cursor PKG_CURSOR.t_cursor;
  V_WHERE  varchar2(5000);
  V_SELECT  varchar2(5000);
begin
  V_WHERE := NULL;
  IF pCAD_PAC_ID_PACIENTE IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PAC_ID_PACIENTE = ' || pCAD_PAC_ID_PACIENTE; END IF;
IF pCAD_CNV_ID_CONVENIO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CNV_ID_CONVENIO = ' || pCAD_CNV_ID_CONVENIO; END IF;
IF pCAD_PLA_ID_PLANO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PLA_ID_PLANO = ' || pCAD_PLA_ID_PLANO; END IF;
IF pCAD_PAC_CD_CREDENCIAL IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PAC_CD_CREDENCIAL = ' || CHR(39) || pCAD_PAC_CD_CREDENCIAL || CHR(39); END IF;
IF pCAD_EMP_ID_EMPRESA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_EMP_ID_EMPRESA = ' || pCAD_EMP_ID_EMPRESA; END IF;
IF pCAD_PAC_NR_PRONTUARIO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PAC_NR_PRONTUARIO = ' || pCAD_PAC_NR_PRONTUARIO; END IF;
IF pCAD_PAC_NM_TITULAR IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PAC_NM_TITULAR = ' || CHR(39) || pCAD_PAC_NM_TITULAR || CHR(39); END IF;
IF pCAD_PAC_DT_VALIDADECREDENCIAL IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PAC_DT_VALIDADECREDENCIAL = ' || CHR(39) || pCAD_PAC_DT_VALIDADECREDENCIAL || CHR(39); END IF;
IF pCAD_PAC_CD_CNS IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PAC_CD_CNS = ' || CHR(39) || pCAD_PAC_CD_CNS || CHR(39); END IF;
IF pCAD_PAC_DS_OBSERVACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PAC_DS_OBSERVACAO = ' || CHR(39) || pCAD_PAC_DS_OBSERVACAO || CHR(39); END IF;
IF pCAD_PAC_FL_VIP_OK IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PAC_FL_VIP_OK = ' || CHR(39) || pCAD_PAC_FL_VIP_OK || CHR(39); END IF;
IF pCAD_PAC_CD_CODCIP IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PAC_CD_CODCIP = ' || CHR(39) || pCAD_PAC_CD_CODCIP || CHR(39); END IF;
IF pCAD_PAC_CD_CODBEN IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PAC_CD_CODBEN = ' || pCAD_PAC_CD_CODBEN; END IF;
IF pCAD_PAC_CD_CODBENSEQ IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PAC_CD_CODBENSEQ = ' || pCAD_PAC_CD_CODBENSEQ; END IF;
IF pSEG_USU_ID_USUARIO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_ID_USUARIO = ' || pSEG_USU_ID_USUARIO; END IF;
IF pCAD_PAC_DT_ULTIMA_ATUALIZACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PAC_DT_ULTIMA_ATUALIZACAO = ' || CHR(39) || pCAD_PAC_DT_ULTIMA_ATUALIZACAO || CHR(39); END IF;
IF pCAD_PES_ID_PESSOA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PES_ID_PESSOA = ' || pCAD_PES_ID_PESSOA; END IF;
IF pCAD_PAC_CD_SUBPLANO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PAC_CD_SUBPLANO = ' || CHR(39) || pCAD_PAC_CD_SUBPLANO || CHR(39); END IF;
IF pCAD_PAC_TP_SANGUINEO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PAC_TP_SANGUINEO = ' || CHR(39) || pCAD_PAC_TP_SANGUINEO || CHR(39); END IF;
IF pAUX_PRF_CD_CODIGO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND AUX_PRF_CD_CODIGO = ' || pAUX_PRF_CD_CODIGO; END IF;
IF pAUX_NAC_CD_CODIGO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND AUX_NAC_CD_CODIGO = ' || pAUX_NAC_CD_CODIGO; END IF;
IF pCAD_PAC_FL_DOADORORGAOS_OK IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PAC_FL_DOADORORGAOS_OK = ' || CHR(39) || pCAD_PAC_FL_DOADORORGAOS_OK || CHR(39); END IF;
IF pCAD_PAC_FL_RESTRICAO_PA_OK IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PAC_FL_RESTRICAO_PA_OK = ' || CHR(39) || pCAD_PAC_FL_RESTRICAO_PA_OK || CHR(39); END IF;
IF pCAD_PAC_IDT_RN IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PAC_IDT_RN = ' || pCAD_PAC_IDT_RN; END IF;
IF pCAD_PES_RESP_RN IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PES_RESP_RN = ' || pCAD_PES_RESP_RN; END IF;
IF pCAD_PAC_FL_PRE_ATENDIMENTO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PAC_FL_PRE_ATENDIMENTO = '  || CHR(39) || pCAD_PAC_FL_PRE_ATENDIMENTO || CHR(39); END IF;
IF pCAD_PAC_FL_ATIVO_OK IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PAC_FL_ATIVO_OK = ' || CHR(39) || pCAD_PAC_FL_ATIVO_OK || CHR(39); END IF;
IF pCAD_PAC_CD_AUTORIZADOR IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PAC_CD_AUTORIZADOR = ' || CHR(39) || pCAD_PAC_CD_AUTORIZADOR || CHR(39); END IF;
   V_SELECT := '
SELECT  
       CAD_PAC_ID_PACIENTE,
       CAD_CNV_ID_CONVENIO,
       CAD_PLA_ID_PLANO,
       CAD_PAC_CD_CREDENCIAL,
       CAD_EMP_ID_EMPRESA,
       CAD_PAC_NR_PRONTUARIO,
       CAD_PAC_NM_TITULAR,
       CAD_PAC_DT_VALIDADECREDENCIAL,
       CAD_PAC_CD_CNS,
       CAD_PAC_DS_OBSERVACAO,
       CAD_PAC_FL_VIP_OK,
       CAD_PAC_CD_CODCIP,
       CAD_PAC_CD_CODBEN,
       CAD_PAC_CD_CODBENSEQ,
       SEG_USU_ID_USUARIO,
       CAD_PAC_DT_ULTIMA_ATUALIZACAO,
       CAD_PES_ID_PESSOA,
       CAD_PAC_CD_SUBPLANO,
       CAD_PAC_TP_SANGUINEO,
       AUX_PRF_CD_CODIGO,
       AUX_NAC_CD_CODIGO,
       CAD_PAC_FL_DOADORORGAOS_OK,
       CAD_PAC_FL_RESTRICAO_PA_OK,
       CAD_PAC_IDT_RN,
       CAD_PES_RESP_RN,
       CAD_PAC_FL_PRE_ATENDIMENTO,
       CAD_PAC_FL_ATIVO_OK,
       CAD_PAC_CD_AUTORIZADOR
FROM TB_CAD_PAC_PACIENTE
WHERE null is null  '    ;
OPEN v_cursor FOR
  V_SELECT || V_WHERE ;
  io_cursor := v_cursor;
  end PRC_CAD_PAC_PACIENTE_RMT_S;
 