CREATE OR REPLACE PROCEDURE PRC_CAD_PLA_PLANO_RMT_S
  (
     pCAD_PLA_ID_PLANO IN TB_CAD_PLA_PLANO.CAD_PLA_ID_PLANO%type DEFAULT NULL,
     pCAD_PLA_CD_PLANO_HAC IN TB_CAD_PLA_PLANO.CAD_PLA_CD_PLANO_HAC%type DEFAULT NULL,
     pCAD_PLA_CD_PLANO IN TB_CAD_PLA_PLANO.CAD_PLA_CD_PLANO%type DEFAULT NULL,
     pCAD_PLA_CD_TIPOPLANO IN TB_CAD_PLA_PLANO.CAD_PLA_CD_TIPOPLANO%type DEFAULT NULL,
     pCAD_PLA_NM_NOME_PLANO IN TB_CAD_PLA_PLANO.CAD_PLA_NM_NOME_PLANO%type DEFAULT NULL,
     pCAD_PLA_FL_SITUACAO_PLANO IN TB_CAD_PLA_PLANO.CAD_PLA_FL_SITUACAO_PLANO%type DEFAULT NULL,
     pCAD_CNV_ID_CONVENIO IN TB_CAD_PLA_PLANO.CAD_CNV_ID_CONVENIO%type DEFAULT NULL,
     pCAD_PLA_DT_ULT_ATUALIZACAO IN TB_CAD_PLA_PLANO.CAD_PLA_DT_ULT_ATUALIZACAO%type DEFAULT NULL,
     pSEG_USU_ID_USUARIO IN TB_CAD_PLA_PLANO.SEG_USU_ID_USUARIO%type DEFAULT NULL,
     pCAD_PLA_DT_INICIO_VIGENCIA IN TB_CAD_PLA_PLANO.CAD_PLA_DT_INICIO_VIGENCIA%type DEFAULT NULL,
     pCAD_PLA_DT_FIM_VIGENCIA IN TB_CAD_PLA_PLANO.CAD_PLA_DT_FIM_VIGENCIA%type DEFAULT NULL,
     pCAD_PLA_DS_OBS_FIM_VIG IN TB_CAD_PLA_PLANO.CAD_PLA_DS_OBS_FIM_VIG%type DEFAULT NULL,
     pCAD_PLA_FL_EXIGE_GUIA IN TB_CAD_PLA_PLANO.CAD_PLA_FL_EXIGE_GUIA%type DEFAULT NULL,
     pCAD_PLA_FL_EXIGE_SENHA_LIB_OK IN TB_CAD_PLA_PLANO.CAD_PLA_FL_EXIGE_SENHA_LIB_OK%type DEFAULT NULL,
     pCAD_PLA_FL_LIBERA_EXAME_OK IN TB_CAD_PLA_PLANO.CAD_PLA_FL_LIBERA_EXAME_OK%type DEFAULT NULL,
     pCAD_PLA_DS_ORIENTACAO IN TB_CAD_PLA_PLANO.CAD_PLA_DS_ORIENTACAO%type DEFAULT NULL,
     pCAD_PLA_FL_AUTORIZA_ONLINE IN TB_CAD_PLA_PLANO.CAD_PLA_FL_AUTORIZA_ONLINE%type DEFAULT NULL,
     pCAD_PLA_FL_COB_AMBULANCIA IN TB_CAD_PLA_PLANO.CAD_PLA_FL_COB_AMBULANCIA%type DEFAULT NULL,
     pCAD_PLA_FL_COB_ACID_TRAB IN TB_CAD_PLA_PLANO.CAD_PLA_FL_COB_ACID_TRAB%type DEFAULT NULL,
     pCAD_PLA_FL_COB_REFEI_ACOMP IN TB_CAD_PLA_PLANO.CAD_PLA_FL_COB_REFEI_ACOMP%type DEFAULT NULL,
     pCAD_PLA_FL_COB_ACOMPANHA IN TB_CAD_PLA_PLANO.CAD_PLA_FL_COB_ACOMPANHA%type DEFAULT NULL,
     pCAD_PLA_CT_CATEGORIA_PLANO IN TB_CAD_PLA_PLANO.CAD_PLA_CT_CATEGORIA_PLANO%type DEFAULT NULL,
     io_cursor OUT PKG_CURSOR.t_cursor
  ) 
  is
  /********************************************************************
  *    Procedure: PRC_CAD_PLA_PLANO_RMT_S
  * 
  *      Data Criacao: 	?           Por: ?
  *    Data Alteracao:	26/06/2013  Por: André
  *         Alteracao:	Adição do campo/parâmetro CAD_PLA_CT_CATEGORIA_PLANO
  *
  *    Funcao: Lista planos
  *******************************************************************/
  v_cursor PKG_CURSOR.t_cursor;
  begin
    OPEN v_cursor FOR
    SELECT	
       CAD_PLA_ID_PLANO,
       CAD_PLA_CD_PLANO_HAC,
       CAD_PLA_CD_PLANO,
       CAD_PLA_CD_TIPOPLANO,
       CAD_PLA_NM_NOME_PLANO,
       CAD_PLA_FL_SITUACAO_PLANO,
       CAD_CNV_ID_CONVENIO,
       CAD_PLA_DT_ULT_ATUALIZACAO,
       SEG_USU_ID_USUARIO,
       CAD_PLA_DT_INICIO_VIGENCIA,
       CAD_PLA_DT_FIM_VIGENCIA,
       CAD_PLA_DS_OBS_FIM_VIG,
       CAD_PLA_FL_EXIGE_GUIA,
       CAD_PLA_FL_EXIGE_SENHA_LIB_OK,
       CAD_PLA_FL_LIBERA_EXAME_OK,
       CAD_PLA_DS_ORIENTACAO,
       CAD_PLA_FL_AUTORIZA_ONLINE,
       CAD_PLA_FL_COB_AMBULANCIA,
       CAD_PLA_FL_COB_ACID_TRAB,
       CAD_PLA_FL_COB_REFEI_ACOMP,
       CAD_PLA_FL_COB_ACOMPANHA,
       CAD_PLA_CT_CATEGORIA_PLANO
    FROM TB_CAD_PLA_PLANO
    WHERE
        (pCAD_PLA_ID_PLANO is null OR CAD_PLA_ID_PLANO = pCAD_PLA_ID_PLANO) AND 
        (pCAD_PLA_CD_PLANO_HAC is null OR CAD_PLA_CD_PLANO_HAC = pCAD_PLA_CD_PLANO_HAC) AND 
        (pCAD_PLA_CD_PLANO is null OR CAD_PLA_CD_PLANO = pCAD_PLA_CD_PLANO) AND 
        (pCAD_PLA_CD_TIPOPLANO is null OR CAD_PLA_CD_TIPOPLANO = pCAD_PLA_CD_TIPOPLANO) AND 
        (pCAD_PLA_NM_NOME_PLANO is null OR CAD_PLA_NM_NOME_PLANO = pCAD_PLA_NM_NOME_PLANO) AND 
        (pCAD_PLA_FL_SITUACAO_PLANO is null OR CAD_PLA_FL_SITUACAO_PLANO = pCAD_PLA_FL_SITUACAO_PLANO) AND 
        (pCAD_CNV_ID_CONVENIO is null OR CAD_CNV_ID_CONVENIO = pCAD_CNV_ID_CONVENIO) AND 
        (pCAD_PLA_DT_ULT_ATUALIZACAO is null OR CAD_PLA_DT_ULT_ATUALIZACAO = pCAD_PLA_DT_ULT_ATUALIZACAO) AND 
        (pSEG_USU_ID_USUARIO is null OR SEG_USU_ID_USUARIO = pSEG_USU_ID_USUARIO) AND 
        (pCAD_PLA_DT_INICIO_VIGENCIA is null OR CAD_PLA_DT_INICIO_VIGENCIA = pCAD_PLA_DT_INICIO_VIGENCIA) AND 
        (pCAD_PLA_DT_FIM_VIGENCIA is null OR CAD_PLA_DT_FIM_VIGENCIA = pCAD_PLA_DT_FIM_VIGENCIA) AND 
        (pCAD_PLA_DS_OBS_FIM_VIG is null OR CAD_PLA_DS_OBS_FIM_VIG = pCAD_PLA_DS_OBS_FIM_VIG) AND 
        (pCAD_PLA_FL_EXIGE_GUIA is null OR CAD_PLA_FL_EXIGE_GUIA = pCAD_PLA_FL_EXIGE_GUIA) AND 
        (pCAD_PLA_FL_EXIGE_SENHA_LIB_OK is null OR CAD_PLA_FL_EXIGE_SENHA_LIB_OK = pCAD_PLA_FL_EXIGE_SENHA_LIB_OK) AND 
        (pCAD_PLA_FL_LIBERA_EXAME_OK is null OR CAD_PLA_FL_LIBERA_EXAME_OK = pCAD_PLA_FL_LIBERA_EXAME_OK) AND 
        (pCAD_PLA_DS_ORIENTACAO is null OR CAD_PLA_DS_ORIENTACAO = pCAD_PLA_DS_ORIENTACAO) AND 
        (pCAD_PLA_FL_AUTORIZA_ONLINE is null OR CAD_PLA_FL_AUTORIZA_ONLINE = pCAD_PLA_FL_AUTORIZA_ONLINE) AND 
        (pCAD_PLA_FL_COB_AMBULANCIA is null OR CAD_PLA_FL_COB_AMBULANCIA = pCAD_PLA_FL_COB_AMBULANCIA) AND 
        (pCAD_PLA_FL_COB_ACID_TRAB is null OR CAD_PLA_FL_COB_ACID_TRAB = pCAD_PLA_FL_COB_ACID_TRAB) AND 
        (pCAD_PLA_FL_COB_REFEI_ACOMP is null OR CAD_PLA_FL_COB_REFEI_ACOMP = pCAD_PLA_FL_COB_REFEI_ACOMP) AND 
        (pCAD_PLA_FL_COB_ACOMPANHA is null OR CAD_PLA_FL_COB_ACOMPANHA = pCAD_PLA_FL_COB_ACOMPANHA) AND          
        (pCAD_PLA_CT_CATEGORIA_PLANO is null OR CAD_PLA_CT_CATEGORIA_PLANO = pCAD_PLA_CT_CATEGORIA_PLANO);
    io_cursor := v_cursor;
  end PRC_CAD_PLA_PLANO_RMT_S;
 
