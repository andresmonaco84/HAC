 
--PRC_COB_TXT_COBRANCA_L
create or replace procedure PRC_COB_TXT_COBRANCA_L 
(
     pCOB_TXT_ID IN TB_COB_TXT_COBRANCA.COB_TXT_ID%type DEFAULT NULL,
     pCOB_TXT_DT_CRIACAO IN TB_COB_TXT_COBRANCA.COB_TXT_DT_CRIACAO%type DEFAULT NULL,
     pCOB_TXT_FL_STATUS IN TB_COB_TXT_COBRANCA.COB_TXT_FL_STATUS%type DEFAULT NULL,
     pCAD_PES_ID_PESSOA IN TB_COB_TXT_COBRANCA.CAD_PES_ID_PESSOA%type DEFAULT NULL,
     pCOB_TXT_SEQ_GERAL IN TB_COB_TXT_COBRANCA.COB_TXT_SEQ_GERAL%type DEFAULT NULL,
     pCOB_TXT_CD_BENEF IN TB_COB_TXT_COBRANCA.COB_TXT_CD_BENEF%type DEFAULT NULL,
     pCOB_TXT_NM_BENEF IN TB_COB_TXT_COBRANCA.COB_TXT_NM_BENEF%type DEFAULT NULL,
     pCOB_TXT_NR_GUIA IN TB_COB_TXT_COBRANCA.COB_TXT_NR_GUIA%type DEFAULT NULL,
     pCOB_TXT_NR_LOTE_TISS IN TB_COB_TXT_COBRANCA.COB_TXT_NR_LOTE_TISS%type DEFAULT NULL,
     pCOB_TXT_DT_ATEND IN TB_COB_TXT_COBRANCA.COB_TXT_DT_ATEND%type DEFAULT NULL,
     pCOB_TXT_CD_SERVICO IN TB_COB_TXT_COBRANCA.COB_TXT_CD_SERVICO%type DEFAULT NULL,
     pCOB_TXT_DS_SERVICO IN TB_COB_TXT_COBRANCA.COB_TXT_DS_SERVICO%type DEFAULT NULL,
     pCOB_TXT_VL_MOVIMENTO IN TB_COB_TXT_COBRANCA.COB_TXT_VL_MOVIMENTO%type DEFAULT NULL,
     pCOB_TXT_PC_COFINS IN TB_COB_TXT_COBRANCA.COB_TXT_PC_COFINS%type DEFAULT NULL,
     pCOB_TXT_VL_COFINS IN TB_COB_TXT_COBRANCA.COB_TXT_VL_COFINS%type DEFAULT NULL,
     pCOB_TXT_PC_PIS IN TB_COB_TXT_COBRANCA.COB_TXT_PC_PIS%type DEFAULT NULL,
     pCOB_TXT_VL_PIS IN TB_COB_TXT_COBRANCA.COB_TXT_VL_PIS%type DEFAULT NULL,
     pCOB_TXT_PC_CSLL IN TB_COB_TXT_COBRANCA.COB_TXT_PC_CSLL%type DEFAULT NULL,
     pCOB_TXT_VL_CSLL IN TB_COB_TXT_COBRANCA.COB_TXT_VL_CSLL%type DEFAULT NULL,
     pCOB_TXT_PC_IR IN TB_COB_TXT_COBRANCA.COB_TXT_PC_IR%type DEFAULT NULL,
     pCOB_TXT_VL_IR IN TB_COB_TXT_COBRANCA.COB_TXT_VL_IR%type DEFAULT NULL,
     pCOB_TXT_PC_ISS IN TB_COB_TXT_COBRANCA.COB_TXT_PC_ISS%type DEFAULT NULL,
     pCOB_TXT_VL_ISS IN TB_COB_TXT_COBRANCA.COB_TXT_VL_ISS%type DEFAULT NULL,
     pCOB_TXT_DT_PAGTO IN TB_COB_TXT_COBRANCA.COB_TXT_DT_PAGTO%type DEFAULT NULL,
     pCOB_TXT_DT_ATUALIZA_MGC IN TB_COB_TXT_COBRANCA.COB_TXT_DT_ATUALIZA_MGC%type DEFAULT NULL,
     pASS_BCT_ID IN TB_COB_TXT_COBRANCA.ASS_BCT_ID%type DEFAULT NULL,
     pCOB_CCP_ID IN TB_COB_TXT_COBRANCA.COB_CCP_ID%type DEFAULT NULL,
     pCOB_COC_ID IN TB_COB_TXT_COBRANCA.COB_COC_ID%type DEFAULT NULL,
     pATD_ATE_ID IN TB_COB_TXT_COBRANCA.ATD_ATE_ID%type DEFAULT NULL,
     pCAD_PAC_ID_PACIENTE IN TB_COB_TXT_COBRANCA.CAD_PAC_ID_PACIENTE%type DEFAULT NULL,
     pFAT_NOF_ID IN TB_COB_TXT_COBRANCA.FAT_NOF_ID%type DEFAULT NULL,
     pATD_GUI_CD_CODIGO IN TB_COB_TXT_COBRANCA.ATD_GUI_CD_CODIGO%type DEFAULT NULL,
     pATD_GUI_DT_VALIDADE IN TB_COB_TXT_COBRANCA.ATD_GUI_DT_VALIDADE%type DEFAULT NULL,
     pCOB_TXT_NR_SEQ_PAGTO IN TB_COB_TXT_COBRANCA.COB_TXT_NR_SEQ_PAGTO%type DEFAULT NULL,
     pCOB_TXT_NR_ANEXO IN TB_COB_TXT_COBRANCA.COB_TXT_NR_ANEXO%type DEFAULT NULL,
     pCOB_TXT_VL_ITEM IN TB_COB_TXT_COBRANCA.COB_TXT_VL_ITEM%type DEFAULT NULL,
     pCOB_TXT_VL_GLOSA IN TB_COB_TXT_COBRANCA.COB_TXT_VL_GLOSA%type DEFAULT NULL,
     pCOB_TXT_CD_GLOSA IN TB_COB_TXT_COBRANCA.COB_TXT_CD_GLOSA%type DEFAULT NULL,
     pCOB_TXT_CD_ITEM IN TB_COB_TXT_COBRANCA.COB_TXT_CD_ITEM%type DEFAULT NULL,
     pCOB_TXT_QT_SEPAG IN TB_COB_TXT_COBRANCA.COB_TXT_QT_SEPAG%type DEFAULT NULL,
     pCOB_TXT_NR_GUIA_ORIGEM IN TB_COB_TXT_COBRANCA.COB_TXT_NR_GUIA_ORIGEM%type DEFAULT NULL,
     pCOB_TXT_VL_MOVIMENTO_ORIGEM IN TB_COB_TXT_COBRANCA.COB_TXT_VL_MOVIMENTO_ORIGEM%type DEFAULT NULL,
     pCOB_TXT_FL_PROCESSAR IN TB_COB_TXT_COBRANCA.COB_TXT_FL_PROCESSAR%type DEFAULT NULL,
     io_cursor OUT PKG_CURSOR.t_cursor
) 
is
/********************************************************************
*    Procedure: PRC_COB_TXT_COBRANCA_L
* 
*    Data Criacao: 	data da  criação   Por: Nome do Analista
*    Data Alteracao:	data da alteração  Por: Nome do Analista
*
*    Funcao: Descrição da funcionalidade da Stored Procedure
*
*******************************************************************/
 v_cursor PKG_CURSOR.t_cursor;
  V_WHERE  varchar2(5000);
  V_SELECT  varchar2(5000);
begin
  V_WHERE := NULL;
  IF pCOB_TXT_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_ID = ' || pCOB_TXT_ID; END IF;
IF pCOB_TXT_DT_CRIACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_DT_CRIACAO = ' || CHR(39) || pCOB_TXT_DT_CRIACAO || CHR(39); END IF;
IF pCOB_TXT_FL_STATUS IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_FL_STATUS = ' || CHR(39) || pCOB_TXT_FL_STATUS || CHR(39); END IF;
IF pCAD_PES_ID_PESSOA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PES_ID_PESSOA = ' || pCAD_PES_ID_PESSOA; END IF;
IF pCOB_TXT_SEQ_GERAL IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_SEQ_GERAL = ' || pCOB_TXT_SEQ_GERAL; END IF;
IF pCOB_TXT_CD_BENEF IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_CD_BENEF = ' || CHR(39) || pCOB_TXT_CD_BENEF || CHR(39); END IF;
IF pCOB_TXT_NM_BENEF IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_NM_BENEF = ' || CHR(39) || pCOB_TXT_NM_BENEF || CHR(39); END IF;
IF pCOB_TXT_NR_GUIA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_NR_GUIA = ' || CHR(39) || pCOB_TXT_NR_GUIA || CHR(39); END IF;
IF pCOB_TXT_NR_LOTE_TISS IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_NR_LOTE_TISS = ' || CHR(39) || pCOB_TXT_NR_LOTE_TISS || CHR(39); END IF;
IF pCOB_TXT_DT_ATEND IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_DT_ATEND = ' || CHR(39) || pCOB_TXT_DT_ATEND || CHR(39); END IF;
IF pCOB_TXT_CD_SERVICO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_CD_SERVICO = ' || CHR(39) || pCOB_TXT_CD_SERVICO || CHR(39); END IF;
IF pCOB_TXT_DS_SERVICO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_DS_SERVICO = ' || CHR(39) || pCOB_TXT_DS_SERVICO || CHR(39); END IF;
IF pCOB_TXT_VL_MOVIMENTO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_VL_MOVIMENTO = ' || pCOB_TXT_VL_MOVIMENTO; END IF;
IF pCOB_TXT_PC_COFINS IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_PC_COFINS = ' || pCOB_TXT_PC_COFINS; END IF;
IF pCOB_TXT_VL_COFINS IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_VL_COFINS = ' || pCOB_TXT_VL_COFINS; END IF;
IF pCOB_TXT_PC_PIS IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_PC_PIS = ' || pCOB_TXT_PC_PIS; END IF;
IF pCOB_TXT_VL_PIS IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_VL_PIS = ' || pCOB_TXT_VL_PIS; END IF;
IF pCOB_TXT_PC_CSLL IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_PC_CSLL = ' || pCOB_TXT_PC_CSLL; END IF;
IF pCOB_TXT_VL_CSLL IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_VL_CSLL = ' || pCOB_TXT_VL_CSLL; END IF;
IF pCOB_TXT_PC_IR IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_PC_IR = ' || pCOB_TXT_PC_IR; END IF;
IF pCOB_TXT_VL_IR IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_VL_IR = ' || pCOB_TXT_VL_IR; END IF;
IF pCOB_TXT_PC_ISS IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_PC_ISS = ' || pCOB_TXT_PC_ISS; END IF;
IF pCOB_TXT_VL_ISS IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_VL_ISS = ' || pCOB_TXT_VL_ISS; END IF;
IF pCOB_TXT_DT_PAGTO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_DT_PAGTO = ' || CHR(39) || pCOB_TXT_DT_PAGTO || CHR(39); END IF;
IF pCOB_TXT_DT_ATUALIZA_MGC IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_DT_ATUALIZA_MGC = ' || CHR(39) || pCOB_TXT_DT_ATUALIZA_MGC || CHR(39); END IF;
IF pASS_BCT_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ASS_BCT_ID = ' || pASS_BCT_ID; END IF;
IF pCOB_CCP_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_CCP_ID = ' || pCOB_CCP_ID; END IF;
IF pCOB_COC_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_COC_ID = ' || pCOB_COC_ID; END IF;
IF pATD_ATE_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_ATE_ID = ' || pATD_ATE_ID; END IF;
IF pCAD_PAC_ID_PACIENTE IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PAC_ID_PACIENTE = ' || pCAD_PAC_ID_PACIENTE; END IF;
IF pFAT_NOF_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_NOF_ID = ' || pFAT_NOF_ID; END IF;
IF pATD_GUI_CD_CODIGO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_GUI_CD_CODIGO = ' || CHR(39) || pATD_GUI_CD_CODIGO || CHR(39); END IF;
IF pATD_GUI_DT_VALIDADE IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_GUI_DT_VALIDADE = ' || CHR(39) || pATD_GUI_DT_VALIDADE || CHR(39); END IF;
IF pCOB_TXT_NR_SEQ_PAGTO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_NR_SEQ_PAGTO = ' || pCOB_TXT_NR_SEQ_PAGTO; END IF;
IF pCOB_TXT_NR_ANEXO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_NR_ANEXO = ' || pCOB_TXT_NR_ANEXO; END IF;
IF pCOB_TXT_VL_ITEM IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_VL_ITEM = ' || pCOB_TXT_VL_ITEM; END IF;
IF pCOB_TXT_VL_GLOSA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_VL_GLOSA = ' || pCOB_TXT_VL_GLOSA; END IF;
IF pCOB_TXT_CD_GLOSA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_CD_GLOSA = ' || pCOB_TXT_CD_GLOSA; END IF;
IF pCOB_TXT_CD_ITEM IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_CD_ITEM = ' || pCOB_TXT_CD_ITEM; END IF;
IF pCOB_TXT_QT_SEPAG IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_QT_SEPAG = ' || pCOB_TXT_QT_SEPAG; END IF;
IF pCOB_TXT_NR_GUIA_ORIGEM IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_NR_GUIA_ORIGEM = ' || CHR(39) || pCOB_TXT_NR_GUIA_ORIGEM || CHR(39); END IF;
IF pCOB_TXT_VL_MOVIMENTO_ORIGEM IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_VL_MOVIMENTO_ORIGEM = ' || pCOB_TXT_VL_MOVIMENTO_ORIGEM; END IF;
IF pCOB_TXT_FL_PROCESSAR IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND COB_TXT_FL_PROCESSAR = ' || CHR(39) || pCOB_TXT_FL_PROCESSAR || CHR(39); END IF;
 
   V_SELECT := '
SELECT	
       COB_TXT_ID,
       COB_TXT_DT_CRIACAO,
       COB_TXT_FL_STATUS,
       CAD_PES_ID_PESSOA,
       COB_TXT_SEQ_GERAL,
       COB_TXT_CD_BENEF,
       COB_TXT_NM_BENEF,
       COB_TXT_NR_GUIA,
       COB_TXT_NR_LOTE_TISS,
       COB_TXT_DT_ATEND,
       COB_TXT_CD_SERVICO,
       COB_TXT_DS_SERVICO,
       COB_TXT_VL_MOVIMENTO,
       COB_TXT_PC_COFINS,
       COB_TXT_VL_COFINS,
       COB_TXT_PC_PIS,
       COB_TXT_VL_PIS,
       COB_TXT_PC_CSLL,
       COB_TXT_VL_CSLL,
       COB_TXT_PC_IR,
       COB_TXT_VL_IR,
       COB_TXT_PC_ISS,
       COB_TXT_VL_ISS,
       COB_TXT_DT_PAGTO,
       COB_TXT_DT_ATUALIZA_MGC,
       ASS_BCT_ID,
       COB_CCP_ID,
       COB_COC_ID,
       ATD_ATE_ID,
       CAD_PAC_ID_PACIENTE,
       FAT_NOF_ID,
       ATD_GUI_CD_CODIGO,
       ATD_GUI_DT_VALIDADE,
       COB_TXT_NR_SEQ_PAGTO,
       COB_TXT_NR_ANEXO,
       COB_TXT_VL_ITEM,
       COB_TXT_VL_GLOSA,
       COB_TXT_CD_GLOSA,
       COB_TXT_CD_ITEM,
       COB_TXT_QT_SEPAG,
       COB_TXT_NR_GUIA_ORIGEM,
       COB_TXT_VL_MOVIMENTO_ORIGEM,
       COB_TXT_FL_PROCESSAR
FROM TB_COB_TXT_COBRANCA
WHERE null is null  '    ;
       
OPEN v_cursor FOR
  V_SELECT || V_WHERE ;
  io_cursor := v_cursor;
end PRC_COB_TXT_COBRANCA_L;
