CREATE OR REPLACE PROCEDURE PRC_FAT_CCI_CONTA_CONSU_ITEM_L
(
     pFAT_CCI_ID IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_ID%type DEFAULT NULL,
     pFAT_MCC_ID IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_MCC_ID%type DEFAULT NULL,
     pFAT_CCP_ID IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCP_ID%type DEFAULT NULL,
     pFAT_COC_ID IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_COC_ID%type DEFAULT NULL,
     pCAD_TAP_TP_ATRIBUTO IN TB_FAT_CCI_CONTA_CONSU_ITEM.CAD_TAP_TP_ATRIBUTO%type DEFAULT NULL,
     pCAD_PRD_ID IN TB_FAT_CCI_CONTA_CONSU_ITEM.CAD_PRD_ID%type DEFAULT NULL,
     pCAD_TIH_TP_INDICE_HOSP IN TB_FAT_CCI_CONTA_CONSU_ITEM.CAD_TIH_TP_INDICE_HOSP%type DEFAULT NULL,
     pFAT_CCI_QT_INDICE IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_QT_INDICE%type DEFAULT NULL,
     pFAT_CCI_VL_INDICE IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_VL_INDICE%type DEFAULT NULL,
     pFAT_CCI_VL_PRODUTO IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_VL_PRODUTO%type DEFAULT NULL,
     pFAT_CCI_VL_UNITARIO IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_VL_UNITARIO%type DEFAULT NULL,
     pFAT_CCI_DT_INICIO_CONSUMO IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_DT_INICIO_CONSUMO%type DEFAULT NULL,
     pFAT_CCI_HR_INICIO_CONSUMO IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_HR_INICIO_CONSUMO%type DEFAULT NULL,
     pFAT_CCI_DT_FIM_CONSUMO IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_DT_FIM_CONSUMO%type DEFAULT NULL,
     pFAT_CCI_HR_FIM_CONSUMO IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_HR_FIM_CONSUMO%type DEFAULT NULL,
     pFAT_CCI_VL_FATURADO IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_VL_FATURADO%type DEFAULT NULL,
     pFAT_CCI_QT_CONSUMO IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_QT_CONSUMO%type DEFAULT NULL,
     pFAT_CCI_PC_ACRESCIMO IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_PC_ACRESCIMO%type DEFAULT NULL,
     pFAT_CCI_PC_DESCONTO IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_PC_DESCONTO%type DEFAULT NULL,
     pFAT_CCI_FL_FATURADO IN char default NULL,
     pFAT_CCI_TP_DESTINO_ITEM IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_TP_DESTINO_ITEM%type DEFAULT NULL,
     pCAD_PRO_ID_PROFISSIONAL IN TB_FAT_CCI_CONTA_CONSU_ITEM.CAD_PRO_ID_PROFISSIONAL%type DEFAULT NULL,
     pTIS_GPP_CD_GRAU_PART_PROF IN TB_FAT_CCI_CONTA_CONSU_ITEM.TIS_GPP_CD_GRAU_PART_PROF%type DEFAULT NULL,
     pFAT_CCI_PC_GRAU_PART_PROF IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_PC_GRAU_PART_PROF%type DEFAULT NULL,
     pTIS_TVA_CD_VIAACESSO IN TB_FAT_CCI_CONTA_CONSU_ITEM.TIS_TVA_CD_VIAACESSO%type DEFAULT NULL,
     pTIS_TTP_CD_TPTECNICA IN TB_FAT_CCI_CONTA_CONSU_ITEM.TIS_TTP_CD_TPTECNICA%type DEFAULT NULL,
     pFAT_CCI_FL_SIMULTANEA IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_FL_SIMULTANEA%type DEFAULT NULL,
     pFAT_CCI_FL_BILATERAL IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_FL_BILATERAL%type DEFAULT NULL,
     pFAT_CCI_VL_CUSTOMEDIO IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_VL_CUSTOMEDIO%type DEFAULT NULL,
     pFAT_CCI_FL_FRACIONADO IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_FL_FRACIONADO%type DEFAULT NULL,
     pFAT_CCI_QT_FRACIONADA IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_QT_FRACIONADA%type DEFAULT NULL,
     pFAT_CCI_PC_DOPPLER IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_PC_DOPPLER%type DEFAULT NULL,
     pTIS_CPR_CD_CONSELHOPROF IN TB_FAT_CCI_CONTA_CONSU_ITEM.TIS_CPR_CD_CONSELHOPROF%type DEFAULT NULL,
     pCAD_PSO_CD_CONSELHO IN TB_FAT_CCI_CONTA_CONSU_ITEM.CAD_PSO_CD_CONSELHO%type DEFAULT NULL,
     pCAD_PSO_SG_UF_CONSELHO IN TB_FAT_CCI_CONTA_CONSU_ITEM.CAD_PSO_SG_UF_CONSELHO%type DEFAULT NULL,
     pFAT_FL_PROCED_PRINCIPAL IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_FL_PROCED_PRINCIPAL%type DEFAULT NULL,
     pFAT_FL_PENDENTE_AUTORIZA IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_FL_PENDENTE_AUTORIZA%type DEFAULT NULL,
     pFAT_CCI_FL_UTILIZAVIDEO IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_FL_UTILIZAVIDEO%type DEFAULT NULL,
     pFAT_CCI_FL_STATUS IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_FL_STATUS%type DEFAULT NULL,
     pFAT_CCI_TP_PORTEANESTESICO IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_TP_PORTEANESTESICO%type DEFAULT NULL,
     pFAT_CCI_VL_PORTEANESTESICO IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_VL_PORTEANESTESICO%type DEFAULT NULL,
     pSEG_USU_ID_USUARIO IN TB_FAT_CCI_CONTA_CONSU_ITEM.SEG_USU_ID_USUARIO%type DEFAULT NULL,
     pFAT_CCI_DT_ULTIMA_ATUALIZACAO IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_DT_ULTIMA_ATUALIZACAO%type DEFAULT NULL,
     pFAT_CCI_QT_M2FILME IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_QT_M2FILME%type DEFAULT NULL,
     pFAT_CCI_VL_M2FILME IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_VL_M2FILME%type DEFAULT NULL,
     pFAT_CCI_PC_TABELA_ACRESCIMO IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_PC_TABELA_ACRESCIMO%type DEFAULT NULL,
     pFAT_CCI_VL_CALCULADO IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_VL_CALCULADO%type DEFAULT NULL,
     pFAT_CCI_PC_HORARIO IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_PC_HORARIO%type DEFAULT NULL,
     pFAT_CCI_CD_GUIA IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_CD_GUIA%type DEFAULT NULL,
     pFAT_CCI_CD_SENHA IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_CD_SENHA%type DEFAULT NULL,
     pCAD_MPF_ID IN TB_FAT_CCI_CONTA_CONSU_ITEM.CAD_MPF_ID%type DEFAULT NULL,
     pCAD_APM_ID_MATMED IN TB_FAT_CCI_CONTA_CONSU_ITEM.CAD_APM_ID_MATMED%type DEFAULT NULL,
     pFAT_CCI_VL_MATMED_FABRICA IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_VL_MATMED_FABRICA%type DEFAULT NULL,
     pATD_ATE_ID IN TB_FAT_CCI_CONTA_CONSU_ITEM.ATD_ATE_ID%type DEFAULT NULL,
     pCAD_UMC_CD_MEDIDA_CONSUMO IN TB_FAT_CCI_CONTA_CONSU_ITEM.CAD_UMC_CD_MEDIDA_CONSUMO%type DEFAULT NULL,
     pCAD_NFM_ID IN TB_FAT_CCI_CONTA_CONSU_ITEM.CAD_NFM_ID%type DEFAULT NULL,
     pASS_USC_ID IN TB_FAT_CCI_CONTA_CONSU_ITEM.ASS_USC_ID%type DEFAULT NULL,
     pCAD_MAA_ID IN TB_FAT_CCI_CONTA_CONSU_ITEM.CAD_MAA_ID%type DEFAULT NULL,
     pCAD_PAC_ID_PACIENTE IN TB_FAT_CCI_CONTA_CONSU_ITEM.CAD_PAC_ID_PACIENTE%type DEFAULT NULL,
     pFAT_CCI_TP_CREDENCIA_PROF IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_TP_CREDENCIA_PROF%type DEFAULT NULL,
     pFAT_CCI_CD_CLINICA_PROF IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_CD_CLINICA_PROF%type DEFAULT NULL,
     pATS_APL_ID IN TB_FAT_CCI_CONTA_CONSU_ITEM.ATS_APL_ID%type DEFAULT NULL,
     pFAT_CCI_FL_EQUIPE_DIFERENTE IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_FL_EQUIPE_DIFERENTE%type DEFAULT NULL,
     pFAT_CCI_PC_ACOMODACAO_HM IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_PC_ACOMODACAO_HM%type DEFAULT NULL,
     pFAT_CCI_ID_PRINCIPAL IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_ID_PRINCIPAL%type DEFAULT NULL,
     pFAT_CCI_FL_PACOTE IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_FL_PACOTE%type DEFAULT NULL,
     pFAT_CCI_VL_ACRESCIMO IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_VL_ACRESCIMO%type DEFAULT NULL,
     pFAT_CCI_VL_DESCONTO IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_VL_DESCONTO%type DEFAULT NULL,
     pCAD_PRD_ID_COBRADO IN TB_FAT_CCI_CONTA_CONSU_ITEM.CAD_PRD_ID_COBRADO%type DEFAULT NULL,
     pFAT_CCI_PC_TABELA_DESCONTO IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_PC_TABELA_DESCONTO%type DEFAULT NULL,
     pFAT_CCI_VL_PRE_CALCULADO IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_VL_PRE_CALCULADO%type DEFAULT NULL,
     pCAD_CEC_ID_CCUSTO IN TB_FAT_CCI_CONTA_CONSU_ITEM.CAD_CEC_ID_CCUSTO%type DEFAULT NULL,
     pCAD_CAC_ID_CLASSCONTABIL IN TB_FAT_CCI_CONTA_CONSU_ITEM.CAD_CAC_ID_CLASSCONTABIL%type DEFAULT NULL,
     pFAT_CCI_FL_KITPRA IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_FL_KITPRA%type DEFAULT NULL,
     pFAT_CCI_QT_CONS_AUD IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_QT_CONS_AUD%type DEFAULT NULL,
     pFAT_CCI_QT_CONS_ANT IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_QT_CONS_ANT%type DEFAULT NULL,
     pFAT_CCI_VL_UNITARIO_ANT IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_VL_UNITARIO_ANT%type DEFAULT NULL,
     pFAT_CCI_VL_UNITARIO_AUD IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_VL_UNITARIO_AUD%type DEFAULT NULL,
     pFAT_CCI_MES_FECHAMENTO IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_MES_FECHAMENTO%type DEFAULT NULL,
     pFAT_CCI_ANO_FECHAMENTO IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_ANO_FECHAMENTO%type DEFAULT NULL,
     pSEG_USU_ID_USUARIO_CRIACAO IN TB_FAT_CCI_CONTA_CONSU_ITEM.SEG_USU_ID_USUARIO_CRIACAO%type DEFAULT NULL,
     pFAT_CCI_DT_CRIACAO IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_DT_CRIACAO%type DEFAULT NULL,
     pFAT_CCI_FL_IMPORTADO_REPASSE IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_FL_IMPORTADO_REPASSE%type DEFAULT NULL,
     pCAD_UNI_ID_UNIDADE IN TB_FAT_CCI_CONTA_CONSU_ITEM.CAD_UNI_ID_UNIDADE%type DEFAULT NULL,
     pCAD_LAT_ID_LOCAL_ATENDIMENTO IN TB_FAT_CCI_CONTA_CONSU_ITEM.CAD_LAT_ID_LOCAL_ATENDIMENTO%type DEFAULT NULL,
     pATD_ATE_TP_PACIENTE IN TB_FAT_CCI_CONTA_CONSU_ITEM.ATD_ATE_TP_PACIENTE%type DEFAULT NULL,
     pCAD_CNV_ID_CONVENIO IN TB_FAT_CCI_CONTA_CONSU_ITEM.CAD_CNV_ID_CONVENIO%type DEFAULT NULL,
     pCAD_CLC_ID IN TB_FAT_CCI_CONTA_CONSU_ITEM.CAD_CLC_ID%type DEFAULT NULL,
     pCAD_CPR_TP_CREDENCIA_PROF IN TB_FAT_CCI_CONTA_CONSU_ITEM.CAD_CPR_TP_CREDENCIA_PROF%type DEFAULT NULL,
     pFAT_CCI_PC_REPASSE IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_PC_REPASSE%type DEFAULT NULL,
     pFAT_CCI_PC_MED_RESTRITO IN TB_FAT_CCI_CONTA_CONSU_ITEM.FAT_CCI_PC_MED_RESTRITO%type DEFAULT NULL,
     io_cursor OUT PKG_CURSOR.t_cursor
) 
is
/********************************************************************
*    Procedure: PRC_FAT_CCI_CONTA_CONSU_ITEM_L
* 
*    Data Criacao: 	data da  criação   Por: Nome do Analista
*    Data Alteracao:	data da alteração  Por: Nome do Analista
*
*    Funcao: Descrição da funcionalidade da Stored Procedure
*
*******************************************************************/
 v_cursor PKG_CURSOR.t_cursor;
  V_WHERE  varchar2(5000);
  V_SELECT  varchar2(5000);
begin
  V_WHERE := NULL;
  IF pFAT_CCI_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_ID = ' || pFAT_CCI_ID; END IF;
IF pFAT_MCC_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_MCC_ID = ' || pFAT_MCC_ID; END IF;
IF pFAT_CCP_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCP_ID = ' || pFAT_CCP_ID; END IF;
IF pFAT_COC_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_COC_ID = ' || pFAT_COC_ID; END IF;
IF pCAD_TAP_TP_ATRIBUTO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_TAP_TP_ATRIBUTO = ' || CHR(39) || pCAD_TAP_TP_ATRIBUTO || CHR(39); END IF;
IF pCAD_PRD_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PRD_ID = ' || pCAD_PRD_ID; END IF;
IF pCAD_TIH_TP_INDICE_HOSP IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_TIH_TP_INDICE_HOSP = ' || CHR(39) || pCAD_TIH_TP_INDICE_HOSP || CHR(39); END IF;
IF pFAT_CCI_QT_INDICE IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_QT_INDICE = ' || pFAT_CCI_QT_INDICE; END IF;
IF pFAT_CCI_VL_INDICE IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_VL_INDICE = ' || pFAT_CCI_VL_INDICE; END IF;
IF pFAT_CCI_VL_PRODUTO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_VL_PRODUTO = ' || pFAT_CCI_VL_PRODUTO; END IF;
IF pFAT_CCI_VL_UNITARIO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_VL_UNITARIO = ' || pFAT_CCI_VL_UNITARIO; END IF;
IF pFAT_CCI_DT_INICIO_CONSUMO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_DT_INICIO_CONSUMO = ' || CHR(39) || pFAT_CCI_DT_INICIO_CONSUMO || CHR(39); END IF;
IF pFAT_CCI_HR_INICIO_CONSUMO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_HR_INICIO_CONSUMO = ' || pFAT_CCI_HR_INICIO_CONSUMO; END IF;
IF pFAT_CCI_DT_FIM_CONSUMO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_DT_FIM_CONSUMO = ' || CHR(39) || pFAT_CCI_DT_FIM_CONSUMO || CHR(39); END IF;
IF pFAT_CCI_HR_FIM_CONSUMO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_HR_FIM_CONSUMO = ' || pFAT_CCI_HR_FIM_CONSUMO; END IF;
IF pFAT_CCI_VL_FATURADO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_VL_FATURADO = ' || pFAT_CCI_VL_FATURADO; END IF;
IF pFAT_CCI_QT_CONSUMO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_QT_CONSUMO = ' || pFAT_CCI_QT_CONSUMO; END IF;
IF pFAT_CCI_PC_ACRESCIMO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_PC_ACRESCIMO = ' || pFAT_CCI_PC_ACRESCIMO; END IF;
IF pFAT_CCI_PC_DESCONTO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_PC_DESCONTO = ' || pFAT_CCI_PC_DESCONTO; END IF;
--IF pFAT_CCI_FL_FATURADO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_FL_FATURADO = ' || CHR(39) || pFAT_CCI_FL_FATURADO || CHR(39); END IF;
IF pFAT_CCI_TP_DESTINO_ITEM IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_TP_DESTINO_ITEM = ' || CHR(39) || pFAT_CCI_TP_DESTINO_ITEM || CHR(39); END IF;
IF pCAD_PRO_ID_PROFISSIONAL IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PRO_ID_PROFISSIONAL = ' || pCAD_PRO_ID_PROFISSIONAL; END IF;
IF pTIS_GPP_CD_GRAU_PART_PROF IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND TIS_GPP_CD_GRAU_PART_PROF = ' || CHR(39) || pTIS_GPP_CD_GRAU_PART_PROF || CHR(39); END IF;
IF pFAT_CCI_PC_GRAU_PART_PROF IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_PC_GRAU_PART_PROF = ' || pFAT_CCI_PC_GRAU_PART_PROF; END IF;
IF pTIS_TVA_CD_VIAACESSO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND TIS_TVA_CD_VIAACESSO = ' || CHR(39) || pTIS_TVA_CD_VIAACESSO || CHR(39); END IF;
IF pTIS_TTP_CD_TPTECNICA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND TIS_TTP_CD_TPTECNICA = ' || CHR(39) || pTIS_TTP_CD_TPTECNICA || CHR(39); END IF;
IF pFAT_CCI_FL_SIMULTANEA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_FL_SIMULTANEA = ' || CHR(39) || pFAT_CCI_FL_SIMULTANEA || CHR(39); END IF;
IF pFAT_CCI_FL_BILATERAL IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_FL_BILATERAL = ' || CHR(39) || pFAT_CCI_FL_BILATERAL || CHR(39); END IF;
IF pFAT_CCI_VL_CUSTOMEDIO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_VL_CUSTOMEDIO = ' || pFAT_CCI_VL_CUSTOMEDIO; END IF;
IF pFAT_CCI_FL_FRACIONADO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_FL_FRACIONADO = ' || CHR(39) || pFAT_CCI_FL_FRACIONADO || CHR(39); END IF;
IF pFAT_CCI_QT_FRACIONADA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_QT_FRACIONADA = ' || pFAT_CCI_QT_FRACIONADA; END IF;
IF pFAT_CCI_PC_DOPPLER IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_PC_DOPPLER = ' || pFAT_CCI_PC_DOPPLER; END IF;
IF pTIS_CPR_CD_CONSELHOPROF IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND TIS_CPR_CD_CONSELHOPROF = ' || CHR(39) || pTIS_CPR_CD_CONSELHOPROF || CHR(39); END IF;
IF pCAD_PSO_CD_CONSELHO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PSO_CD_CONSELHO = ' || CHR(39) || pCAD_PSO_CD_CONSELHO || CHR(39); END IF;
IF pCAD_PSO_SG_UF_CONSELHO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PSO_SG_UF_CONSELHO = ' || CHR(39) || pCAD_PSO_SG_UF_CONSELHO || CHR(39); END IF;
IF pFAT_FL_PROCED_PRINCIPAL IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_FL_PROCED_PRINCIPAL = ' || CHR(39) || pFAT_FL_PROCED_PRINCIPAL || CHR(39); END IF;
IF pFAT_FL_PENDENTE_AUTORIZA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_FL_PENDENTE_AUTORIZA = ' || CHR(39) || pFAT_FL_PENDENTE_AUTORIZA || CHR(39); END IF;
IF pFAT_CCI_FL_UTILIZAVIDEO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_FL_UTILIZAVIDEO = ' || CHR(39) || pFAT_CCI_FL_UTILIZAVIDEO || CHR(39); END IF;
IF pFAT_CCI_FL_STATUS IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_FL_STATUS = ' || CHR(39) || pFAT_CCI_FL_STATUS || CHR(39); END IF;
IF pFAT_CCI_TP_PORTEANESTESICO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_TP_PORTEANESTESICO = ' || pFAT_CCI_TP_PORTEANESTESICO; END IF;
IF pFAT_CCI_VL_PORTEANESTESICO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_VL_PORTEANESTESICO = ' || pFAT_CCI_VL_PORTEANESTESICO; END IF;
IF pSEG_USU_ID_USUARIO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_ID_USUARIO = ' || pSEG_USU_ID_USUARIO; END IF;
IF pFAT_CCI_DT_ULTIMA_ATUALIZACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_DT_ULTIMA_ATUALIZACAO = ' || CHR(39) || pFAT_CCI_DT_ULTIMA_ATUALIZACAO || CHR(39); END IF;
IF pFAT_CCI_QT_M2FILME IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_QT_M2FILME = ' || pFAT_CCI_QT_M2FILME; END IF;
IF pFAT_CCI_VL_M2FILME IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_VL_M2FILME = ' || pFAT_CCI_VL_M2FILME; END IF;
IF pFAT_CCI_PC_TABELA_ACRESCIMO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_PC_TABELA_ACRESCIMO = ' || pFAT_CCI_PC_TABELA_ACRESCIMO; END IF;
IF pFAT_CCI_VL_CALCULADO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_VL_CALCULADO = ' || pFAT_CCI_VL_CALCULADO; END IF;
IF pFAT_CCI_PC_HORARIO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_PC_HORARIO = ' || pFAT_CCI_PC_HORARIO; END IF;
IF pFAT_CCI_CD_GUIA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_CD_GUIA = ' || CHR(39) || pFAT_CCI_CD_GUIA || CHR(39); END IF;
IF pFAT_CCI_CD_SENHA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_CD_SENHA = ' || CHR(39) || pFAT_CCI_CD_SENHA || CHR(39); END IF;
IF pCAD_MPF_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_MPF_ID = ' || pCAD_MPF_ID; END IF;
IF pCAD_APM_ID_MATMED IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_APM_ID_MATMED = ' || pCAD_APM_ID_MATMED; END IF;
IF pFAT_CCI_VL_MATMED_FABRICA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_VL_MATMED_FABRICA = ' || pFAT_CCI_VL_MATMED_FABRICA; END IF;
IF pATD_ATE_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_ATE_ID = ' || pATD_ATE_ID; END IF;
IF pCAD_UMC_CD_MEDIDA_CONSUMO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_UMC_CD_MEDIDA_CONSUMO = ' || CHR(39) || pCAD_UMC_CD_MEDIDA_CONSUMO || CHR(39); END IF;
IF pCAD_NFM_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_NFM_ID = ' || pCAD_NFM_ID; END IF;
IF pASS_USC_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ASS_USC_ID = ' || pASS_USC_ID; END IF;
IF pCAD_MAA_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_MAA_ID = ' || pCAD_MAA_ID; END IF;
IF pCAD_PAC_ID_PACIENTE IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PAC_ID_PACIENTE = ' || pCAD_PAC_ID_PACIENTE; END IF;
IF pFAT_CCI_TP_CREDENCIA_PROF IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_TP_CREDENCIA_PROF = ' || CHR(39) || pFAT_CCI_TP_CREDENCIA_PROF || CHR(39); END IF;
IF pFAT_CCI_CD_CLINICA_PROF IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_CD_CLINICA_PROF = ' || pFAT_CCI_CD_CLINICA_PROF; END IF;
IF pATS_APL_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATS_APL_ID = ' || pATS_APL_ID; END IF;
IF pFAT_CCI_FL_EQUIPE_DIFERENTE IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_FL_EQUIPE_DIFERENTE = ' || CHR(39) || pFAT_CCI_FL_EQUIPE_DIFERENTE || CHR(39); END IF;
IF pFAT_CCI_PC_ACOMODACAO_HM IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_PC_ACOMODACAO_HM = ' || pFAT_CCI_PC_ACOMODACAO_HM; END IF;
IF pFAT_CCI_ID_PRINCIPAL IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_ID_PRINCIPAL = ' || pFAT_CCI_ID_PRINCIPAL; END IF;
IF pFAT_CCI_FL_PACOTE IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_FL_PACOTE = ' || CHR(39) || pFAT_CCI_FL_PACOTE || CHR(39); END IF;
IF pFAT_CCI_VL_ACRESCIMO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_VL_ACRESCIMO = ' || pFAT_CCI_VL_ACRESCIMO; END IF;
IF pFAT_CCI_VL_DESCONTO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_VL_DESCONTO = ' || pFAT_CCI_VL_DESCONTO; END IF;
IF pCAD_PRD_ID_COBRADO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PRD_ID_COBRADO = ' || pCAD_PRD_ID_COBRADO; END IF;
IF pFAT_CCI_PC_TABELA_DESCONTO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_PC_TABELA_DESCONTO = ' || pFAT_CCI_PC_TABELA_DESCONTO; END IF;
IF pFAT_CCI_VL_PRE_CALCULADO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_VL_PRE_CALCULADO = ' || pFAT_CCI_VL_PRE_CALCULADO; END IF;
IF pCAD_CEC_ID_CCUSTO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CEC_ID_CCUSTO = ' || pCAD_CEC_ID_CCUSTO; END IF;
IF pCAD_CAC_ID_CLASSCONTABIL IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CAC_ID_CLASSCONTABIL = ' || pCAD_CAC_ID_CLASSCONTABIL; END IF;
IF pFAT_CCI_FL_KITPRA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_FL_KITPRA = ' || CHR(39) || pFAT_CCI_FL_KITPRA || CHR(39); END IF;
IF pFAT_CCI_QT_CONS_AUD IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_QT_CONS_AUD = ' || pFAT_CCI_QT_CONS_AUD; END IF;
IF pFAT_CCI_QT_CONS_ANT IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_QT_CONS_ANT = ' || pFAT_CCI_QT_CONS_ANT; END IF;
IF pFAT_CCI_VL_UNITARIO_ANT IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_VL_UNITARIO_ANT = ' || pFAT_CCI_VL_UNITARIO_ANT; END IF;
IF pFAT_CCI_VL_UNITARIO_AUD IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_VL_UNITARIO_AUD = ' || pFAT_CCI_VL_UNITARIO_AUD; END IF;
IF pFAT_CCI_MES_FECHAMENTO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_MES_FECHAMENTO = ' || pFAT_CCI_MES_FECHAMENTO; END IF;
IF pFAT_CCI_ANO_FECHAMENTO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_ANO_FECHAMENTO = ' || pFAT_CCI_ANO_FECHAMENTO; END IF;
IF pSEG_USU_ID_USUARIO_CRIACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_ID_USUARIO_CRIACAO = ' || pSEG_USU_ID_USUARIO_CRIACAO; END IF;
IF pFAT_CCI_DT_CRIACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_DT_CRIACAO = ' || CHR(39) || pFAT_CCI_DT_CRIACAO || CHR(39); END IF;
IF pFAT_CCI_FL_IMPORTADO_REPASSE IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_FL_IMPORTADO_REPASSE = ' || CHR(39) || pFAT_CCI_FL_IMPORTADO_REPASSE || CHR(39); END IF;
IF pCAD_UNI_ID_UNIDADE IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_UNI_ID_UNIDADE = ' || pCAD_UNI_ID_UNIDADE; END IF;
IF pCAD_LAT_ID_LOCAL_ATENDIMENTO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_LAT_ID_LOCAL_ATENDIMENTO = ' || pCAD_LAT_ID_LOCAL_ATENDIMENTO; END IF;
IF pATD_ATE_TP_PACIENTE IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_ATE_TP_PACIENTE = ' || CHR(39) || pATD_ATE_TP_PACIENTE || CHR(39); END IF;
IF pCAD_CNV_ID_CONVENIO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CNV_ID_CONVENIO = ' || pCAD_CNV_ID_CONVENIO; END IF;
IF pCAD_CLC_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CLC_ID = ' || pCAD_CLC_ID; END IF;
IF pCAD_CPR_TP_CREDENCIA_PROF IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CPR_TP_CREDENCIA_PROF = ' || CHR(39) || pCAD_CPR_TP_CREDENCIA_PROF || CHR(39); END IF;
IF pFAT_CCI_PC_REPASSE IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_PC_REPASSE = ' || CHR(39) || pFAT_CCI_PC_REPASSE || CHR(39); END IF;
IF pFAT_CCI_PC_MED_RESTRITO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCI_PC_MED_RESTRITO = ' || CHR(39) || pFAT_CCI_PC_MED_RESTRITO || CHR(39); END IF;
   V_SELECT := '
SELECT  
       FAT_CCI_ID,
       FAT_MCC_ID,
       FAT_CCP_ID,
       FAT_COC_ID,
       CAD_TAP_TP_ATRIBUTO,
       CAD_PRD_ID,
       CAD_TIH_TP_INDICE_HOSP,
       FAT_CCI_QT_INDICE,
       FAT_CCI_VL_INDICE,
       FAT_CCI_VL_PRODUTO,
       FAT_CCI_VL_UNITARIO,
       FAT_CCI_DT_INICIO_CONSUMO,
       FAT_CCI_HR_INICIO_CONSUMO,
       FAT_CCI_DT_FIM_CONSUMO,
       FAT_CCI_HR_FIM_CONSUMO,
       FAT_CCI_VL_FATURADO,
       FAT_CCI_QT_CONSUMO,
       FAT_CCI_PC_ACRESCIMO,
       FAT_CCI_PC_DESCONTO,
       FAT_CCI_TP_DESTINO_ITEM,
       CAD_PRO_ID_PROFISSIONAL,
       TIS_GPP_CD_GRAU_PART_PROF,
       FAT_CCI_PC_GRAU_PART_PROF,
       TIS_TVA_CD_VIAACESSO,
       TIS_TTP_CD_TPTECNICA,
       FAT_CCI_FL_SIMULTANEA,
       FAT_CCI_FL_BILATERAL,
       FAT_CCI_VL_CUSTOMEDIO,
       FAT_CCI_FL_FRACIONADO,
       FAT_CCI_QT_FRACIONADA,
       FAT_CCI_PC_DOPPLER,
       TIS_CPR_CD_CONSELHOPROF,
       CAD_PSO_CD_CONSELHO,
       CAD_PSO_SG_UF_CONSELHO,
       FAT_FL_PROCED_PRINCIPAL,
       FAT_FL_PENDENTE_AUTORIZA,
       FAT_CCI_FL_UTILIZAVIDEO,
       FAT_CCI_FL_STATUS,
       FAT_CCI_TP_PORTEANESTESICO,
       FAT_CCI_VL_PORTEANESTESICO,
       SEG_USU_ID_USUARIO,
       FAT_CCI_DT_ULTIMA_ATUALIZACAO,
       FAT_CCI_QT_M2FILME,
       FAT_CCI_VL_M2FILME,
       FAT_CCI_PC_TABELA_ACRESCIMO,
       FAT_CCI_VL_CALCULADO,
       FAT_CCI_PC_HORARIO,
       FAT_CCI_CD_GUIA,
       FAT_CCI_CD_SENHA,
       CAD_MPF_ID,
       CAD_APM_ID_MATMED,
       FAT_CCI_VL_MATMED_FABRICA,
       ATD_ATE_ID,
       CAD_UMC_CD_MEDIDA_CONSUMO,
       CAD_NFM_ID,
       ASS_USC_ID,
       CAD_MAA_ID,
       CAD_PAC_ID_PACIENTE,
       FAT_CCI_TP_CREDENCIA_PROF,
       FAT_CCI_CD_CLINICA_PROF,
       ATS_APL_ID,
       FAT_CCI_FL_EQUIPE_DIFERENTE,
       FAT_CCI_PC_ACOMODACAO_HM,
       FAT_CCI_ID_PRINCIPAL,
       FAT_CCI_FL_PACOTE,
       FAT_CCI_VL_ACRESCIMO,
       FAT_CCI_VL_DESCONTO,
       CAD_PRD_ID_COBRADO,
       FAT_CCI_PC_TABELA_DESCONTO,
       FAT_CCI_VL_PRE_CALCULADO,
       CAD_CEC_ID_CCUSTO,
       CAD_CAC_ID_CLASSCONTABIL,
       FAT_CCI_FL_KITPRA,
       FAT_CCI_QT_CONS_AUD,
       FAT_CCI_QT_CONS_ANT,
       FAT_CCI_VL_UNITARIO_ANT,
       FAT_CCI_VL_UNITARIO_AUD,
       FAT_CCI_MES_FECHAMENTO,
       FAT_CCI_ANO_FECHAMENTO,
       SEG_USU_ID_USUARIO_CRIACAO,
       FAT_CCI_DT_CRIACAO,
       FAT_CCI_FL_IMPORTADO_REPASSE,
       CAD_UNI_ID_UNIDADE,
       CAD_LAT_ID_LOCAL_ATENDIMENTO,
       ATD_ATE_TP_PACIENTE,
       CAD_CNV_ID_CONVENIO,
       CAD_CLC_ID,
       CAD_CPR_TP_CREDENCIA_PROF,
       null FAT_CCI_FL_FATURADO,
       FAT_CCI_PC_REPASSE,
       FAT_CCI_NR_AUT_FUNC_EMP_NF,
       TIS_CBO_CD_CBOS,
       FAT_CCI_PC_MED_RESTRITO
FROM TB_FAT_CCI_CONTA_CONSU_ITEM
WHERE null is null  '    ;
OPEN v_cursor FOR
  V_SELECT || V_WHERE ;
  io_cursor := v_cursor;
end PRC_FAT_CCI_CONTA_CONSU_ITEM_L;
 
