CREATE OR REPLACE PROCEDURE "PRC_CAD_PRD_PRODUTO_DS_S"
(
  pCAD_PRD_DS_DESCRICAO IN TB_CAD_PRD_PRODUTO.CAD_PRD_DS_DESCRICAO%TYPE,
  pAUX_EPP_CD_ESPECPROC IN TB_CAD_PRD_PRODUTO.AUX_EPP_CD_ESPECPROC%TYPE,
  io_cursor OUT PKG_CURSOR.t_cursor
)
IS
v_cursor PKG_CURSOR.t_cursor;
BEGIN
OPEN v_cursor FOR
    SELECT
          PRD.CAD_PRD_ID, 
          PRD.CAD_PRD_CD_CODIGO,
          PRD.CAD_PRD_CD_GPREXA,
          PRD.CAD_PRD_DS_DESCRICAO,
          PRD.SEG_USU_ID_USUARIO,
          PRD.CAD_PRD_DT_ULTIMA_ATUALIZACAO,
          PRD.CAD_PRD_FL_STATUS,
          PRD.CAD_PRD_NM_MNEMONICO,
          PRD.AUX_EPP_CD_ESPECPROC,
          PRD.AUX_GPC_CD_GRUPOPROC,
          PRD.CAD_PRD_DS_RESUMIDA,
          PRD.CAD_PRD_TP_PRODUTO,
          PRD.TIS_MED_CD_TABELAMEDICA,
          PRD.CAD_PRD_FL_UTILIZAAGEND_OK
    FROM
          TB_CAD_PRD_PRODUTO PRD
    WHERE 
    PRD.AUX_EPP_CD_ESPECPROC = pAUX_EPP_CD_ESPECPROC 
    AND PRD.CAD_PRD_DS_DESCRICAO like UPPER(pCAD_PRD_DS_DESCRICAO)
    ORDER BY PRD.CAD_PRD_DS_DESCRICAO;
    
 io_cursor := v_cursor;
END PRC_CAD_PRD_PRODUTO_DS_S;