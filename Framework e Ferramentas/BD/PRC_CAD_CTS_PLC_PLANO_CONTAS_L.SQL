--PRC_CAD_CTS_PLC_PLANO_CONTAS_L
create or replace procedure PRC_CAD_CTS_PLC_PLANO_CONTAS_L
(
     pCAD_CTS_PLC_ID IN TB_CAD_CTS_PLC_PLANO_CONTAS.CAD_CTS_PLC_ID%TYPE DEFAULT NULL,
     pCAD_CTS_CD_COLIGADA IN TB_CAD_CTS_PLC_PLANO_CONTAS.CAD_CTS_CD_COLIGADA%TYPE DEFAULT NULL,
     pCAD_CTS_CD_CONTA IN TB_CAD_CTS_PLC_PLANO_CONTAS.CAD_CTS_CD_CONTA%TYPE DEFAULT NULL,
     pCAD_CTS_CD_NIVEL IN TB_CAD_CTS_PLC_PLANO_CONTAS.CAD_CTS_CD_NIVEL%TYPE DEFAULT NULL,
     pCAD_CTS_DS_DESCRICAO IN TB_CAD_CTS_PLC_PLANO_CONTAS.CAD_CTS_DS_DESCRICAO%TYPE DEFAULT NULL,
     pCAD_CTS_CD_NATUREZA IN TB_CAD_CTS_PLC_PLANO_CONTAS.CAD_CTS_CD_NATUREZA%TYPE DEFAULT NULL,
     pCAD_CTS_CD_MASCARA IN TB_CAD_CTS_PLC_PLANO_CONTAS.CAD_CTS_CD_MASCARA%TYPE DEFAULT NULL,
     pCAD_CTS_PLC_REFER_ID IN TB_CAD_CTS_PLC_PLANO_CONTAS.CAD_CTS_PLC_REFER_ID%TYPE DEFAULT NULL,
     pCAD_CTS_FL_STATUS IN TB_CAD_CTS_PLC_PLANO_CONTAS.CAD_CTS_FL_STATUS%TYPE DEFAULT NULL,
     pCAD_CTS_DT_INATIVACAO IN TB_CAD_CTS_PLC_PLANO_CONTAS.CAD_CTS_DT_INATIVACAO%TYPE DEFAULT NULL,
     pSEG_USU_ID_INCLUSAO IN TB_CAD_CTS_PLC_PLANO_CONTAS.SEG_USU_ID_INCLUSAO%TYPE DEFAULT NULL,
     pCAD_CTS_DT_INCLUSAO IN TB_CAD_CTS_PLC_PLANO_CONTAS.CAD_CTS_DT_INCLUSAO%TYPE DEFAULT NULL,
     pSEG_USU_ID_ALTERACAO IN TB_CAD_CTS_PLC_PLANO_CONTAS.SEG_USU_ID_ALTERACAO%TYPE DEFAULT NULL,
     pCAD_CTS_DT_ALTERACAO IN TB_CAD_CTS_PLC_PLANO_CONTAS.CAD_CTS_DT_ALTERACAO%TYPE DEFAULT NULL,
     pCAD_TAP_TP_ATRIBUTO IN TB_CAD_CTS_PLC_PLANO_CONTAS.CAD_TAP_TP_ATRIBUTO%TYPE DEFAULT NULL,
     pCAD_CTS_FL_RATEIO_DIRETO IN TB_CAD_CTS_PLC_PLANO_CONTAS.CAD_CTS_FL_RATEIO_DIRETO%TYPE DEFAULT NULL,
     pCAD_CTS_OBSERVACAO IN TB_CAD_CTS_PLC_PLANO_CONTAS.CAD_CTS_OBSERVACAO%TYPE DEFAULT NULL,
     io_cursor OUT PKG_CURSOR.t_cursor
)
is
/********************************************************************
*    Procedure: PRC_CAD_CTS_PLC_PLANO_CONTAS_L
*
*    Data Criacao: 	data da  cria??o   Por: Nome do Analista
*    Data Alteracao:	data da altera??o  Por: Nome do Analista
*
*    Funcao: Descri??o da funcionalidade da Stored Procedure
*
*******************************************************************/
 v_cursor PKG_CURSOR.t_cursor;
  V_WHERE  varchar2(5000);
  V_SELECT varchar2(5000);
  V_ORDER  varchar2(5000);
begin
  V_WHERE := NULL;

  IF pCAD_CTS_PLC_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CTS_PLC_ID = ' || pCAD_CTS_PLC_ID; END IF;

  IF pCAD_CTS_CD_COLIGADA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CTS_CD_COLIGADA = ' || pCAD_CTS_CD_COLIGADA; END IF;

  IF pCAD_CTS_CD_CONTA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CTS_CD_CONTA LIKE ' || CHR(39) || pCAD_CTS_CD_CONTA || CHR(39); END IF;

  IF pCAD_CTS_CD_NIVEL IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CTS_CD_NIVEL = ' || pCAD_CTS_CD_NIVEL; END IF;

  IF pCAD_CTS_DS_DESCRICAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CTS_DS_DESCRICAO LIKE ' || CHR(39) || pCAD_CTS_DS_DESCRICAO || CHR(39); END IF;

  IF pCAD_CTS_CD_NATUREZA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CTS_CD_NATUREZA = ' || pCAD_CTS_CD_NATUREZA; END IF;

  IF pCAD_CTS_CD_MASCARA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CTS_CD_MASCARA LIKE ' || CHR(39) || pCAD_CTS_CD_MASCARA || CHR(39) ; END IF;

  IF pCAD_CTS_PLC_REFER_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CTS_PLC_REFER_ID = ' || pCAD_CTS_PLC_REFER_ID; END IF;

  IF pCAD_CTS_FL_STATUS IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CTS_FL_STATUS LIKE ' || CHR(39) || pCAD_CTS_FL_STATUS || CHR(39); END IF;

  IF pCAD_CTS_DT_INATIVACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CTS_DT_INATIVACAO = ' || pCAD_CTS_DT_INATIVACAO; END IF;

  IF pSEG_USU_ID_INCLUSAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_ID_INCLUSAO = ' || pSEG_USU_ID_INCLUSAO; END IF;

  IF pCAD_CTS_DT_INCLUSAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CTS_DT_INCLUSAO = ' || pCAD_CTS_DT_INCLUSAO; END IF;

  IF pSEG_USU_ID_ALTERACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_ID_ALTERACAO = ' || pSEG_USU_ID_ALTERACAO; END IF;

  IF pCAD_CTS_DT_ALTERACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CTS_DT_ALTERACAO = ' || pCAD_CTS_DT_ALTERACAO; END IF;

  IF pCAD_TAP_TP_ATRIBUTO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_TAP_TP_ATRIBUTO = ' || pCAD_TAP_TP_ATRIBUTO; END IF;
  
  IF pCAD_CTS_FL_RATEIO_DIRETO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CTS_FL_RATEIO_DIRETO LIKE ' || CHR(39) || pCAD_CTS_FL_RATEIO_DIRETO || CHR(39); END IF;
    
  IF pCAD_CTS_OBSERVACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CTS_OBSERVACA = ' || pCAD_CTS_OBSERVACAO; END IF;

  V_SELECT := '
            SELECT
                   CAD_CTS_PLC_ID,
                   CAD_CTS_CD_COLIGADA,
                   CAD_CTS_CD_CONTA,
                   CAD_CTS_CD_NIVEL,
                   CAD_CTS_DS_DESCRICAO,
                   CAD_CTS_CD_NATUREZA,
                   CAD_CTS_CD_MASCARA,
                   CAD_CTS_PLC_REFER_ID,
                   CAD_CTS_FL_STATUS,
                   CAD_CTS_DT_INATIVACAO,
                   SEG_USU_ID_INCLUSAO,
                   CAD_CTS_DT_INCLUSAO,
                   SEG_USU_ID_ALTERACAO,
                   CAD_CTS_DT_ALTERACAO,
                   CAD_TAP_TP_ATRIBUTO,
                   CAD_CTS_FL_RATEIO_DIRETO,
                   CAD_CTS_OBSERVACAO 
              FROM TB_CAD_CTS_PLC_PLANO_CONTAS
               WHERE null is null  ' ;

  V_ORDER := ' ORDER BY CAD_CTS_CD_CONTA';

  OPEN v_cursor FOR
    V_SELECT || V_WHERE || V_ORDER;

  io_cursor := v_cursor;
end PRC_CAD_CTS_PLC_PLANO_CONTAS_L;
