create or replace procedure PRC_ASS_CTS_PLC_CCR_CONTAS_L
(
     pASS_CTS_CCR_ID IN TB_ASS_CTS_PLC_CCR_CONTAS.ASS_CTS_CCR_ID%type DEFAULT NULL,
     pCAD_CTS_PLC_ID IN TB_ASS_CTS_PLC_CCR_CONTAS.CAD_CTS_PLC_ID%type DEFAULT NULL,
     pCAD_CCR_ID IN TB_ASS_CTS_PLC_CCR_CONTAS.CAD_CCR_ID%type DEFAULT NULL,
     pASS_CTS_PLC_CCR_FL_STATUS IN TB_ASS_CTS_PLC_CCR_CONTAS.ASS_CTS_PLC_CCR_FL_STATUS%type DEFAULT NULL,
     pSEG_USU_ID_INCLUSAO IN TB_ASS_CTS_PLC_CCR_CONTAS.SEG_USU_ID_INCLUSAO%type DEFAULT NULL,
     pASS_CTS_PLC_CCR_DT_INCLUSAO IN TB_ASS_CTS_PLC_CCR_CONTAS.ASS_CTS_PLC_CCR_DT_INCLUSAO%type DEFAULT NULL,
     pSEG_USU_ID_ALTERACAO IN TB_ASS_CTS_PLC_CCR_CONTAS.SEG_USU_ID_ALTERACAO%type DEFAULT NULL,
     pASS_CTS_PLC_CCR_DT_ALTERACAO IN TB_ASS_CTS_PLC_CCR_CONTAS.ASS_CTS_PLC_CCR_DT_ALTERACAO%type DEFAULT NULL,
     pASS_TIPO_CONTA IN TB_ASS_CTS_PLC_CCR_CONTAS.ASS_TIPO_CONTA%type DEFAULT NULL,
     pCAD_CEC_CD_GRUPOCCUSTO IN TB_ASS_CTS_PLC_CCR_CONTAS.CAD_CEC_CD_GRUPOCCUSTO%type DEFAULT NULL,
     pCAD_CTS_PLC_ID_PARA IN TB_ASS_CTS_PLC_CCR_CONTAS.CAD_CTS_PLC_ID_PARA%type DEFAULT NULL,
     pCAD_CEC_ID_CCUSTO IN TB_ASS_CTS_PLC_CCR_CONTAS.CAD_CEC_ID_CCUSTO%type DEFAULT NULL,
     pCAD_CLC_CT_EMPRESA IN TB_ASS_CTS_PLC_CCR_CONTAS.CAD_CLC_CT_EMPRESA%type DEFAULT NULL,
     pCAD_CCR_ID_GRUPO IN TB_ASS_CTS_PLC_CCR_CONTAS.CAD_CCR_ID_GRUPO%type DEFAULT NULL,
     pCAD_UNI_ID_UNIDADE IN TB_ASS_CTS_PLC_CCR_CONTAS.CAD_UNI_ID_UNIDADE%type DEFAULT NULL,
     pCAD_CTS_PLC_CCR_DS_OBSERVACAO IN TB_ASS_CTS_PLC_CCR_CONTAS.CAD_CTS_PLC_CCR_DS_OBSERVACAO%type DEFAULT NULL,
     io_cursor OUT PKG_CURSOR.t_cursor
)
is
/********************************************************************
*    Procedure: PRC_ASS_CTS_PLC_CCR_CONTAS_PRC_L
*
*    Data Criacao: 	data da  criação   Por: Nome do Analista
*    Data Alteracao:	data da alteração  Por: Nome do Analista
*
*    Funcao: Descrição da funcionalidade da Stored Procedure
*
*******************************************************************/
 v_cursor PKG_CURSOR.t_cursor;
  V_WHERE  varchar2(5000);
  V_SELECT  varchar2(5000);
begin
  V_WHERE := NULL;
IF pASS_CTS_CCR_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ASS_CTS_CCR_ID = ' || pASS_CTS_CCR_ID; END IF;
IF pCAD_CTS_PLC_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CTS_PLC_ID = ' || pCAD_CTS_PLC_ID; END IF;
IF pCAD_CCR_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CCR_ID = ' || pCAD_CCR_ID; END IF;
IF pASS_CTS_PLC_CCR_FL_STATUS IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ASS_CTS_PLC_CCR_FL_STATUS = ' || CHR(39) || pASS_CTS_PLC_CCR_FL_STATUS || CHR(39); END IF;
IF pSEG_USU_ID_INCLUSAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_ID_INCLUSAO = ' || pSEG_USU_ID_INCLUSAO; END IF;
IF pASS_CTS_PLC_CCR_DT_INCLUSAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ASS_CTS_PLC_CCR_DT_INCLUSAO = ' || CHR(39) || pASS_CTS_PLC_CCR_DT_INCLUSAO || CHR(39); END IF;
IF pSEG_USU_ID_ALTERACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_ID_ALTERACAO = ' || pSEG_USU_ID_ALTERACAO; END IF;
IF pASS_CTS_PLC_CCR_DT_ALTERACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ASS_CTS_PLC_CCR_DT_ALTERACAO = ' || CHR(39) || pASS_CTS_PLC_CCR_DT_ALTERACAO || CHR(39); END IF;
IF pASS_TIPO_CONTA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ASS_TIPO_CONTA = ' || CHR(39) || pASS_TIPO_CONTA || CHR(39); END IF;
IF pCAD_CEC_CD_GRUPOCCUSTO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CEC_CD_GRUPOCCUSTO = ' || CHR(39) || pCAD_CEC_CD_GRUPOCCUSTO || CHR(39); END IF;
IF pCAD_CTS_PLC_ID_PARA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CTS_PLC_ID_PARA = ' || pCAD_CTS_PLC_ID_PARA; END IF;
IF pCAD_CEC_ID_CCUSTO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CEC_ID_CCUSTO = ' || pCAD_CEC_ID_CCUSTO; END IF;
IF pCAD_CLC_CT_EMPRESA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CLC_CT_EMPRESA = ' || CHR(39) || pCAD_CLC_CT_EMPRESA || CHR(39); END IF;
IF pCAD_CCR_ID_GRUPO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CCR_ID_GRUPO = ' || pCAD_CCR_ID_GRUPO; END IF;
IF pCAD_UNI_ID_UNIDADE IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_UNI_ID_UNIDADE = ' || pCAD_UNI_ID_UNIDADE; END IF;
IF pCAD_CTS_PLC_CCR_DS_OBSERVACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_CTS_PLC_CCR_DS_OBSERVACAO = ' || CHR(39) || pCAD_CTS_PLC_CCR_DS_OBSERVACAO || CHR(39); END IF;

   V_SELECT := '
SELECT	
       ASS_CTS_CCR_ID,
       CAD_CTS_PLC_ID,
       CAD_CCR_ID,
       ASS_CTS_PLC_CCR_FL_STATUS,
       SEG_USU_ID_INCLUSAO,
       ASS_CTS_PLC_CCR_DT_INCLUSAO,
       SEG_USU_ID_ALTERACAO,
       ASS_CTS_PLC_CCR_DT_ALTERACAO,
       ASS_TIPO_CONTA,
       CAD_CEC_CD_GRUPOCCUSTO,
       CAD_CTS_PLC_ID_PARA,
       CAD_CEC_ID_CCUSTO,
       CAD_CLC_CT_EMPRESA,
       CAD_CCR_ID_GRUPO,
       CAD_UNI_ID_UNIDADE,
       CAD_CTS_PLC_CCR_DS_OBSERVACAO
FROM TB_ASS_CTS_PLC_CCR_CONTAS
WHERE null is null  '    ;

OPEN v_cursor FOR
  V_SELECT || V_WHERE ;
  io_cursor := v_cursor;
end PRC_ASS_CTS_PLC_CCR_CONTAS_L;
