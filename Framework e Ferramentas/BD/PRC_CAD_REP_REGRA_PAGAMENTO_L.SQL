create or replace procedure PRC_CAD_REP_REGRA_PAGAMENTO_L
(
     pCAD_REP_ID IN TB_CAD_REP_REGRA_PAGAMENTO.CAD_REP_ID%type DEFAULT NULL,
     pCAD_REP_NM_REGRA IN TB_CAD_REP_REGRA_PAGAMENTO.CAD_REP_NM_REGRA%type DEFAULT NULL,
     pCAD_PRD_ID IN TB_CAD_REP_REGRA_PAGAMENTO.CAD_PRD_ID%type DEFAULT NULL,
     pTIS_MED_CD_TABELAMEDICA IN TB_CAD_REP_REGRA_PAGAMENTO.TIS_MED_CD_TABELAMEDICA%type DEFAULT NULL,
     pAUX_EPP_CD_ESPECPROC IN TB_CAD_REP_REGRA_PAGAMENTO.AUX_EPP_CD_ESPECPROC%type DEFAULT NULL,
     pAUX_GPC_CD_GRUPOPROC IN TB_CAD_REP_REGRA_PAGAMENTO.AUX_GPC_CD_GRUPOPROC%type DEFAULT NULL,
     pCAD_REP_VL_PAGTO IN TB_CAD_REP_REGRA_PAGAMENTO.CAD_REP_VL_PAGTO%type DEFAULT NULL,
     pCAD_REP_QT_INDICE IN TB_CAD_REP_REGRA_PAGAMENTO.CAD_REP_QT_INDICE%type DEFAULT NULL,
     pCAD_REP_PC_REPASSE IN TB_CAD_REP_REGRA_PAGAMENTO.CAD_REP_PC_REPASSE%type DEFAULT NULL,
     pCAD_REP_TP_BASE_CALCULO IN TB_CAD_REP_REGRA_PAGAMENTO.CAD_REP_TP_BASE_CALCULO%type DEFAULT NULL,
     pCAD_REP_VL_PAGTO_FIXO IN TB_CAD_REP_REGRA_PAGAMENTO.CAD_REP_VL_PAGTO_FIXO%type DEFAULT NULL,
     pCAD_REP_DT_INICIO_VIGENCIA IN TB_CAD_REP_REGRA_PAGAMENTO.CAD_REP_DT_INICIO_VIGENCIA%type DEFAULT NULL,
     pCAD_REP_DT_FIM_VIGENCIA IN TB_CAD_REP_REGRA_PAGAMENTO.CAD_REP_DT_FIM_VIGENCIA%type DEFAULT NULL,
     pCAD_REP_FL_PAGO_HORA IN TB_CAD_REP_REGRA_PAGAMENTO.CAD_REP_FL_PAGO_HORA%type DEFAULT NULL,
     pCAD_REP_FL_PAGO_PLANTAO IN TB_CAD_REP_REGRA_PAGAMENTO.CAD_REP_FL_PAGO_PLANTAO%type DEFAULT NULL,
     pSEG_USU_ID_USUARIO IN TB_CAD_REP_REGRA_PAGAMENTO.SEG_USU_ID_USUARIO%type DEFAULT NULL,
     pCAD_REP_DT_ULTIMA_ATUALIZACAO IN TB_CAD_REP_REGRA_PAGAMENTO.CAD_REP_DT_ULTIMA_ATUALIZACAO%type DEFAULT NULL,
     pCAD_REP_DT_CRIACAO IN TB_CAD_REP_REGRA_PAGAMENTO.CAD_REP_DT_CRIACAO%type DEFAULT NULL,
     pSEG_USU_ID_USUARIO_CRIACAO IN TB_CAD_REP_REGRA_PAGAMENTO.SEG_USU_ID_USUARIO_CRIACAO%type DEFAULT NULL,
     pCAD_REP_VL_PAGTO_EXTRA IN TB_CAD_REP_REGRA_PAGAMENTO.CAD_REP_VL_PAGTO_EXTRA%TYPE DEFAULT NULL,
     pCAD_REP_CD_TIPO_EXTRA IN TB_CAD_REP_REGRA_PAGAMENTO.CAD_REP_CD_TIPO_EXTRA%type DEFAULT NULL,
     pCAD_REP_PC_RETENCAO IN TB_CAD_REP_REGRA_PAGAMENTO.CAD_REP_PC_RETENCAO%type DEFAULT NULL,
     pCAD_REP_VL_INDICE_HOSP IN TB_CAD_REP_REGRA_PAGAMENTO.CAD_REP_VL_INDICE_HOSP%type DEFAULT NULL,
     pCAD_REP_FL_MENSAL IN TB_CAD_REP_REGRA_PAGAMENTO.CAD_REP_FL_MENSAL%type DEFAULT NULL,
     pCAD_REP_FL_EXTRA_SAB IN TB_CAD_REP_REGRA_PAGAMENTO.CAD_REP_FL_EXTRA_SAB%type DEFAULT NULL,
     pCAD_REP_FL_EXTRA_DOM IN TB_CAD_REP_REGRA_PAGAMENTO.CAD_REP_FL_EXTRA_DOM%type DEFAULT NULL,
     pCAD_REP_FL_EXTRA_FER IN TB_CAD_REP_REGRA_PAGAMENTO.CAD_REP_FL_EXTRA_FER%type DEFAULT NULL,
     pTIS_TAC_CD_TIPO_ACOMOD_AUT IN TB_CAD_REP_REGRA_PAGAMENTO.TIS_TAC_CD_TIPO_ACOMOD_AUT%type DEFAULT NULL,
     pCAD_REP_DS_COMPLEMENTAR IN TB_CAD_REP_REGRA_PAGAMENTO.CAD_REP_DS_COMPLEMENTAR%type default null,
     io_cursor OUT PKG_CURSOR.t_cursor
)
is
/********************************************************************
*    Procedure: PRC_CAD_REP_REGRA_PAGAMENTO_L
*
*    Data Criacao: 	data da  criaÃ§Ã£o   Por: Nome do Analista
*    Data Alteracao:	data da alteraÃ§Ã£o  Por: Nome do Analista
*
*    Funcao: DescriÃ§Ã£o da funcionalidade da Stored Procedure
*
*******************************************************************/
 v_cursor PKG_CURSOR.t_cursor;
  V_WHERE  varchar2(5000);
  V_SELECT  varchar2(5000);
begin
  V_WHERE := NULL;
  IF pCAD_REP_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_REP_ID = ' || pCAD_REP_ID; END IF;
  IF pCAD_REP_NM_REGRA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_REP_NM_REGRA = ' || CHR(39) || pCAD_REP_NM_REGRA || CHR(39); END IF;
  IF pCAD_PRD_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PRD_ID = ' || pCAD_PRD_ID; END IF;
  IF pTIS_MED_CD_TABELAMEDICA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND TIS_MED_CD_TABELAMEDICA = ' || CHR(39) || pTIS_MED_CD_TABELAMEDICA || CHR(39); END IF;
  IF pAUX_EPP_CD_ESPECPROC IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND AUX_EPP_CD_ESPECPROC = ' || CHR(39) || pAUX_EPP_CD_ESPECPROC || CHR(39); END IF;
  IF pAUX_GPC_CD_GRUPOPROC IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND AUX_GPC_CD_GRUPOPROC = ' || CHR(39) || pAUX_GPC_CD_GRUPOPROC || CHR(39); END IF;
  IF pCAD_REP_VL_PAGTO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_REP_VL_PAGTO = ' || CHR(39) || pCAD_REP_VL_PAGTO || CHR(39); END IF;
  IF pCAD_REP_QT_INDICE IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_REP_QT_INDICE = ' || pCAD_REP_QT_INDICE; END IF;
  IF pCAD_REP_PC_REPASSE IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_REP_PC_REPASSE = ' || pCAD_REP_PC_REPASSE; END IF;
  IF pCAD_REP_TP_BASE_CALCULO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_REP_TP_BASE_CALCULO = ' || CHR(39) || pCAD_REP_TP_BASE_CALCULO || CHR(39); END IF;
  IF pCAD_REP_VL_PAGTO_FIXO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_REP_VL_PAGTO_FIXO = ' || pCAD_REP_VL_PAGTO_FIXO; END IF;
  IF pCAD_REP_DT_INICIO_VIGENCIA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_REP_DT_INICIO_VIGENCIA = ' || CHR(39) || pCAD_REP_DT_INICIO_VIGENCIA || CHR(39); END IF;
  IF pCAD_REP_DT_FIM_VIGENCIA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_REP_DT_FIM_VIGENCIA = ' || CHR(39) || pCAD_REP_DT_FIM_VIGENCIA || CHR(39); END IF;
  IF pCAD_REP_FL_PAGO_HORA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_REP_FL_PAGO_HORA = ' || CHR(39) || pCAD_REP_FL_PAGO_HORA || CHR(39); END IF;
  IF pCAD_REP_FL_PAGO_PLANTAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_REP_FL_PAGO_PLANTAO = ' || CHR(39) || pCAD_REP_FL_PAGO_PLANTAO || CHR(39); END IF;
  IF pSEG_USU_ID_USUARIO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_ID_USUARIO = ' || pSEG_USU_ID_USUARIO; END IF;
  IF pCAD_REP_DT_ULTIMA_ATUALIZACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_REP_DT_ULTIMA_ATUALIZACAO = ' || CHR(39) || pCAD_REP_DT_ULTIMA_ATUALIZACAO || CHR(39); END IF;
  IF pCAD_REP_DT_CRIACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_REP_DT_CRIACAO = ' || CHR(39) || pCAD_REP_DT_CRIACAO || CHR(39); END IF;
  IF pSEG_USU_ID_USUARIO_CRIACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_ID_USUARIO_CRIACAO = ' || pSEG_USU_ID_USUARIO_CRIACAO; END IF;
  IF pCAD_REP_VL_PAGTO_EXTRA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_REP_VL_PAGTO_EXTRA = ' || CHR(39) || pCAD_REP_VL_PAGTO_EXTRA || CHR(39); END IF;
  IF pCAD_REP_CD_TIPO_EXTRA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_REP_CD_TIPO_EXTRA = ' || CHR(39) || pCAD_REP_CD_TIPO_EXTRA || CHR(39); END IF;
  IF pCAD_REP_PC_RETENCAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_REP_PC_RETENCAO = ' || pCAD_REP_PC_RETENCAO; END IF;
  IF pCAD_REP_VL_INDICE_HOSP IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_REP_VL_INDICE_HOSP = ' || pCAD_REP_VL_INDICE_HOSP; END IF;
  IF pCAD_REP_FL_MENSAL IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_REP_FL_MENSAL = ' || CHR(39) || pCAD_REP_FL_MENSAL || CHR(39); END IF;
  IF pCAD_REP_FL_EXTRA_SAB IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_REP_FL_EXTRA_SAB = ' || CHR(39) || pCAD_REP_FL_EXTRA_SAB || CHR(39); END IF;
  IF pCAD_REP_FL_EXTRA_DOM IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_REP_FL_EXTRA_DOM = ' || CHR(39) || pCAD_REP_FL_EXTRA_DOM || CHR(39); END IF;
  IF pCAD_REP_FL_EXTRA_FER IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_REP_FL_EXTRA_FER = ' || CHR(39) || pCAD_REP_FL_EXTRA_FER || CHR(39); END IF;
  IF pTIS_TAC_CD_TIPO_ACOMOD_AUT IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND TIS_TAC_CD_TIPO_ACOMOD_AUT = ' || CHR(39) || pTIS_TAC_CD_TIPO_ACOMOD_AUT || CHR(39); END IF;
  IF pCAD_REP_DS_COMPLEMENTAR IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_REP_DS_COMPLEMENTAR = ' || CHR(39) || pCAD_REP_DS_COMPLEMENTAR || CHR(39); END IF;
  --

   V_SELECT := '
   SELECT
       CAD_REP_ID,
       CAD_REP_NM_REGRA,
       CAD_PRD_ID,
       TIS_MED_CD_TABELAMEDICA,
       AUX_EPP_CD_ESPECPROC,
       AUX_GPC_CD_GRUPOPROC,
       CAD_REP_VL_PAGTO,
       CAD_REP_VL_MINIMO,       
       CAD_REP_QT_INDICE,
       CAD_REP_PC_REPASSE,
       CAD_REP_TP_BASE_CALCULO,
       CAD_REP_VL_PAGTO_FIXO, 
       CAD_REP_DT_INICIO_VIGENCIA,
       CAD_REP_DT_FIM_VIGENCIA,
       CAD_REP_FL_PAGO_HORA,
       CAD_REP_FL_PAGO_PLANTAO,
       SEG_USU_ID_USUARIO,
       CAD_REP_DT_ULTIMA_ATUALIZACAO,
       CAD_REP_DT_CRIACAO,
       SEG_USU_ID_USUARIO_CRIACAO,
       CAD_REP_VL_PAGTO_EXTRA,
       CAD_REP_CD_TIPO_EXTRA,
       CAD_REP_PC_RETENCAO,
       CAD_REP_VL_INDICE_HOSP,
       CAD_REP_FL_MENSAL,
       CAD_REP_FL_EXTRA_SAB,
       CAD_REP_FL_EXTRA_DOM,
       CAD_REP_FL_EXTRA_FER,
       TIS_TAC_CD_TIPO_ACOMOD_AUT,
       CAD_REP_DS_COMPLEMENTAR
FROM TB_CAD_REP_REGRA_PAGAMENTO
WHERE null is null ';

OPEN v_cursor FOR
  V_SELECT || V_WHERE ;
  io_cursor := v_cursor;
end PRC_CAD_REP_REGRA_PAGAMENTO_L;
