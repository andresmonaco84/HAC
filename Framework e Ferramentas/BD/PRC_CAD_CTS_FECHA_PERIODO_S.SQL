CREATE OR REPLACE PROCEDURE PRC_CAD_CTS_FECHA_PERIODO_S(PCAD_CTS_ANO_FECHAMENTO IN TB_CAD_CTS_FECHA_PERIODO.CAD_CTS_ANO_FECHAMENTO%TYPE,
                                                        PCAD_CTS_MES_FECHAMENTO IN TB_CAD_CTS_FECHA_PERIODO.CAD_CTS_MES_FECHAMENTO%TYPE,
                                                        PCAD_CTS_STATUS         IN TB_CAD_CTS_FECHA_PERIODO.CAD_CTS_STATUS%TYPE,
                                                        IO_CURSOR               OUT PKG_CURSOR.T_CURSOR) IS
  /********************************************************************
  *    PROCEDURE: PRC_CAD_CTS_FECHA_PERIODO_S
  * 
  *    DATA CRIACAO:  DATA DA  CRIAÇÃO   POR: NOME DO ANALISTA
  *    DATA ALTERACAO:  DATA DA ALTERAÇÃO  POR: NOME DO ANALISTA
  *
  *    FUNCAO: DESCRIÇÃO DA FUNCIONALIDADE DA STORED PROCEDURE
  *
  *******************************************************************/
  V_CURSOR PKG_CURSOR.T_CURSOR;
BEGIN
  OPEN V_CURSOR FOR
    SELECT CAD_CTS_MES_FECHAMENTO,
           CAD_CTS_ANO_FECHAMENTO,
           CAD_CTS_STATUS,
           CAD_CTS_DT_ULTIMA_ATUALIZACAO,
           SEG_USU_ID_USUARIO
      FROM TB_CAD_CTS_FECHA_PERIODO
     WHERE CAD_CTS_ANO_FECHAMENTO = PCAD_CTS_ANO_FECHAMENTO
       AND CAD_CTS_MES_FECHAMENTO = PCAD_CTS_MES_FECHAMENTO
       AND CAD_CTS_STATUS = PCAD_CTS_STATUS;
  IO_CURSOR := V_CURSOR;
END PRC_CAD_CTS_FECHA_PERIODO_S;
