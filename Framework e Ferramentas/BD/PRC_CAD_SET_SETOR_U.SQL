create or replace procedure PRC_CAD_SET_SETOR_U
 (
     pCAD_SET_ID IN TB_CAD_SET_SETOR.CAD_SET_ID%type,
     pCAD_SET_CD_SETOR IN TB_CAD_SET_SETOR.CAD_SET_CD_SETOR%type default NULL,
     pCAD_SET_DS_SETOR IN TB_CAD_SET_SETOR.CAD_SET_DS_SETOR%type,
     pCAD_SET_NR_TELEFONE IN TB_CAD_SET_SETOR.CAD_SET_NR_TELEFONE%TYPE DEFAULT NULL,
     pCAD_SET_NR_RAMAL IN TB_CAD_SET_SETOR.CAD_SET_NR_RAMAL%TYPE DEFAULT NULL,
     pCAD_SET_FL_SUBSTALMOX_OK IN TB_CAD_SET_SETOR.CAD_SET_FL_SUBSTALMOX_OK%type,
     pCAD_SET_FL_ESTQPROPRIO_OK IN TB_CAD_SET_SETOR.CAD_SET_FL_ESTQPROPRIO_OK%type,
     pCAD_SET_FL_ATIVO_OK IN TB_CAD_SET_SETOR.CAD_SET_FL_ATIVO_OK%type,
     pCAD_SET_FL_GRAVAATEND_OK IN TB_CAD_SET_SETOR.CAD_SET_FL_GRAVAATEND_OK%type,
     pSEG_USU_ID_USUARIO IN TB_CAD_SET_SETOR.SEG_USU_ID_USUARIO%type,
     pCAD_SET_NR_ANDAR IN TB_CAD_SET_SETOR.CAD_SET_NR_ANDAR%type DEFAULT NULL,
     pCAD_UNI_ID_UNIDADE IN TB_CAD_SET_SETOR.CAD_UNI_ID_UNIDADE%type default NULL,
     pCAD_LAT_ID_LOCAL_ATENDIMENTO IN TB_CAD_SET_SETOR.CAD_LAT_ID_LOCAL_ATENDIMENTO%type default NULL,
     pCAD_SET_FL_PERMITEINTERN_OK  IN TB_CAD_SET_SETOR.CAD_SET_FL_PERMITEINTERN_OK%TYPE,
     pCAD_SET_FL_PREFERENC_ACS_OK IN TB_CAD_SET_SETOR.CAD_SET_FL_PREFERENC_ACS_OK%TYPE,
     pCAD_SET_FL_MOVIMENTAPACINT_OK IN TB_CAD_SET_SETOR.CAD_SET_FL_MOVIMENTAPACINT_OK%TYPE,
     pCAD_SET_FL_PERMITELIBLEITO_OK IN TB_CAD_SET_SETOR.CAD_SET_FL_PERMITELIBLEITO_OK%TYPE DEFAULT NULL
  )
  is
  /********************************************************************
  *    Procedure: PRC_CAD_SET_SETOR_U
  *
  *    Data Alteração:   20/07/2009  Por: Pedro
  *    Alteração:  Incluído os campos CAD_SET_FL_PREFERENC_ACS_OK e CAD_SET_FL_PERMITEINTERN_OK
  *
  *    Data Alteração:   04/08/2009  Por: Pedro
  *    Alteração:  Incluído o campo CAD_SET_FL_MOVIMENTAPACINT_OK
  *
  *    Funcao: Atualiza os Setores de uma Unidade
  *
  *    Data Alteração:   06/10/2009  Por: Alexandre M. Muniz
  *    Alteração:  Incluído o campo CAD_SET_FL_PERMITELIBLEITO_OK
  *  
  *******************************************************************/
  begin
    UPDATE TB_CAD_SET_SETOR
    SET
        CAD_SET_ID  = pCAD_SET_ID,
        CAD_SET_CD_SETOR = UPPER(pCAD_SET_CD_SETOR),
        CAD_SET_DS_SETOR = UPPER(pCAD_SET_DS_SETOR),
        CAD_SET_NR_TELEFONE = pCAD_SET_NR_TELEFONE,
        CAD_SET_NR_RAMAL = pCAD_SET_NR_RAMAL,
        CAD_SET_FL_SUBSTALMOX_OK = pCAD_SET_FL_SUBSTALMOX_OK,
        CAD_SET_FL_ESTQPROPRIO_OK = pCAD_SET_FL_ESTQPROPRIO_OK,
        CAD_SET_FL_ATIVO_OK = pCAD_SET_FL_ATIVO_OK,
        CAD_SET_FL_GRAVAATEND_OK = pCAD_SET_FL_GRAVAATEND_OK,
        CAD_SET_NR_ANDAR = pCAD_SET_NR_ANDAR,
        CAD_UNI_ID_UNIDADE = pCAD_UNI_ID_UNIDADE,
        CAD_LAT_ID_LOCAL_ATENDIMENTO = pCAD_LAT_ID_LOCAL_ATENDIMENTO,
        CAD_SET_DT_ULTIMA_ATUALIZACAO = sysdate,
        SEG_USU_ID_USUARIO = pSEG_USU_ID_USUARIO,
        CAD_SET_FL_PERMITEINTERN_OK = pCAD_SET_FL_PERMITEINTERN_OK,
        CAD_SET_FL_PREFERENC_ACS_OK = pCAD_SET_FL_PREFERENC_ACS_OK,
        CAD_SET_FL_MOVIMENTAPACINT_OK = pCAD_SET_FL_MOVIMENTAPACINT_OK,
        CAD_SET_FL_PERMITELIBLEITO_OK = pCAD_SET_FL_PERMITELIBLEITO_OK
    WHERE
        CAD_SET_ID = pCAD_SET_ID;
  end PRC_CAD_SET_SETOR_U;

/