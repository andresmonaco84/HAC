CREATE OR REPLACE PROCEDURE "PRC_ASS_ARE_ATD_RESPONSAVEL_L"
(
     pATD_ATE_ID IN TB_ASS_ARE_ATD_RESPONSAVEL.ATD_ATE_ID%type DEFAULT NULL,
     pCAD_PES_ID_PESSOA IN TB_ASS_ARE_ATD_RESPONSAVEL.CAD_PES_ID_PESSOA%type DEFAULT NULL,
     pSEG_USU_ID_USUARIO IN TB_ASS_ARE_ATD_RESPONSAVEL.SEG_USU_ID_USUARIO%type DEFAULT NULL,
     pASS_ARE_DT_ULTIMA_ATUALIZACAO IN TB_ASS_ARE_ATD_RESPONSAVEL.ASS_ARE_DT_ULTIMA_ATUALIZACAO%type DEFAULT NULL,
     pFAT_CCP_ID IN TB_ASS_ARE_ATD_RESPONSAVEL.FAT_CCP_ID%type DEFAULT NULL,
		      pASS_ARE_FL_RECUSA_INF_CPF IN TB_ASS_ARE_ATD_RESPONSAVEL.ASS_ARE_FL_RECUSA_INF_CPF%type DEFAULT NULL,
     io_cursor OUT PKG_CURSOR.t_cursor
)
is
/********************************************************************
*    Procedure: PRC_ASS_ARE_ATD_RESPONSAVEL_L
*
*    Data Criacao:  data da  criação   Por: Nome do Analista
*    Data Alteracao: data da alteração  Por: Nome do Analista
*
*    Funcao: Descrição da funcionalidade da Stored Procedure
*
*******************************************************************/
 v_cursor PKG_CURSOR.t_cursor;
  V_WHERE  varchar2(5000);
  V_SELECT  varchar2(5000);
begin
  V_WHERE := NULL;
  IF pATD_ATE_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_ATE_ID = ' || pATD_ATE_ID; END IF;
IF pCAD_PES_ID_PESSOA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PES_ID_PESSOA = ' || pCAD_PES_ID_PESSOA; END IF;
IF pSEG_USU_ID_USUARIO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_ID_USUARIO = ' || pSEG_USU_ID_USUARIO; END IF;
IF pASS_ARE_DT_ULTIMA_ATUALIZACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ASS_ARE_DT_ULTIMA_ATUALIZACAO = ' || CHR(39) || pASS_ARE_DT_ULTIMA_ATUALIZACAO || CHR(39); END IF;
IF pFAT_CCP_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND FAT_CCP_ID = ' || pFAT_CCP_ID; END IF;
IF pASS_ARE_FL_RECUSA_INF_CPF IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ASS_ARE_FL_RECUSA_INF_CPF = ' || CHR(39) || pASS_ARE_FL_RECUSA_INF_CPF || CHR(39); END IF;


   V_SELECT := '
SELECT
       ATD_ATE_ID,
       CAD_PES_ID_PESSOA,
       SEG_USU_ID_USUARIO,
       ASS_ARE_DT_ULTIMA_ATUALIZACAO,
       FAT_CCP_ID,
			 ASS_ARE_FL_RECUSA_INF_CPF
FROM TB_ASS_ARE_ATD_RESPONSAVEL
WHERE null is null  '    ;

OPEN v_cursor FOR
  V_SELECT || V_WHERE ;
  io_cursor := v_cursor;
end PRC_ASS_ARE_ATD_RESPONSAVEL_L;
 