create or replace procedure PRC_ASS_ATI_ATE_INDICADOR_L
(
     pASS_ATI_ID IN TB_ASS_ATI_ATE_INDICADOR.ASS_ATI_ID%type DEFAULT NULL,
     pCAD_IND_ID IN TB_ASS_ATI_ATE_INDICADOR.CAD_IND_ID%type DEFAULT NULL,
     pATD_ATE_ID IN TB_ASS_ATI_ATE_INDICADOR.ATD_ATE_ID%type DEFAULT NULL,
     pSEG_USU_ID_USUARIO_C IN TB_ASS_ATI_ATE_INDICADOR.SEG_USU_ID_USUARIO_C%type DEFAULT NULL,
     pASS_ATI_DT_CRIACAO IN TB_ASS_ATI_ATE_INDICADOR.ASS_ATI_DT_CRIACAO%type DEFAULT NULL,
     pSEG_USU_ID_USUARIO_A IN TB_ASS_ATI_ATE_INDICADOR.SEG_USU_ID_USUARIO_A%type DEFAULT NULL,
     pASS_ATI_DT_ULT_ATUALIZ IN TB_ASS_ATI_ATE_INDICADOR.ASS_ATI_DT_ULT_ATUALIZ%type DEFAULT NULL,
     pASS_ATI_DT_RSL_INI IN TB_ASS_ATI_ATE_INDICADOR.ASS_ATI_DT_RSL_INI%type DEFAULT NULL,
     pASS_ATI_DT_RSL_FIM IN TB_ASS_ATI_ATE_INDICADOR.ASS_ATI_DT_RSL_FIM%type DEFAULT NULL,
     pASS_ATI_FL_RSL IN TB_ASS_ATI_ATE_INDICADOR.ASS_ATI_FL_RSL%type DEFAULT NULL,
     pASS_ATI_VL_RSL_MIN IN TB_ASS_ATI_ATE_INDICADOR.ASS_ATI_VL_RSL_MIN%type DEFAULT NULL,
     pASS_ATI_VL_RSL_MAX IN TB_ASS_ATI_ATE_INDICADOR.ASS_ATI_VL_RSL_MAX%type DEFAULT NULL,
     pASS_ATI_DS_RSL IN TB_ASS_ATI_ATE_INDICADOR.ASS_ATI_DS_RSL%type DEFAULT NULL,
         pATD_IDR_ID IN TB_ASS_ATI_ATE_INDICADOR.ATD_IDR_ID%type default NULL,
         pCAD_PES_ID_PESSOA IN TB_ASS_ATI_ATE_INDICADOR.CAD_PES_ID_PESSOA%type default NULL,
     io_cursor OUT PKG_CURSOR.t_cursor
)
is
/********************************************************************
*    Procedure: PRC_ASS_ATI_ATE_INDICADOR_L
*
*    Data Criacao: 	data da  criação   Por: Nome do Analista
*    Data Alteracao:	data da alteração  Por: Nome do Analista
*
*    Funcao: Descrição da funcionalidade da Stored Procedure
*
*******************************************************************/
 v_cursor PKG_CURSOR.t_cursor;
  V_WHERE  varchar2(5000);
  V_SELECT  varchar2(5000);
begin
  V_WHERE := NULL;
  IF pASS_ATI_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ASS_ATI_ID = ' || pASS_ATI_ID; END IF;
IF pCAD_IND_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_IND_ID = ' || pCAD_IND_ID; END IF;
IF pATD_ATE_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_ATE_ID = ' || pATD_ATE_ID; END IF;
IF pCAD_PES_ID_PESSOA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND CAD_PES_ID_PESSOA = ' || pCAD_PES_ID_PESSOA; END IF;
IF pSEG_USU_ID_USUARIO_C IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_ID_USUARIO_C = ' || pSEG_USU_ID_USUARIO_C; END IF;
IF pASS_ATI_DT_CRIACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ASS_ATI_DT_CRIACAO = ' || CHR(39) || pASS_ATI_DT_CRIACAO || CHR(39); END IF;
IF pSEG_USU_ID_USUARIO_A IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_ID_USUARIO_A = ' || pSEG_USU_ID_USUARIO_A; END IF;
IF pASS_ATI_DT_ULT_ATUALIZ IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ASS_ATI_DT_ULT_ATUALIZ = ' || CHR(39) || pASS_ATI_DT_ULT_ATUALIZ || CHR(39); END IF;
IF pASS_ATI_DT_RSL_INI IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ASS_ATI_DT_RSL_INI = ' || CHR(39) || pASS_ATI_DT_RSL_INI || CHR(39); END IF;
IF pASS_ATI_DT_RSL_FIM IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ASS_ATI_DT_RSL_FIM = ' || CHR(39) || pASS_ATI_DT_RSL_FIM || CHR(39); END IF;
IF pASS_ATI_FL_RSL IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ASS_ATI_FL_RSL = ' || CHR(39) || pASS_ATI_FL_RSL || CHR(39); END IF;
IF pASS_ATI_VL_RSL_MIN IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ASS_ATI_VL_RSL_MIN = ' || pASS_ATI_VL_RSL_MIN; END IF;
IF pASS_ATI_VL_RSL_MAX IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ASS_ATI_VL_RSL_MAX = ' || pASS_ATI_VL_RSL_MAX; END IF;
IF pASS_ATI_DS_RSL IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ASS_ATI_DS_RSL = ' || CHR(39) || pASS_ATI_DS_RSL || CHR(39); END IF;
IF pATD_IDR_ID IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND ATD_IDR_ID = ' || pATD_IDR_ID; END IF;


   V_SELECT := '
SELECT
       ASS_ATI_ID,
       CAD_IND_ID,
       ATD_ATE_ID,
       CAD_PES_ID_PESSOA,
       ATD_IDR_ID,
       SEG_USU_ID_USUARIO_C,
       ASS_ATI_DT_CRIACAO,
       SEG_USU_ID_USUARIO_A,
       ASS_ATI_DT_ULT_ATUALIZ,
       ASS_ATI_DT_RSL_INI,
       ASS_ATI_DT_RSL_FIM,
       ASS_ATI_FL_RSL,
       ASS_ATI_VL_RSL_MIN,
       ASS_ATI_VL_RSL_MAX,
       ASS_ATI_DS_RSL,
       
FROM TB_ASS_ATI_ATE_INDICADOR
WHERE null is null  '    ;

OPEN v_cursor FOR
  V_SELECT || V_WHERE ;
  io_cursor := v_cursor;
end PRC_ASS_ATI_ATE_INDICADOR_L;
