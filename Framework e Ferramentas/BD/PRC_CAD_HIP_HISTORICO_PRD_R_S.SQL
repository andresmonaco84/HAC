

--PRC_CAD_HIP_HISTORICO_PRD_R_S
create or replace procedure PRC_CAD_HIP_HISTORICO_PRD_R_S 
(
     pCAD_HIP_CD_CODIGO IN TB_CAD_HIP_HISTORICO_PRODUTO.CAD_HIP_CD_CODIGO%type,
     pCAD_HIP_DT_INICIO_VIGENCIA IN TB_CAD_HIP_HISTORICO_PRODUTO.CAD_HIP_DT_INICIO_VIGENCIA%type,
     pCAD_HIP_NM_MNEMONICO IN TB_CAD_HIP_HISTORICO_PRODUTO.CAD_HIP_NM_MNEMONICO%type,
     pCAD_PRD_ID IN TB_CAD_HIP_HISTORICO_PRODUTO.CAD_PRD_ID%type,
     pTIS_MED_CD_TABELAMEDICA IN TB_CAD_HIP_HISTORICO_PRODUTO.TIS_MED_CD_TABELAMEDICA%type,
     io_cursor OUT PKG_CURSOR.t_cursor
) 
is
/********************************************************************
*    Procedure: PRC_CAD_HIP_HISTORICO_PRD_R_S
* 
*    Data Criacao: 	08/07/2010   Por: Rafael Coimbra
*    Data Alteracao:	data da alteração  Por: Nome do Analista
*
*    Funcao: Descrição da funcionalidade da Stored Procedure
*
*******************************************************************/
v_cursor PKG_CURSOR.t_cursor;
begin
OPEN v_cursor FOR
SELECT	
       CAD_PRD_ID,
       CAD_HIP_CD_CODIGO,
       CAD_HIP_DS_DESCRICAO,
       SEG_USU_ID_USUARIO,
       CAD_HIP_DT_ULTIMA_ATUALIZACAO,
       CAD_HIP_FL_STATUS,
       CAD_HIP_NM_MNEMONICO,
       AUX_EPP_CD_ESPECPROC,
       AUX_GPC_CD_GRUPOPROC,
       CAD_HIP_DS_RESUMIDA,
       TIS_MED_CD_TABELAMEDICA,
       CAD_HIP_FL_CONTRASTADO,
       CAD_TAP_TP_ATRIBUTO,
       CAD_TIH_TP_INDICE_HOSP,
       CAD_HIP_QT_INDICE_HOSP,
       CAD_HIP_QT_AUXILIAR,
       CAD_HIP_PC_DOPPLER,
       CAD_HIP_TP_PORTE,
       CAD_HIP_DT_INICIO_VIGENCIA,
       CAD_HIP_DT_FIM_VIGENCIA,
       CAD_HIP_QT_INCIDENCIA,
       CAD_HIP_QT_M2_FILME,
       CAD_HIP_QT_CUSTO_OPER,
       CAD_HIP_QT_HONORARIO,
       CAD_HIP_TP_SEXO_PERMITIDO,
       CAD_HIP_FL_COBRA_HEXTRA,
       TIS_TAC_CD_TIPO_ACOMODACAO,
       CAD_HIP_FL_PERMITE_RETORNO,
       CAD_HIP_VL_PRODUTO,
       CAD_HIP_PC_HAC,
       CAD_UMC_CD_MEDIDA_CONSUMO,
       CAD_HIP_NM_FANTASIA,
       CAD_HIP_FL_FRACIONADO,
       CAD_HIP_PC_ACRESCIMO,
       CAD_HIP_VL_VENDA,
       CAD_HIP_VL_CUSTOMEDIO,
       CAD_HIP_VL_CUSTO,
       CAD_HIP_QT_MINIMA,
       CAD_HIP_QT_MAXIMA,
       CAD_APM_ID_MATMED,
       CAD_HIP_QT_APR_MATMED,
       CAD_HIP_FL_ISENTO_COBRANCA,
       CAD_HIP_FL_ESTOQUE_ACS,
       CAD_HIP_PC_DESCONTO,
       CAD_HIP_FL_KIT,
       CAD_HIP_CD_BARRA,
       CAD_HIP_FL_ALTO_CUSTO,
       CAD_HIP_VL_UNITARIO,
       CAD_CME_CLASSIF_MED,
       CAD_HIP_FL_USORESTRITOMED,
       CAD_HIP_VL_MATMED_FABRICA,
       CAD_HIP_FL_MATESPECIAL,
       CAD_CMM_CD_CARACMATMED,
       CAD_HIP_VL_MATMED_VEND_FRA,
       CAD_HIP_VL_MATMED_FABR_FRA,
       CAD_HIP_ID_PRODUTO_MATMED,
       CAD_HIP_CD_FABR_MATMED,
       CAD_HIP_NM_FABR_MATMED,
       CAD_HIP_TP_EMBALAG_MATMED,
       CAD_HIP_CD_TABELA_MATMED,
       CAD_HIP_CD_TAB_APRE_MATMED,
       CAD_HIP_NM_TAB_APRE_MATMED,
       CAD_HIP_FL_MAT_CONSIGNADO,
       CAD_HIP_FL_NOTAFISCALMATMED,
       CAD_HIP_TP_PORTE_CBHPM,
       CAD_HIP_FL_COBRAPCHMACO
FROM TB_CAD_HIP_HISTORICO_PRODUTO
WHERE
        CAD_HIP_CD_CODIGO = pCAD_HIP_CD_CODIGO
    AND CAD_HIP_DT_INICIO_VIGENCIA = pCAD_HIP_DT_INICIO_VIGENCIA
    AND CAD_HIP_NM_MNEMONICO = pCAD_HIP_NM_MNEMONICO
    AND CAD_PRD_ID = pCAD_PRD_ID
    AND TIS_MED_CD_TABELAMEDICA = pTIS_MED_CD_TABELAMEDICA;          
io_cursor := v_cursor;
end PRC_CAD_HIP_HISTORICO_PRD_R_S;
