CREATE OR REPLACE FUNCTION OBTER_INICIAIS(P_NOME VARCHAR2)
RETURN VARCHAR2
IS
W_QT_INICIAIS NUMBER(2);
W_POSICAO NUMBER(2);
W_INICIAIS VARCHAR2(10);
BEGIN

W_QT_INICIAIS := LENGTH(P_NOME) - LENGTH(REPLACE(P_NOME,' ',''));
W_INICIAIS := SUBSTR(P_NOME,1,1);
W_POSICAO := 1;

WHILE W_QT_INICIAIS >= W_POSICAO
  LOOP
    W_INICIAIS := W_INICIAIS||SUBSTR(P_NOME,INSTR(P_NOME,' ',1,W_POSICAO)+1,1);
    W_POSICAO := W_POSICAO +1;
  END LOOP;


RETURN UPPER(W_INICIAIS);
END;
/
