CREATE OR REPLACE PROCEDURE PRC_ASS_PCB_PROF_CBOS_RMT_L
(
     pASS_PCB_DS_OBS IN TB_ASS_PCB_PROFISSIONAL_CBOS.ASS_PCB_DS_OBS%type DEFAULT NULL,
     pASS_PCB_FL_STATUS IN TB_ASS_PCB_PROFISSIONAL_CBOS.ASS_PCB_FL_STATUS%type DEFAULT NULL,
     pTIS_CBO_CD_CBOS IN TB_ASS_PCB_PROFISSIONAL_CBOS.TIS_CBO_CD_CBOS%type DEFAULT NULL,
     pCAD_PRO_ID_PROFISSIONAL IN TB_ASS_PCB_PROFISSIONAL_CBOS.CAD_PRO_ID_PROFISSIONAL%type DEFAULT NULL,
     pSEG_USU_ID_USUARIO IN TB_ASS_PCB_PROFISSIONAL_CBOS.SEG_USU_ID_USUARIO%type DEFAULT NULL,
     pASS_PCB_DT_ULTIMA_ATUALIZACAO IN TB_ASS_PCB_PROFISSIONAL_CBOS.ASS_PCB_DT_ULTIMA_ATUALIZACAO%type DEFAULT NULL,
     pASS_PCB_FL_ESPECIALISTA IN TB_ASS_PCB_PROFISSIONAL_CBOS.ASS_PCB_FL_ESPECIALISTA%type DEFAULT NULL,
     io_cursor OUT PKG_CURSOR.t_cursor
)
is
/********************************************************************
*    Procedure: PRC_ASS_PCB_PROF_CBOS_RMT_L
*
*    Data Criacao:  15/07/2010   Por: André Souza Monaco
*    Data Alteracao:   Por:
*
*    Funcao: Lista especialidades do profissional
*
*******************************************************************/
v_cursor PKG_CURSOR.t_cursor;
begin
OPEN v_cursor FOR
SELECT
       ASS_PCB_DS_OBS,
       ASS_PCB_FL_STATUS,
       TIS_CBO_CD_CBOS,
       CAD_PRO_ID_PROFISSIONAL,
       SEG_USU_ID_USUARIO,
       ASS_PCB_DT_ULTIMA_ATUALIZACAO,
       ASS_PCB_FL_ESPECIALISTA,
       CAD_CFM_ID_CFM
FROM TB_ASS_PCB_PROFISSIONAL_CBOS
WHERE
        (pASS_PCB_DS_OBS is null OR ASS_PCB_DS_OBS = pASS_PCB_DS_OBS) AND
        (pASS_PCB_FL_STATUS is null OR ASS_PCB_FL_STATUS = pASS_PCB_FL_STATUS) AND
        (pTIS_CBO_CD_CBOS is null OR TIS_CBO_CD_CBOS = pTIS_CBO_CD_CBOS) AND
        (pCAD_PRO_ID_PROFISSIONAL is null OR CAD_PRO_ID_PROFISSIONAL = pCAD_PRO_ID_PROFISSIONAL) AND
        (pSEG_USU_ID_USUARIO is null OR SEG_USU_ID_USUARIO = pSEG_USU_ID_USUARIO) AND
        (pASS_PCB_DT_ULTIMA_ATUALIZACAO is null OR ASS_PCB_DT_ULTIMA_ATUALIZACAO = pASS_PCB_DT_ULTIMA_ATUALIZACAO) AND
        (pASS_PCB_FL_ESPECIALISTA is null OR ASS_PCB_FL_ESPECIALISTA = pASS_PCB_FL_ESPECIALISTA);
io_cursor := v_cursor;
end PRC_ASS_PCB_PROF_CBOS_RMT_L;
 
