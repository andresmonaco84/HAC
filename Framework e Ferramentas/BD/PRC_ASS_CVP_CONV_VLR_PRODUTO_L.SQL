create or replace procedure PRC_ASS_CVP_CONV_VLR_PRODUTO_L
(
     pASS_CVP_ID IN TB_ASS_CVP_CONV_VLR_PRODUTO.ASS_CVP_ID%type DEFAULT NULL,
     pCAD_CNV_ID_CONVENIO IN TB_ASS_CVP_CONV_VLR_PRODUTO.CAD_CNV_ID_CONVENIO%type DEFAULT NULL,
     pCAD_LAT_ID_LOCAL_ATENDIMENTO IN TB_ASS_CVP_CONV_VLR_PRODUTO.CAD_LAT_ID_LOCAL_ATENDIMENTO%type DEFAULT NULL,
     pCAD_TAP_TP_ATRIBUTO IN TB_ASS_CVP_CONV_VLR_PRODUTO.CAD_TAP_TP_ATRIBUTO%type DEFAULT NULL,
     pCAD_PRD_ID IN TB_ASS_CVP_CONV_VLR_PRODUTO.CAD_PRD_ID%type DEFAULT NULL,
     pCAD_TIH_TP_INDICE_HOSP IN TB_ASS_CVP_CONV_VLR_PRODUTO.CAD_TIH_TP_INDICE_HOSP%type DEFAULT NULL,
     pASS_CVP_QT_INDICE_HOSP IN TB_ASS_CVP_CONV_VLR_PRODUTO.ASS_CVP_QT_INDICE_HOSP%type DEFAULT NULL,
     pASS_CVP_VL_INDICE_HOSP IN TB_ASS_CVP_CONV_VLR_PRODUTO.ASS_CVP_VL_INDICE_HOSP%type DEFAULT NULL,
     pASS_CVP_TP_PORTE IN TB_ASS_CVP_CONV_VLR_PRODUTO.ASS_CVP_TP_PORTE%type DEFAULT NULL,
     pASS_CVP_VL_PRODUTO IN TB_ASS_CVP_CONV_VLR_PRODUTO.ASS_CVP_VL_PRODUTO%type DEFAULT NULL,
     pASS_CVP_QT_MAXIMA_PERM IN TB_ASS_CVP_CONV_VLR_PRODUTO.ASS_CVP_QT_MAXIMA_PERM%type DEFAULT NULL,
     pASS_CVP_QT_MINIMA_PERM IN TB_ASS_CVP_CONV_VLR_PRODUTO.ASS_CVP_QT_MINIMA_PERM%type DEFAULT NULL,
     pASS_CVP_PC_ACRESCIMO IN TB_ASS_CVP_CONV_VLR_PRODUTO.ASS_CVP_PC_ACRESCIMO%type DEFAULT NULL,
     pASS_CVP_PC_DESCONTO IN TB_ASS_CVP_CONV_VLR_PRODUTO.ASS_CVP_PC_DESCONTO%type DEFAULT NULL,
     pASS_CVP_VL_ACRESCIMO IN TB_ASS_CVP_CONV_VLR_PRODUTO.ASS_CVP_VL_ACRESCIMO%type DEFAULT NULL,
     pASS_CVP_VL_DESCONTO IN TB_ASS_CVP_CONV_VLR_PRODUTO.ASS_CVP_VL_DESCONTO%type DEFAULT NULL,
     pASS_CVP_PC_TAXAADM IN TB_ASS_CVP_CONV_VLR_PRODUTO.ASS_CVP_PC_TAXAADM%type DEFAULT NULL,
     pASS_CVP_PC_DOPPLER IN TB_ASS_CVP_CONV_VLR_PRODUTO.ASS_CVP_PC_DOPPLER%type DEFAULT NULL,
     pASS_CVP_DT_INICIO_VIGENCIA IN TB_ASS_CVP_CONV_VLR_PRODUTO.ASS_CVP_DT_INICIO_VIGENCIA%type DEFAULT NULL,
     pASS_CVP_DT_FIM_VIGENCIA IN TB_ASS_CVP_CONV_VLR_PRODUTO.ASS_CVP_DT_FIM_VIGENCIA%type DEFAULT NULL,
     pTIS_CDE_CD_CODIGO_DESPESA IN TB_ASS_CVP_CONV_VLR_PRODUTO.TIS_CDE_CD_CODIGO_DESPESA%type DEFAULT NULL,
     pASS_CPE_ID IN TB_ASS_CVP_CONV_VLR_PRODUTO.ASS_CPE_ID%type DEFAULT NULL,
     pASS_DT_ULTIMA_ATUALIZACAO IN TB_ASS_CVP_CONV_VLR_PRODUTO.ASS_DT_ULTIMA_ATUALIZACAO%type DEFAULT NULL,
     pSEG_USU_ID_USUARIO IN TB_ASS_CVP_CONV_VLR_PRODUTO.SEG_USU_ID_USUARIO%type DEFAULT NULL,
     pASS_CVP_FL_PC_ACRESCIMOHR IN TB_ASS_CVP_CONV_VLR_PRODUTO.ASS_CVP_FL_PC_ACRESCIMOHR%type DEFAULT NULL,
     pASS_CVP_FL_ISEN_COBRA IN TB_ASS_CVP_CONV_VLR_PRODUTO.ASS_CVP_FL_ISEN_COBRA%type DEFAULT NULL,
     pASS_CVP_FL_COBERT_ANEST IN TB_ASS_CVP_CONV_VLR_PRODUTO.ASS_CVP_FL_COBERT_ANEST%type DEFAULT NULL,
     pASS_CVP_TP_UNID_CONSUMO IN TB_ASS_CVP_CONV_VLR_PRODUTO.ASS_CVP_TP_UNID_CONSUMO%type DEFAULT NULL,
     pASS_CVP_PC_ACOMOD_HM IN TB_ASS_CVP_CONV_VLR_PRODUTO.ASS_CVP_PC_ACOMOD_HM%type DEFAULT NULL,
     pCAD_PLA_ID_PLANO IN TB_ASS_CVP_CONV_VLR_PRODUTO.CAD_PLA_ID_PLANO%type DEFAULT NULL,
     pCAD_SPL_ID IN TB_ASS_CVP_CONV_VLR_PRODUTO.CAD_SPL_ID%type DEFAULT NULL,
     pCAD_UNI_ID_UNIDADE IN TB_ASS_CVP_CONV_VLR_PRODUTO.CAD_UNI_ID_UNIDADE%type DEFAULT NULL,
     pTIS_MED_CD_TABELAMEDICA IN TB_ASS_CVP_CONV_VLR_PRODUTO.TIS_MED_CD_TABELAMEDICA%type DEFAULT NULL,
     pAUX_EPP_CD_ESPECPROC IN TB_ASS_CVP_CONV_VLR_PRODUTO.AUX_EPP_CD_ESPECPROC%type DEFAULT NULL,
     pAUX_GPC_CD_GRUPOPROC IN TB_ASS_CVP_CONV_VLR_PRODUTO.AUX_GPC_CD_GRUPOPROC%type DEFAULT NULL,
     pASS_CVP_FL_STATUS IN TB_ASS_CVP_CONV_VLR_PRODUTO.ASS_CVP_FL_STATUS%type DEFAULT NULL,
     io_cursor OUT PKG_CURSOR.t_cursor
) 
is
/********************************************************************
*    Procedure: PRC_ASS_CVP_CONV_VLR_PRODUTO_L
* 
*    Data Criacao: 	 11/2009     Por: Alexandre Muniz
*    Data Alteracao: 20/09/2010  Por: Andre S. Monaco
*         Alteracao: Adic?o de campos (TIS_MED_CD_TABELAMEDICA,
*                                      AUX_EPP_CD_ESPECPROC,
*                                      AUX_GPC_CD_GRUPOPROC,
*                                      ASS_CVP_FL_STATUS)
*    Data Alteracao: 06/12/2010  Por: André S. Monaco
*         Alteracao: Adição do campo ASS_CVP_TP_PORTE_SALA
*
*    Funcao: Lista valor de procedimento do convenio
*
*******************************************************************/
v_cursor PKG_CURSOR.t_cursor;
begin
OPEN v_cursor FOR
SELECT	
       ASS_CVP_ID,
       CAD_CNV_ID_CONVENIO,
       CAD_LAT_ID_LOCAL_ATENDIMENTO,
       CAD_TAP_TP_ATRIBUTO,
       CAD_PRD_ID,
       CAD_TIH_TP_INDICE_HOSP,
       ASS_CVP_QT_INDICE_HOSP,
       ASS_CVP_VL_INDICE_HOSP,
       ASS_CVP_TP_PORTE,
       ASS_CVP_VL_PRODUTO,
       ASS_CVP_QT_MAXIMA_PERM,
       ASS_CVP_QT_MINIMA_PERM,
       ASS_CVP_PC_ACRESCIMO,
       ASS_CVP_PC_DESCONTO,
       ASS_CVP_VL_ACRESCIMO,
       ASS_CVP_VL_DESCONTO,
       ASS_CVP_PC_TAXAADM,
       ASS_CVP_PC_DOPPLER,
       ASS_CVP_DT_INICIO_VIGENCIA,
       ASS_CVP_DT_FIM_VIGENCIA,
       TIS_CDE_CD_CODIGO_DESPESA,
       ASS_CPE_ID,
       ASS_DT_ULTIMA_ATUALIZACAO,
       SEG_USU_ID_USUARIO,
       ASS_CVP_FL_PC_ACRESCIMOHR,
       ASS_CVP_FL_ISEN_COBRA,
       ASS_CVP_FL_COBERT_ANEST,
       ASS_CVP_TP_UNID_CONSUMO,
       ASS_CVP_PC_ACOMOD_HM,
       CAD_PLA_ID_PLANO,
       CAD_SPL_ID,
       CAD_UNI_ID_UNIDADE,
       TIS_MED_CD_TABELAMEDICA,
       AUX_EPP_CD_ESPECPROC,
       AUX_GPC_CD_GRUPOPROC,
       ASS_CVP_FL_STATUS,
       ASS_CVP_TP_PORTE_SALA
FROM TB_ASS_CVP_CONV_VLR_PRODUTO
WHERE
        (pASS_CVP_ID is null OR ASS_CVP_ID = pASS_CVP_ID) AND 
        (pCAD_CNV_ID_CONVENIO is null OR CAD_CNV_ID_CONVENIO = pCAD_CNV_ID_CONVENIO) AND 
        (pCAD_LAT_ID_LOCAL_ATENDIMENTO is null OR CAD_LAT_ID_LOCAL_ATENDIMENTO = pCAD_LAT_ID_LOCAL_ATENDIMENTO) AND 
        (pCAD_TAP_TP_ATRIBUTO is null OR CAD_TAP_TP_ATRIBUTO = pCAD_TAP_TP_ATRIBUTO) AND 
        (pCAD_PRD_ID is null OR CAD_PRD_ID = pCAD_PRD_ID) AND 
        (pCAD_TIH_TP_INDICE_HOSP is null OR CAD_TIH_TP_INDICE_HOSP = pCAD_TIH_TP_INDICE_HOSP) AND 
        (pASS_CVP_QT_INDICE_HOSP is null OR ASS_CVP_QT_INDICE_HOSP = pASS_CVP_QT_INDICE_HOSP) AND 
        (pASS_CVP_VL_INDICE_HOSP is null OR ASS_CVP_VL_INDICE_HOSP = pASS_CVP_VL_INDICE_HOSP) AND 
        (pASS_CVP_TP_PORTE is null OR ASS_CVP_TP_PORTE = pASS_CVP_TP_PORTE) AND 
        (pASS_CVP_VL_PRODUTO is null OR ASS_CVP_VL_PRODUTO = pASS_CVP_VL_PRODUTO) AND 
        (pASS_CVP_QT_MAXIMA_PERM is null OR ASS_CVP_QT_MAXIMA_PERM = pASS_CVP_QT_MAXIMA_PERM) AND 
        (pASS_CVP_QT_MINIMA_PERM is null OR ASS_CVP_QT_MINIMA_PERM = pASS_CVP_QT_MINIMA_PERM) AND 
        (pASS_CVP_PC_ACRESCIMO is null OR ASS_CVP_PC_ACRESCIMO = pASS_CVP_PC_ACRESCIMO) AND 
        (pASS_CVP_PC_DESCONTO is null OR ASS_CVP_PC_DESCONTO = pASS_CVP_PC_DESCONTO) AND 
        (pASS_CVP_VL_ACRESCIMO is null OR ASS_CVP_VL_ACRESCIMO = pASS_CVP_VL_ACRESCIMO) AND 
        (pASS_CVP_VL_DESCONTO is null OR ASS_CVP_VL_DESCONTO = pASS_CVP_VL_DESCONTO) AND 
        (pASS_CVP_PC_TAXAADM is null OR ASS_CVP_PC_TAXAADM = pASS_CVP_PC_TAXAADM) AND 
        (pASS_CVP_PC_DOPPLER is null OR ASS_CVP_PC_DOPPLER = pASS_CVP_PC_DOPPLER) AND 
        (pASS_CVP_DT_INICIO_VIGENCIA is null OR ASS_CVP_DT_INICIO_VIGENCIA = pASS_CVP_DT_INICIO_VIGENCIA) AND 
        (pASS_CVP_DT_FIM_VIGENCIA is null OR ASS_CVP_DT_FIM_VIGENCIA = pASS_CVP_DT_FIM_VIGENCIA) AND 
        (pTIS_CDE_CD_CODIGO_DESPESA is null OR TIS_CDE_CD_CODIGO_DESPESA = pTIS_CDE_CD_CODIGO_DESPESA) AND 
        (pASS_CPE_ID is null OR ASS_CPE_ID = pASS_CPE_ID) AND 
        (pASS_DT_ULTIMA_ATUALIZACAO is null OR ASS_DT_ULTIMA_ATUALIZACAO = pASS_DT_ULTIMA_ATUALIZACAO) AND 
        (pSEG_USU_ID_USUARIO is null OR SEG_USU_ID_USUARIO = pSEG_USU_ID_USUARIO) AND 
        (pASS_CVP_FL_PC_ACRESCIMOHR is null OR ASS_CVP_FL_PC_ACRESCIMOHR = pASS_CVP_FL_PC_ACRESCIMOHR) AND 
        (pASS_CVP_FL_ISEN_COBRA is null OR ASS_CVP_FL_ISEN_COBRA = pASS_CVP_FL_ISEN_COBRA) AND 
        (pASS_CVP_FL_COBERT_ANEST is null OR ASS_CVP_FL_COBERT_ANEST = pASS_CVP_FL_COBERT_ANEST) AND 
        (pASS_CVP_TP_UNID_CONSUMO is null OR ASS_CVP_TP_UNID_CONSUMO = pASS_CVP_TP_UNID_CONSUMO) AND 
        (pASS_CVP_PC_ACOMOD_HM is null OR ASS_CVP_PC_ACOMOD_HM = pASS_CVP_PC_ACOMOD_HM) AND 
        (pCAD_PLA_ID_PLANO is null OR CAD_PLA_ID_PLANO = pCAD_PLA_ID_PLANO) AND 
        (pCAD_SPL_ID is null OR CAD_SPL_ID = pCAD_SPL_ID) AND 
        (pCAD_UNI_ID_UNIDADE is null OR CAD_UNI_ID_UNIDADE = pCAD_UNI_ID_UNIDADE) AND
        (pTIS_MED_CD_TABELAMEDICA is null OR TIS_MED_CD_TABELAMEDICA = pTIS_MED_CD_TABELAMEDICA) AND 
        (pAUX_EPP_CD_ESPECPROC is null OR AUX_EPP_CD_ESPECPROC = pAUX_EPP_CD_ESPECPROC) AND 
        (pAUX_GPC_CD_GRUPOPROC is null OR AUX_GPC_CD_GRUPOPROC = pAUX_GPC_CD_GRUPOPROC) AND 
        (pASS_CVP_FL_STATUS is null OR ASS_CVP_FL_STATUS = pASS_CVP_FL_STATUS);          
io_cursor := v_cursor;
end PRC_ASS_CVP_CONV_VLR_PRODUTO_L;
