create or replace procedure PRC_REP_RPA_RESUMO_PAGTO_L
(
     pREP_RPA_ID IN TB_REP_RPA_RESUMO_PAGTO.REP_RPA_ID%type DEFAULT NULL,
     pCAD_CLC_ID IN TB_REP_RPA_RESUMO_PAGTO.CAD_CLC_ID%type DEFAULT NULL,
     pREP_RPA_DT_PAGAMENTO IN TB_REP_RPA_RESUMO_PAGTO.REP_RPA_DT_PAGAMENTO%type DEFAULT NULL,
     pREP_RPA_MES_PAGTO IN TB_REP_RPA_RESUMO_PAGTO.REP_RPA_MES_PAGTO%type DEFAULT NULL,
     pREP_RPA_ANO_PAGTO IN TB_REP_RPA_RESUMO_PAGTO.REP_RPA_ANO_PAGTO%type DEFAULT NULL,
     pREP_RPA_TP_CREDENCIA_PROF IN TB_REP_RPA_RESUMO_PAGTO.REP_RPA_TP_CREDENCIA_PROF%type DEFAULT NULL,
     pREP_RPA_VL_PAGTO_CLINICA IN TB_REP_RPA_RESUMO_PAGTO.REP_RPA_VL_PAGTO_CLINICA%type DEFAULT NULL,
     pSEG_USU_ID_USUARIO IN TB_REP_RPA_RESUMO_PAGTO.SEG_USU_ID_USUARIO%type DEFAULT NULL,
     pREP_RPA_DT_ULTIMA_ATUALIZACAO IN TB_REP_RPA_RESUMO_PAGTO.REP_RPA_DT_ULTIMA_ATUALIZACAO%type DEFAULT NULL,
     pREP_RPA_DT_CRIACAO IN TB_REP_RPA_RESUMO_PAGTO.REP_RPA_DT_CRIACAO%type DEFAULT NULL,
     pSEG_USU_ID_USUARIO_CRIACAO IN TB_REP_RPA_RESUMO_PAGTO.SEG_USU_ID_USUARIO_CRIACAO%type DEFAULT NULL,
     pREP_RPA_VL_DESCONTO IN TB_REP_RPA_RESUMO_PAGTO.REP_RPA_VL_DESCONTO%type DEFAULT NULL,
     pCAD_UNI_ID_UNIDADE IN TB_REP_RPA_RESUMO_PAGTO.CAD_UNI_ID_UNIDADE%type DEFAULT NULL,
     pREP_RPA_VL_ACRESCIMO IN TB_REP_RPA_RESUMO_PAGTO.REP_RPA_VL_ACRESCIMO%type DEFAULT NULL,
     pREP_RPA_DT_INICIO IN TB_REP_RPA_RESUMO_PAGTO.REP_RPA_DT_INICIO%type DEFAULT NULL,
     pREP_RPA_DT_FIM IN TB_REP_RPA_RESUMO_PAGTO.REP_RPA_DT_FIM%type DEFAULT NULL,
     pID_CAD_JPG IN TB_REP_RPA_RESUMO_PAGTO.ID_CAD_JPG%type DEFAULT NULL,
     pREP_PRA_VL_IMPOSTO IN TB_REP_RPA_RESUMO_PAGTO.REP_PRA_VL_IMPOSTO%type DEFAULT NULL,
     pREP_RPA_FL_STATUS IN TB_REP_RPA_RESUMO_PAGTO.REP_RPA_FL_STATUS%type DEFAULT NULL,
     pREP_RPA_FONTE_PAGADORA IN TB_REP_RPA_RESUMO_PAGTO.REP_RPA_FONTE_PAGADORA%type DEFAULT NULL,
     pCAD_UNI_ID_UNIDADE_ATEND IN TB_REP_RPA_RESUMO_PAGTO.CAD_UNI_ID_UNIDADE_ATEND%type DEFAULT NULL,
     pCAD_LAT_ID_LOCAL_ATEND IN TB_REP_RPA_RESUMO_PAGTO.CAD_LAT_ID_LOCAL_ATEND%type DEFAULT NULL,
     pREP_RPA_FL_ANTECIPACAO IN TB_REP_RPA_RESUMO_PAGTO.REP_RPA_FL_ANTECIPACAO%TYPE DEFAULT NULL,
     io_cursor OUT PKG_CURSOR.t_cursor
)
is
/********************************************************************
*    Procedure: PRC_REP_RPA_RESUMO_PAGTO_L
*
*    Data Criacao:   data da  criação   Por: Nome do Analista
*    Data Alteracao:  data da alteração  Por: Nome do Analista
*
*    Funcao: Descrição da funcionalidade da Stored Procedure
*
*******************************************************************/
 v_cursor PKG_CURSOR.t_cursor;
  V_WHERE  varchar2(5000);
  V_SELECT  varchar2(5000);
begin
  V_WHERE := NULL;
  IF pREP_RPA_ID IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_RPA_ID = ' || pREP_RPA_ID;
  END IF;
  IF pCAD_CLC_ID IS NOT NULL THEN
    V_WHERE:= V_WHERE || ' AND CAD_CLC_ID = ' || pCAD_CLC_ID; 
  END IF;
  IF pREP_RPA_DT_PAGAMENTO IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND TRUNC(REP_RPA_DT_PAGAMENTO) = ' || CHR(39) || pREP_RPA_DT_PAGAMENTO || CHR(39); 
  END IF;
  IF pREP_RPA_MES_PAGTO IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_RPA_MES_PAGTO = ' || pREP_RPA_MES_PAGTO; 
  END IF;
  IF pREP_RPA_ANO_PAGTO IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_RPA_ANO_PAGTO = ' || pREP_RPA_ANO_PAGTO; 
  END IF;
  IF pREP_RPA_TP_CREDENCIA_PROF IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_RPA_TP_CREDENCIA_PROF = ' || CHR(39) || pREP_RPA_TP_CREDENCIA_PROF || CHR(39); 
  END IF;
  IF pREP_RPA_VL_PAGTO_CLINICA IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_RPA_VL_PAGTO_CLINICA = ' || pREP_RPA_VL_PAGTO_CLINICA; 
  END IF;
  IF pSEG_USU_ID_USUARIO IS NOT NULL THEN
    V_WHERE:= V_WHERE || ' AND SEG_USU_ID_USUARIO = ' || pSEG_USU_ID_USUARIO; 
  END IF;
  IF pREP_RPA_DT_ULTIMA_ATUALIZACAO IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_RPA_DT_ULTIMA_ATUALIZACAO = ' || CHR(39) || pREP_RPA_DT_ULTIMA_ATUALIZACAO || CHR(39); 
  END IF;
  IF pREP_RPA_DT_CRIACAO IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_RPA_DT_CRIACAO = ' || CHR(39) || pREP_RPA_DT_CRIACAO || CHR(39); 
  END IF;
  IF pSEG_USU_ID_USUARIO_CRIACAO IS NOT NULL THEN
     V_WHERE:= V_WHERE || ' AND SEG_USU_ID_USUARIO_CRIACAO = ' || pSEG_USU_ID_USUARIO_CRIACAO; 
   END IF;
  IF pREP_RPA_VL_DESCONTO IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_RPA_VL_DESCONTO = ' || pREP_RPA_VL_DESCONTO; 
  END IF;
  IF pCAD_UNI_ID_UNIDADE IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND CAD_UNI_ID_UNIDADE = ' || pCAD_UNI_ID_UNIDADE; 
  END IF;
  IF pREP_RPA_VL_ACRESCIMO IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_RPA_VL_ACRESCIMO = ' || pREP_RPA_VL_ACRESCIMO; 
  END IF;
  IF pREP_RPA_DT_INICIO IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_RPA_DT_INICIO = ' || CHR(39) || pREP_RPA_DT_INICIO || CHR(39); 
  END IF;
  IF pREP_RPA_DT_FIM IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_RPA_DT_FIM = ' || CHR(39) || pREP_RPA_DT_FIM || CHR(39); 
  END IF;
  IF pID_CAD_JPG IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND ID_CAD_JPG = ' || pID_CAD_JPG; 
  END IF;
  IF pREP_PRA_VL_IMPOSTO IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_PRA_VL_IMPOSTO = ' || pREP_PRA_VL_IMPOSTO; 
  END IF;
  IF pREP_RPA_FL_STATUS IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_RPA_FL_STATUS = ' || CHR(39) || pREP_RPA_FL_STATUS || CHR(39); 
  END IF;
  IF pREP_RPA_FONTE_PAGADORA IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_RPA_FONTE_PAGADORA = ' || CHR(39) || pREP_RPA_FONTE_PAGADORA || CHR(39); END IF;
  IF pCAD_UNI_ID_UNIDADE_ATEND IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND CAD_UNI_ID_UNIDADE_ATEND = ' || pCAD_UNI_ID_UNIDADE_ATEND; 
  END IF;
  IF pCAD_LAT_ID_LOCAL_ATEND IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND CAD_LAT_ID_LOCAL_ATEND = ' || pCAD_LAT_ID_LOCAL_ATEND; 
  END IF;
  IF pREP_RPA_FL_ANTECIPACAO IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_RPA_FL_ANTECIPACAO = ' || CHR(39) || pREP_RPA_FL_ANTECIPACAO || CHR(39);
  END IF;
 
   V_SELECT := '
SELECT
       REP_RPA_ID,
       CAD_CLC_ID,
       TRUNC(REP_RPA_DT_PAGAMENTO) REP_RPA_DT_PAGAMENTO,
       REP_RPA_MES_PAGTO,
       REP_RPA_ANO_PAGTO,
       REP_RPA_TP_CREDENCIA_PROF,
       REP_RPA_VL_PAGTO_CLINICA,
       SEG_USU_ID_USUARIO,
       REP_RPA_DT_ULTIMA_ATUALIZACAO,
       REP_RPA_DT_CRIACAO,
       SEG_USU_ID_USUARIO_CRIACAO,
       REP_RPA_VL_DESCONTO,
       CAD_UNI_ID_UNIDADE,
       REP_RPA_VL_ACRESCIMO,
       REP_RPA_DT_INICIO,
       REP_RPA_DT_FIM,
       ID_CAD_JPG,
       REP_PRA_VL_IMPOSTO,
       REP_RPA_FL_STATUS,
       REP_RPA_FONTE_PAGADORA,
       CAD_UNI_ID_UNIDADE_ATEND,
       CAD_LAT_ID_LOCAL_ATEND,
       REP_RPA_FL_ANTECIPACAO
       
FROM TB_REP_RPA_RESUMO_PAGTO

WHERE null is null  ' ;

OPEN v_cursor FOR
  V_SELECT || V_WHERE ;
  io_cursor := v_cursor;
end PRC_REP_RPA_RESUMO_PAGTO_L;
