--PRC_SEG_USU_USUARIO_R_L
 create or replace procedure PRC_SEG_USU_USUARIO_R_L 
(
     pSEG_USU_ID_USUARIO IN TB_SEG_USU_USUARIO.SEG_USU_ID_USUARIO%type DEFAULT NULL,
     pSEG_USU_DS_NOME IN TB_SEG_USU_USUARIO.SEG_USU_DS_NOME%type DEFAULT NULL,
     pSEG_USU_DS_LOGIN IN TB_SEG_USU_USUARIO.SEG_USU_DS_LOGIN%type DEFAULT NULL,
     pSEG_USU_DS_EMAIL IN TB_SEG_USU_USUARIO.SEG_USU_DS_EMAIL%type DEFAULT NULL,
     pSEG_USU_CD_PASSWORD IN TB_SEG_USU_USUARIO.SEG_USU_CD_PASSWORD%type DEFAULT NULL,
     pSEG_USU_CD_MATRICULA IN TB_SEG_USU_USUARIO.SEG_USU_CD_MATRICULA%type DEFAULT NULL,
     pSEG_USU_DS_TELEFONE IN TB_SEG_USU_USUARIO.SEG_USU_DS_TELEFONE%type DEFAULT NULL,
     pSEG_USU_DS_RAMAL IN TB_SEG_USU_USUARIO.SEG_USU_DS_RAMAL%type DEFAULT NULL,
     pSEG_USU_FL_TROCAR_SENHA_OK IN TB_SEG_USU_USUARIO.SEG_USU_FL_TROCAR_SENHA_OK%type DEFAULT NULL,
     pSEG_USU_FL_SENHA_NAO_EXPIR_OK IN TB_SEG_USU_USUARIO.SEG_USU_FL_SENHA_NAO_EXPIRA_OK%type DEFAULT NULL,
     pSEG_USU_DT_EXPIRACAO IN TB_SEG_USU_USUARIO.SEG_USU_DT_EXPIRACAO%type DEFAULT NULL,
     pSEG_USU_FL_STATUS IN TB_SEG_USU_USUARIO.SEG_USU_FL_STATUS%type DEFAULT NULL,
     pSEG_USU_FL_RESPONS_PERFIL_OK IN TB_SEG_USU_USUARIO.SEG_USU_FL_RESPONS_PERFIL_OK%type DEFAULT NULL,
     pSEG_USU_QT_LOGIN_INVALIDO IN TB_SEG_USU_USUARIO.SEG_USU_QT_LOGIN_INVALIDO%type DEFAULT NULL,
     pSEG_USU_DT_ULTIMA_ATUALIZACAO IN TB_SEG_USU_USUARIO.SEG_USU_DT_ULTIMA_ATUALIZACAO%type DEFAULT NULL,
     pSEG_USU_DT_LOGIN_INVALIDO IN TB_SEG_USU_USUARIO.SEG_USU_DT_LOGIN_INVALIDO%type DEFAULT NULL,
     pSEG_USU_ID_ATUALIZADO_POR IN TB_SEG_USU_USUARIO.SEG_USU_ID_ATUALIZADO_POR%type DEFAULT NULL,
     pSEG_USU_TP_INTER_EXTER IN TB_SEG_USU_USUARIO.SEG_USU_TP_INTER_EXTER%type DEFAULT NULL,
     pSEG_USU_DS_CARGO IN TB_SEG_USU_USUARIO.SEG_USU_DS_CARGO%type DEFAULT NULL,
     pSEG_USU_ID_USU_RESP_SUPERIOR IN TB_SEG_USU_USUARIO.SEG_USU_ID_USU_RESP_SUPERIOR%type DEFAULT NULL,
     io_cursor OUT PKG_CURSOR.t_cursor
) 
is
/********************************************************************
*    Procedure: PRC_SEG_USU_USUARIO_R_L
* 
*    Data Criacao: 	data da  criação   Por: Nome do Analista
*    Data Alteracao:	data da alteração  Por: Nome do Analista
*
*    Funcao: Descrição da funcionalidade da Stored Procedure
*
*******************************************************************/
 v_cursor PKG_CURSOR.t_cursor;
  V_WHERE  varchar2(5000);
  V_SELECT  varchar2(5000);
begin
  V_WHERE := NULL;
  IF pSEG_USU_ID_USUARIO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_ID_USUARIO = ' || pSEG_USU_ID_USUARIO; END IF;
IF pSEG_USU_DS_NOME IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_DS_NOME = ' || CHR(39) || pSEG_USU_DS_NOME || CHR(39); END IF;
IF pSEG_USU_DS_LOGIN IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_DS_LOGIN = ' || CHR(39) || pSEG_USU_DS_LOGIN || CHR(39); END IF;
IF pSEG_USU_DS_EMAIL IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_DS_EMAIL = ' || CHR(39) || pSEG_USU_DS_EMAIL || CHR(39); END IF;
IF pSEG_USU_CD_PASSWORD IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_CD_PASSWORD = ' || CHR(39) || pSEG_USU_CD_PASSWORD || CHR(39); END IF;
IF pSEG_USU_CD_MATRICULA IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_CD_MATRICULA = ' || pSEG_USU_CD_MATRICULA; END IF;
IF pSEG_USU_DS_TELEFONE IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_DS_TELEFONE = ' || CHR(39) || pSEG_USU_DS_TELEFONE || CHR(39); END IF;
IF pSEG_USU_DS_RAMAL IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_DS_RAMAL = ' || CHR(39) || pSEG_USU_DS_RAMAL || CHR(39); END IF;
IF pSEG_USU_FL_TROCAR_SENHA_OK IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_FL_TROCAR_SENHA_OK = ' || CHR(39) || pSEG_USU_FL_TROCAR_SENHA_OK || CHR(39); END IF;
IF pSEG_USU_FL_SENHA_NAO_EXPIR_OK IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_FL_SENHA_NAO_EXPIRA_OK = ' || CHR(39) || pSEG_USU_FL_SENHA_NAO_EXPIRA_OK || CHR(39); END IF;
IF pSEG_USU_DT_EXPIRACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_DT_EXPIRACAO = ' || CHR(39) || pSEG_USU_DT_EXPIRACAO || CHR(39); END IF;
IF pSEG_USU_FL_STATUS IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_FL_STATUS = ' || CHR(39) || pSEG_USU_FL_STATUS || CHR(39); END IF;
IF pSEG_USU_FL_RESPONS_PERFIL_OK IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_FL_RESPONS_PERFIL_OK = ' || CHR(39) || pSEG_USU_FL_RESPONS_PERFIL_OK || CHR(39); END IF;
IF pSEG_USU_QT_LOGIN_INVALIDO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_QT_LOGIN_INVALIDO = ' || pSEG_USU_QT_LOGIN_INVALIDO; END IF;
IF pSEG_USU_DT_ULTIMA_ATUALIZACAO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_DT_ULTIMA_ATUALIZACAO = ' || CHR(39) || pSEG_USU_DT_ULTIMA_ATUALIZACAO || CHR(39); END IF;
IF pSEG_USU_DT_LOGIN_INVALIDO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_DT_LOGIN_INVALIDO = ' || CHR(39) || pSEG_USU_DT_LOGIN_INVALIDO || CHR(39); END IF;
IF pSEG_USU_ID_ATUALIZADO_POR IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_ID_ATUALIZADO_POR = ' || pSEG_USU_ID_ATUALIZADO_POR; END IF;
IF pSEG_USU_TP_INTER_EXTER IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_TP_INTER_EXTER = ' || CHR(39) || pSEG_USU_TP_INTER_EXTER || CHR(39); END IF;
IF pSEG_USU_DS_CARGO IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_DS_CARGO = ' || CHR(39) || pSEG_USU_DS_CARGO || CHR(39); END IF;
IF pSEG_USU_ID_USU_RESP_SUPERIOR IS NOT NULL THEN V_WHERE:= V_WHERE || ' AND SEG_USU_ID_USU_RESP_SUPERIOR = ' || pSEG_USU_ID_USU_RESP_SUPERIOR; END IF;
 
   V_SELECT := '
SELECT	
       SEG_USU_ID_USUARIO,
       SEG_USU_DS_NOME,
       SEG_USU_DS_LOGIN,
       SEG_USU_DS_EMAIL,
       SEG_USU_CD_PASSWORD,
       SEG_USU_CD_MATRICULA,
       SEG_USU_DS_TELEFONE,
       SEG_USU_DS_RAMAL,
       SEG_USU_FL_TROCAR_SENHA_OK,
       SEG_USU_FL_SENHA_NAO_EXPIRA_OK,
       SEG_USU_DT_EXPIRACAO,
       SEG_USU_FL_STATUS,
       SEG_USU_FL_RESPONS_PERFIL_OK,
       SEG_USU_QT_LOGIN_INVALIDO,
       SEG_USU_DT_ULTIMA_ATUALIZACAO,
       SEG_USU_DT_LOGIN_INVALIDO,
       SEG_USU_ID_ATUALIZADO_POR,
       SEG_USU_TP_INTER_EXTER,
       SEG_USU_DS_CARGO,
       SEG_USU_ID_USU_RESP_SUPERIOR
FROM TB_SEG_USU_USUARIO
WHERE null is null  '    ;
       
OPEN v_cursor FOR
  V_SELECT || V_WHERE ;
  io_cursor := v_cursor;
end PRC_SEG_USU_USUARIO_R_L;
