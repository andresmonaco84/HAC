--PRC_REP_PPC_PAG_PROF_CLI_L
create or replace procedure PRC_REP_PPC_PAG_PROF_CLI_L 
(
     pREP_PPC_ID IN TB_REP_PPC_PAG_PROF_CLI.REP_PPC_ID%type DEFAULT NULL,
     pCAD_CLC_ID IN TB_REP_PPC_PAG_PROF_CLI.CAD_CLC_ID%type DEFAULT NULL,
     pCAD_UNI_ID_UNIDADE IN TB_REP_PPC_PAG_PROF_CLI.CAD_UNI_ID_UNIDADE%type DEFAULT NULL,
     pCAD_LAT_ID_LOCAL IN TB_REP_PPC_PAG_PROF_CLI.CAD_LAT_ID_LOCAL%type DEFAULT NULL,
     pCAD_PRO_ID_PROFISSIONAL IN TB_REP_PPC_PAG_PROF_CLI.CAD_PRO_ID_PROFISSIONAL%type DEFAULT NULL,
     pREP_PPC_VL_PAGO_HAC IN TB_REP_PPC_PAG_PROF_CLI.REP_PPC_VL_PAGO_HAC%type DEFAULT NULL,
     pREP_PPC_VL_PAGO_ACS IN TB_REP_PPC_PAG_PROF_CLI.REP_PPC_VL_PAGO_ACS%type DEFAULT NULL,
     pREP_PPC_MES_PAGTO IN TB_REP_PPC_PAG_PROF_CLI.REP_PPC_MES_PAGTO%type DEFAULT NULL,
     pREP_PPC_ANO_PAGTO IN TB_REP_PPC_PAG_PROF_CLI.REP_PPC_ANO_PAGTO%type DEFAULT NULL,
     pSEG_USU_ID_USUARIO IN TB_REP_PPC_PAG_PROF_CLI.SEG_USU_ID_USUARIO%type DEFAULT NULL,
     pREP_PPC_DT_ULTIMA_ATUALIZACAO IN TB_REP_PPC_PAG_PROF_CLI.REP_PPC_DT_ULTIMA_ATUALIZACAO%type DEFAULT NULL,
     pREP_RPA_ID IN TB_REP_PPC_PAG_PROF_CLI.REP_RPA_ID%type DEFAULT NULL,
     pREP_PPC_FL_PAGTO IN TB_REP_PPC_PAG_PROF_CLI.REP_PPC_FL_PAGTO%type DEFAULT NULL,
     pCAD_REP_TP_BASE_CALCULO IN TB_REP_PPC_PAG_PROF_CLI.CAD_REP_TP_BASE_CALCULO%type DEFAULT NULL,
     pREP_PPC_MES_FECHAMENTO IN TB_REP_PPC_PAG_PROF_CLI.REP_PPC_MES_FECHAMENTO%type DEFAULT NULL,
     pREP_PPC_ANO_FECHAMENTO IN TB_REP_PPC_PAG_PROF_CLI.REP_PPC_ANO_FECHAMENTO%type DEFAULT NULL,
     pREP_PPC_VL_HE_PAGO_HAC IN TB_REP_PPC_PAG_PROF_CLI.REP_PPC_VL_HE_PAGO_HAC%type DEFAULT NULL,
     pREP_PPC_VL_HE_PAGO_ACS IN TB_REP_PPC_PAG_PROF_CLI.REP_PPC_VL_HE_PAGO_ACS%type DEFAULT NULL,
     pREP_PPC_TP_CREDENCIA_PROF IN TB_REP_PPC_PAG_PROF_CLI.REP_PPC_TP_CREDENCIA_PROF%TYPE DEFAULT NULL,
     pREP_PPC_FONTE_PAGADORA IN TB_REP_PPC_PAG_PROF_CLI.REP_PPC_FONTE_PAGADORA%TYPE DEFAULT NULL,
     pSEG_USU_ID_USUARIO_CRIACAO IN TB_REP_PPC_PAG_PROF_CLI.SEG_USU_ID_USUARIO_CRIACAO%TYPE DEFAULT NULL,
     pREP_PPC_DT_CRIACAO IN TB_REP_PPC_PAG_PROF_CLI.REP_PPC_DT_CRIACAO%TYPE DEFAULT NULL,
	 pREP_PPC_FL_ANTECIPACAO IN TB_REP_PPC_PAG_PROF_CLI.REP_PPC_FL_ANTECIPACAO%TYPE DEFAULT NULL
     io_cursor OUT PKG_CURSOR.t_cursor
) 
is
/********************************************************************
*    Procedure: PRC_REP_PPC_PAG_PROF_CLI_L
* 
*    Data Criacao: 	data da  criação   Por: Nome do Analista
*    Data Alteracao:	data da alteração  Por: Nome do Analista
*
*    Funcao: Descrição da funcionalidade da Stored Procedure
*
*******************************************************************/
 v_cursor PKG_CURSOR.t_cursor;
  V_WHERE  varchar2(5000);
  V_SELECT  varchar2(5000);
begin
  V_WHERE := NULL;
  IF pREP_PPC_ID IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_PPC_ID = ' || pREP_PPC_ID; 
  END IF;
  IF pCAD_CLC_ID IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND CAD_CLC_ID = ' || pCAD_CLC_ID; 
  END IF;
  IF pCAD_UNI_ID_UNIDADE IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND CAD_UNI_ID_UNIDADE = ' || pCAD_UNI_ID_UNIDADE; 
  END IF;
  IF pCAD_LAT_ID_LOCAL IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND CAD_LAT_ID_LOCAL = ' || pCAD_LAT_ID_LOCAL; 
  END IF;
  IF pCAD_PRO_ID_PROFISSIONAL IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND CAD_PRO_ID_PROFISSIONAL = ' || pCAD_PRO_ID_PROFISSIONAL;
  END IF;
  IF pREP_PPC_VL_PAGO_HAC IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_PPC_VL_PAGO_HAC = ' || pREP_PPC_VL_PAGO_HAC; 
  END IF;
  IF pREP_PPC_VL_PAGO_ACS IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_PPC_VL_PAGO_ACS = ' || pREP_PPC_VL_PAGO_ACS; 
  END IF;
  IF pREP_PPC_MES_PAGTO IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_PPC_MES_PAGTO = ' || pREP_PPC_MES_PAGTO;
  END IF;
  IF pREP_PPC_ANO_PAGTO IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_PPC_ANO_PAGTO = ' || pREP_PPC_ANO_PAGTO; 
  END IF;
  IF pSEG_USU_ID_USUARIO IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND SEG_USU_ID_USUARIO = ' || pSEG_USU_ID_USUARIO;
  END IF;
  IF pREP_PPC_DT_ULTIMA_ATUALIZACAO IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_PPC_DT_ULTIMA_ATUALIZACAO = ' || CHR(39) || pREP_PPC_DT_ULTIMA_ATUALIZACAO || CHR(39); 
  END IF;
  IF pREP_RPA_ID IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_RPA_ID = ' || pREP_RPA_ID; 
  END IF;
  IF pREP_PPC_FL_PAGTO IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_PPC_FL_PAGTO = ' || CHR(39) || pREP_PPC_FL_PAGTO || CHR(39); 
  END IF;
  IF pCAD_REP_TP_BASE_CALCULO IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND CAD_REP_TP_BASE_CALCULO = ' || CHR(39) || pCAD_REP_TP_BASE_CALCULO || CHR(39); 
  END IF;
  IF pREP_PPC_MES_FECHAMENTO IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_PPC_MES_FECHAMENTO = ' || pREP_PPC_MES_FECHAMENTO; 
  END IF;
  IF pREP_PPC_ANO_FECHAMENTO IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_PPC_ANO_FECHAMENTO = ' || pREP_PPC_ANO_FECHAMENTO; 
  END IF;
  IF pREP_PPC_VL_HE_PAGO_HAC IS NOT NULL THEN
    V_WHERE:= V_WHERE || ' AND REP_PPC_VL_HE_PAGO_HAC = ' || pREP_PPC_VL_HE_PAGO_HAC; 
  END IF;
  IF pREP_PPC_VL_HE_PAGO_ACS IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_PPC_VL_HE_PAGO_ACS = ' || pREP_PPC_VL_HE_PAGO_ACS; 
  END IF;
  IF pREP_PPC_TP_CREDENCIA_PROF IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_PPC_TP_CREDENCIA_PROF = ' || CHR(39) || pREP_PPC_TP_CREDENCIA_PROF || CHR(39); 
  END IF;
  IF pREP_PPC_FONTE_PAGADORA IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_PPC_FONTE_PAGADORA = ' || CHR(39) || pREP_PPC_FONTE_PAGADORA || CHR(39); 
  END IF;
  IF pSEG_USU_ID_USUARIO_CRIACAO IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND SEG_USU_ID_USUARIO_CRIACAO = ' || pSEG_USU_ID_USUARIO_CRIACAO;
  END IF;
  IF pREP_PPC_DT_CRIACAO IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_PPC_DT_CRIACAO = ' || CHR(39) || pREP_PPC_DT_CRIACAO || CHR(39); 
  END IF;
  IF pREP_PPC_FL_ANTECIPACAO IS NOT NULL THEN 
    V_WHERE:= V_WHERE || ' AND REP_PPC_FL_ANTECIPACAO = ' || CHR(39) || pREP_PPC_FL_ANTECIPACAO || CHR(39); 
  END IF;
 
   V_SELECT := '
SELECT	
       REP_PPC_ID,
       CAD_CLC_ID,
       CAD_UNI_ID_UNIDADE,
       CAD_LAT_ID_LOCAL,
       CAD_PRO_ID_PROFISSIONAL,
       REP_PPC_VL_PAGO_HAC,
       REP_PPC_VL_PAGO_ACS,
       REP_PPC_MES_PAGTO,
       REP_PPC_ANO_PAGTO,
       SEG_USU_ID_USUARIO,
       REP_PPC_DT_ULTIMA_ATUALIZACAO,
       REP_RPA_ID,
       REP_PPC_FL_PAGTO,
       CAD_REP_TP_BASE_CALCULO,
       REP_PPC_MES_FECHAMENTO,
       REP_PPC_ANO_FECHAMENTO,
       REP_PPC_VL_HE_PAGO_HAC,
       REP_PPC_VL_HE_PAGO_ACS,
       REP_PPC_TP_CREDENCIA_PROF,
       REP_PPC_FONTE_PAGADORA,
       SEG_USU_ID_USUARIO_CRIACAO,
       REP_PPC_DT_CRIACAO,
	   REP_PPC_FL_ANTECIPACAO

FROM TB_REP_PPC_PAG_PROF_CLI
WHERE null is null  '    ;
       
OPEN v_cursor FOR
  V_SELECT || V_WHERE ;
  io_cursor := v_cursor;
end PRC_REP_PPC_PAG_PROF_CLI_L;
